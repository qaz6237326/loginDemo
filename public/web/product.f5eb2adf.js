(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{1058:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1197)).default;t.default=a},1112:function(e,t,n){"use strict";function a(e,t,n){if(n&&!e)return"请填写".concat(t);if(e){var a=e.split(":");if(a[0]&&!/^[_A-Z]{3,30}$/.test(a[0]))return"数据段只能是3-30位大写字母和“_”";if(a[1]&&!/^[_A-Za-z]{3,30}$/.test(a[1]))return"字段只能是3-30位大小写字母和“_”";if(a[0]&&!a[1])return"请填写".concat(t,"字段");if(!a[0]&&a[1])return"请填写".concat(t,"数据段")}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={site:function(e,t){if(!e)return"请填写厂区"},shop:function(e,t){if(!e)return"请填写厂别"},public_path:function(e,t){if(!e)return"请填写公共路径";var n=e.split("."),a="请正确填写公共路径IP，例如127.0.0.1";if(4!=n.length)return a;var r=!0,o=!1,l=void 0;try{for(var i,u=n[Symbol.iterator]();!(r=(i=u.next()).done);r=!0){var c=i.value;if(isNaN(c))return a;parseInt(c);if(c<0||c>255)return a}}catch(e){o=!0,l=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw l}}},csv_path:function(e,t){if(!e)return"请填写CSV路径"},nas_img_path:function(e,t){if(!e)return"请填写NAS图片路径"},csv_img_path:function(e,t){var n=a(e,"图片名称",!0);if(n)return n},csv_defect_size_path:function(e,t){var n=a(e,"DEFECT_SIZE",!0);if(n)return n},csv_ratio:function(e,t){var n=a(e,"RATIO");if(n)return n},csv_archieve1:function(e,t){var n=a(e,"Archieve1");if(n)return n},editing_field:function(e){if(console.log("editing_field:"+e),e){if("/"==e)return"请填写路径内容";var t=(e=e.substring(1)).split("/"),n=/(\{)?([^\}\{\[]+)(\[0\-)?(\d*)(\])?(\})?/,a=!0,r=!1,o=void 0;try{for(var l,i=t[Symbol.iterator]();!(a=(l=i.next()).done);a=!0){var u=l.value,c=n.exec(u);if(!c)return"请填写路径内容";if(console.log(c),c[1]){if(!c[2])return"请选择路径字段";if(c[3]){if(!c[4])return"请填写位数（1-1000的数字）";if(isNaN(c[4]))return"请正确填写位数（1-1000的数字）";if(parseInt(c[4])<1||parseInt(c[4])>1e3)return"请正确填写位数（1-1000的数字）"}}else if(!c[2])return"请填写路径内容"}}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}}}};t.default=r},1113:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.message=void 0;t.message={add:{title:"新建数据路径",intro:""},update:{title:"修改数据路径",intro:""}}},1114:function(e,t,n){e.exports=function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(e,t){var n=e[0],a=e[1],r=e[2],o=e[3];n+=(a&r|~a&o)+t[0]-680876936|0,o+=((n=(n<<7|n>>>25)+a|0)&a|~n&r)+t[1]-389564586|0,r+=((o=(o<<12|o>>>20)+n|0)&n|~o&a)+t[2]+606105819|0,a+=((r=(r<<17|r>>>15)+o|0)&o|~r&n)+t[3]-1044525330|0,n+=((a=(a<<22|a>>>10)+r|0)&r|~a&o)+t[4]-176418897|0,o+=((n=(n<<7|n>>>25)+a|0)&a|~n&r)+t[5]+1200080426|0,r+=((o=(o<<12|o>>>20)+n|0)&n|~o&a)+t[6]-1473231341|0,a+=((r=(r<<17|r>>>15)+o|0)&o|~r&n)+t[7]-45705983|0,n+=((a=(a<<22|a>>>10)+r|0)&r|~a&o)+t[8]+1770035416|0,o+=((n=(n<<7|n>>>25)+a|0)&a|~n&r)+t[9]-1958414417|0,r+=((o=(o<<12|o>>>20)+n|0)&n|~o&a)+t[10]-42063|0,a+=((r=(r<<17|r>>>15)+o|0)&o|~r&n)+t[11]-1990404162|0,n+=((a=(a<<22|a>>>10)+r|0)&r|~a&o)+t[12]+1804603682|0,o+=((n=(n<<7|n>>>25)+a|0)&a|~n&r)+t[13]-40341101|0,r+=((o=(o<<12|o>>>20)+n|0)&n|~o&a)+t[14]-1502002290|0,a+=((r=(r<<17|r>>>15)+o|0)&o|~r&n)+t[15]+1236535329|0,n+=((a=(a<<22|a>>>10)+r|0)&o|r&~o)+t[1]-165796510|0,o+=((n=(n<<5|n>>>27)+a|0)&r|a&~r)+t[6]-1069501632|0,r+=((o=(o<<9|o>>>23)+n|0)&a|n&~a)+t[11]+643717713|0,a+=((r=(r<<14|r>>>18)+o|0)&n|o&~n)+t[0]-373897302|0,n+=((a=(a<<20|a>>>12)+r|0)&o|r&~o)+t[5]-701558691|0,o+=((n=(n<<5|n>>>27)+a|0)&r|a&~r)+t[10]+38016083|0,r+=((o=(o<<9|o>>>23)+n|0)&a|n&~a)+t[15]-660478335|0,a+=((r=(r<<14|r>>>18)+o|0)&n|o&~n)+t[4]-405537848|0,n+=((a=(a<<20|a>>>12)+r|0)&o|r&~o)+t[9]+568446438|0,o+=((n=(n<<5|n>>>27)+a|0)&r|a&~r)+t[14]-1019803690|0,r+=((o=(o<<9|o>>>23)+n|0)&a|n&~a)+t[3]-187363961|0,a+=((r=(r<<14|r>>>18)+o|0)&n|o&~n)+t[8]+1163531501|0,n+=((a=(a<<20|a>>>12)+r|0)&o|r&~o)+t[13]-1444681467|0,o+=((n=(n<<5|n>>>27)+a|0)&r|a&~r)+t[2]-51403784|0,r+=((o=(o<<9|o>>>23)+n|0)&a|n&~a)+t[7]+1735328473|0,a+=((r=(r<<14|r>>>18)+o|0)&n|o&~n)+t[12]-1926607734|0,n+=((a=(a<<20|a>>>12)+r|0)^r^o)+t[5]-378558|0,o+=((n=(n<<4|n>>>28)+a|0)^a^r)+t[8]-2022574463|0,r+=((o=(o<<11|o>>>21)+n|0)^n^a)+t[11]+1839030562|0,a+=((r=(r<<16|r>>>16)+o|0)^o^n)+t[14]-35309556|0,n+=((a=(a<<23|a>>>9)+r|0)^r^o)+t[1]-1530992060|0,o+=((n=(n<<4|n>>>28)+a|0)^a^r)+t[4]+1272893353|0,r+=((o=(o<<11|o>>>21)+n|0)^n^a)+t[7]-155497632|0,a+=((r=(r<<16|r>>>16)+o|0)^o^n)+t[10]-1094730640|0,n+=((a=(a<<23|a>>>9)+r|0)^r^o)+t[13]+681279174|0,o+=((n=(n<<4|n>>>28)+a|0)^a^r)+t[0]-358537222|0,r+=((o=(o<<11|o>>>21)+n|0)^n^a)+t[3]-722521979|0,a+=((r=(r<<16|r>>>16)+o|0)^o^n)+t[6]+76029189|0,n+=((a=(a<<23|a>>>9)+r|0)^r^o)+t[9]-640364487|0,o+=((n=(n<<4|n>>>28)+a|0)^a^r)+t[12]-421815835|0,r+=((o=(o<<11|o>>>21)+n|0)^n^a)+t[15]+530742520|0,a+=((r=(r<<16|r>>>16)+o|0)^o^n)+t[2]-995338651|0,n+=(r^((a=(a<<23|a>>>9)+r|0)|~o))+t[0]-198630844|0,o+=(a^((n=(n<<6|n>>>26)+a|0)|~r))+t[7]+1126891415|0,r+=(n^((o=(o<<10|o>>>22)+n|0)|~a))+t[14]-1416354905|0,a+=(o^((r=(r<<15|r>>>17)+o|0)|~n))+t[5]-57434055|0,n+=(r^((a=(a<<21|a>>>11)+r|0)|~o))+t[12]+1700485571|0,o+=(a^((n=(n<<6|n>>>26)+a|0)|~r))+t[3]-1894986606|0,r+=(n^((o=(o<<10|o>>>22)+n|0)|~a))+t[10]-1051523|0,a+=(o^((r=(r<<15|r>>>17)+o|0)|~n))+t[1]-2054922799|0,n+=(r^((a=(a<<21|a>>>11)+r|0)|~o))+t[8]+1873313359|0,o+=(a^((n=(n<<6|n>>>26)+a|0)|~r))+t[15]-30611744|0,r+=(n^((o=(o<<10|o>>>22)+n|0)|~a))+t[6]-1560198380|0,a+=(o^((r=(r<<15|r>>>17)+o|0)|~n))+t[13]+1309151649|0,n+=(r^((a=(a<<21|a>>>11)+r|0)|~o))+t[4]-145523070|0,o+=(a^((n=(n<<6|n>>>26)+a|0)|~r))+t[11]-1120210379|0,r+=(n^((o=(o<<10|o>>>22)+n|0)|~a))+t[2]+718787259|0,a=((a+=(o^((r=(r<<15|r>>>17)+o|0)|~n))+t[9]-343485551|0)<<21|a>>>11)+r|0,e[0]=n+e[0]|0,e[1]=a+e[1]|0,e[2]=r+e[2]|0,e[3]=o+e[3]|0}function a(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function o(e){var t,r,o,l,i,u,c=e.length,s=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)n(s,a(e.substring(t-64,t)));for(e=e.substring(t-64),r=e.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(s,o),t=0;t<16;t+=1)o[t]=0;return l=(l=8*c).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(l[2],16),u=parseInt(l[1],16)||0,o[14]=i,o[15]=u,n(s,o),s}function l(e){var n,a="";for(n=0;n<4;n+=1)a+=t[e>>8*n+4&15]+t[e>>8*n&15];return a}function i(e){var t;for(t=0;t<e.length;t+=1)e[t]=l(e[t]);return e.join("")}function u(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function c(e){var t,n=[],a=e.length;for(t=0;t<a-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function s(){this.reset()}return i(o("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,a){var r,o,l,i,u=this.byteLength,c=t(n,u),s=u;return a!==e&&(s=t(a,u)),c>s?new ArrayBuffer(0):(r=s-c,o=new ArrayBuffer(r),l=new Uint8Array(o),i=new Uint8Array(this,c,r),l.set(i),o)}}(),s.prototype.append=function(e){return this.appendBinary(u(e)),this},s.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,r=this._buff.length;for(t=64;t<=r;t+=64)n(this._hash,a(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},s.prototype.end=function(e){var t,n,a=this._buff,r=a.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)o[t>>2]|=a.charCodeAt(t)<<(t%4<<3);return this._finish(o,r),n=i(this._hash),e&&(n=c(n)),this.reset(),n},s.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},s.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},s.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},s.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},s.prototype._finish=function(e,t){var a,r,o,l=t;if(e[l>>2]|=128<<(l%4<<3),l>55)for(n(this._hash,e),l=0;l<16;l+=1)e[l]=0;a=(a=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(a[2],16),o=parseInt(a[1],16)||0,e[14]=r,e[15]=o,n(this._hash,e)},s.hash=function(e,t){return s.hashBinary(u(e),t)},s.hashBinary=function(e,t){var n=i(o(e));return t?c(n):n},s.ArrayBuffer=function(){this.reset()},s.ArrayBuffer.prototype.append=function(e){var t,a=function(e,t,n){var a=new Uint8Array(e.byteLength+t.byteLength);return a.set(new Uint8Array(e)),a.set(new Uint8Array(t),e.byteLength),n?a:a.buffer}(this._buff.buffer,e,!0),o=a.length;for(this._length+=e.byteLength,t=64;t<=o;t+=64)n(this._hash,r(a.subarray(t-64,t)));return this._buff=t-64<o?new Uint8Array(a.buffer.slice(t-64)):new Uint8Array(0),this},s.ArrayBuffer.prototype.end=function(e){var t,n,a=this._buff,r=a.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)o[t>>2]|=a[t]<<(t%4<<3);return this._finish(o,r),n=i(this._hash),e&&(n=c(n)),this.reset(),n},s.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},s.ArrayBuffer.prototype.getState=function(){var e=s.prototype.getState.call(this);return e.buff=function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}(e.buff),e},s.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var n,a=e.length,r=new ArrayBuffer(a),o=new Uint8Array(r);for(n=0;n<a;n+=1)o[n]=e.charCodeAt(n);return t?o:r}(e.buff,!0),s.prototype.setState.call(this,e)},s.ArrayBuffer.prototype.destroy=s.prototype.destroy,s.ArrayBuffer.prototype._finish=s.prototype._finish,s.ArrayBuffer.hash=function(e,t){var a=i(function(e){var t,a,o,l,i,u,c=e.length,s=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)n(s,r(e.subarray(t-64,t)));for(e=t-64<c?e.subarray(t-64):new Uint8Array(0),a=e.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<a;t+=1)o[t>>2]|=e[t]<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(s,o),t=0;t<16;t+=1)o[t]=0;return l=(l=8*c).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(l[2],16),u=parseInt(l[1],16)||0,o[14]=i,o[15]=u,n(s,o),s}(new Uint8Array(e)));return t?c(a):a},s}()},1169:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),r=n(24),o=n(25);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return f(s(s(n=function(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?s(e):t}(this,(e=u(t)).call.apply(e,[this].concat(r))))),"handleOK",function(){var e=n.props.confirmAction;n.props.dispatch({type:"productManage/closeConfirmDialog"}),n.props.dispatch(e)}),f(s(s(n)),"handleCancel",function(){n.props.dispatch({type:"productManage/closeConfirmDialog"})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,a.default.Component),function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.visible,r=e.okText,l=e.hint;return a.default.createElement(o.Dialog,{title:t,visible:n,okText:r,cancelText:"取消",onOk:this.handleOK,onCancel:this.handleCancel},l)}}]),t}(),d=(0,r.connect)(function(e){var t=e.productManage.confirm;return{confirmAction:t.confirmAction,title:t.title,visible:t.visible,okText:t.okText,hint:t.hint}})(p);t.default=d},1170:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),r=n(24),o=n(55),l=n(25);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return p(f(f(n=function(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?f(e):t}(this,(e=c(t)).call.apply(e,[this].concat(r))))),"handleOK",function(){var e=n.props.refreshAction;n.props.dispatch(e),n.props.dispatch({type:"productManage/closeConflictDialog"})}),p(f(f(n)),"handleCancel",function(){n.props.dispatch({type:"productManage/closeConflictDialog"})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,a.default.Component),function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.visible,r=e.hint,i=e.data,u=e.keys,c=r.split("#").map(function(e){switch(e){case"{length}":return a.default.createElement("span",{className:"text-danger"},i.length);case"{link}":return a.default.createElement(o.Link,{to:"/jobs",title:"检测项目管理"},"检测项目管理");default:return e}});return a.default.createElement(l.Dialog,{title:t,visible:n,okText:"刷新检测",cancelText:"取消",onOk:this.handleOK,onCancel:this.handleCancel},a.default.createElement(a.default.Fragment,null,a.default.createElement("p",{className:"text mb-10"},c),u[0]?a.default.createElement(l.DataTable,{columns:u.map(function(e){var t=e.key;return{key:t,dataIndex:t,title:e.title}}),data:i,scroll:{y:330}}):""))}}]),t}(),h=(0,r.connect)(function(e){var t=e.productManage.conflict;return{title:t.title,visible:t.visible,hint:t.hint,refreshAction:t.refreshAction,data:t.data,keys:t.keys}})(d);t.default=h},1171:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=l(n(0)),r=n(55),o=l(n(172));function l(e){return e&&e.__esModule?e:{default:e}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function c(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,s(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,a.default.Component),function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(t,[{key:"getSelectedMenuKeys",value:function(){var e=this.props.location.pathname,t=e.split("/");return t.length>3&&(e=t.slice(0,3).join("/")),e}},{key:"render",value:function(){var e=this.getSelectedMenuKeys(),t=this.props.menu;return a.default.createElement("ul",{role:"tablist",className:"tc-15-tablist"},t.map(function(t){return a.default.createElement("li",{key:t.path,className:(0,o.default)({"tc-cur":t.path.indexOf(e)>-1})},a.default.createElement(r.Link,{to:t.path,title:t.name,role:"tab"},t.name))}))}}]),t}();t.default=p},1172:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(0)),r=n(24),o=n(25),l=(n(1113),i(n(1112)));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(p(p(n=function(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?p(e):t}(this,s(t).call(this,e)))),"getPaths",function(e){var t=e.split("/"),n=[],a=/(\{)?([^\}\{\[]+)(\[0\-)?(\d*)(\])?(\})?/,r=!0,o=!1,l=void 0;try{for(var i,u=t[Symbol.iterator]();!(r=(i=u.next()).done);r=!0){var c=i.value,s=a.exec(c);if(s){var f={type:1,sels:{value1:"",value2:""},limit:"",text:""};s[1]&&s[6]?(f.sels.value1=s[2],s[3]&&s[5]?(f.type=3,f.limit=s[4],f.sels.value2="2"):(f.type=2,f.sels.value2="1")):f.text=s[2],n.push(f)}}}catch(e){o=!0,l=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw l}}return n}),d(p(p(n)),"getDisPath",function(e){var t="",n=!0,a=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var i=o.value;if(1==i.type){var u=i.text;t+="/"+(u=(u=(u=u.replace(/^([\/]+)/,"")).replace(/([\/]+)$/,"")).replace(/([\/]+)/g,"/"))}else 2==i.type?t+="/{"+i.sels.value1+"}":t+="/{"+i.sels.value1+"[0-"+i.limit+"]}"}}catch(e){a=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw r}}return t}),d(p(p(n)),"setPathsState",function(e){var t=n.getDisPath(e);n.setState({sPath:e,disPath:t})}),d(p(p(n)),"handleChange",function(e,t,a){var r=n.state.sPaths;r[e][t]=a.target.value,n.setPathsState(r)}),d(p(p(n)),"handleSelChange",function(e,t,a){var r=n.state.sPaths;r[e].sels[t]=a,"value2"==t&&(r[e].type="2"==a?3:2),n.setPathsState(r)}),d(p(p(n)),"handleDown",function(e){var t=n.state.sPaths;if(e<t.length-1){var a=t[e],r=t[e+1];t.splice(e,2,r,a)}n.setPathsState(t)}),d(p(p(n)),"handleUp",function(e){var t=n.state.sPaths;if(e>0){var a=t[e],r=t[e-1];t.splice(e-1,2,a,r)}n.setPathsState(t)}),d(p(p(n)),"handleDel",function(e){var t=n.state.sPaths;t.splice(e,1),n.setPathsState(t)}),d(p(p(n)),"handleAddField",function(e){var t=n.state.sPaths,a={type:e,sels:{value1:"",value2:""},limit:"",text:""};t.push(a),n.setPathsState(t)}),d(p(p(n)),"handleCancel",function(){n.props.dispatch({type:"dataPath/change",payload:{showPathEditor:!1}})}),d(p(p(n)),"handleOK",function(){var e={};e[n.props.editing_field]=n.state.disPath;var t=function(e){for(var t in e)if(l.default[t]){var n=l.default[t](e[t],e);if(n)return{message:n,field:t,value:e[t]}}return null}({editing_field:n.state.disPath});t?(0,o.TopTips)({theme:"error",message:t.message}):n.props.dispatch({type:"dataPath/change",payload:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){d(e,t,n[t])})}return e}({showPathEditor:!1},e)})});var a,r=e[e.editing_field];return a=n.getPaths(r),n.state={sPaths:a,disPath:r},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,a.default.Component),function(e,t,n){t&&c(e.prototype,t),n&&c(e,n)}(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this,t=(this.props.public_path,[{text:"HEADER:MESSAGENAME",value:"HEADER:MESSAGENAME"},{text:"HEADER:TRANSACTIONID",value:"HEADER:TRANSACTIONID"},{text:"HEADER:REPLYSUBJECTNAME",value:"HEADER:REPLYSUBJECTNAME"},{text:"HEADER:LISTENER",value:"HEADER:LISTENER"},{text:"BODY:PRODUCTNAME",value:"BODY:PRODUCTNAME"},{text:"BODY:PRODUCTSPECNAME",value:"BODY:PRODUCTSPECNAME"},{text:"BODY:EQPTYPE",value:"BODY:EQPTYPE"},{text:"BODY:PROCESSOPERATIONNAME",value:"BODY:PROCESSOPERATIONNAME"},{text:"BODY:SITE",value:"BODY:SITE"},{text:"BODY:FACTORYNAME",value:"BODY:FACTORYNAME"}]),n=[{text:"全部字段",value:"1"},{text:"前N位",value:"2"}];return a.default.createElement(o.Dialog,{title:"编辑路径",okText:"确定",visible:!0,cancelText:"取消",onOk:this.handleOK,onCancel:this.handleCancel,style:{width:"800px"}},a.default.createElement("ul",{className:"form-list form-list-vertical"},a.default.createElement("li",null,a.default.createElement("div",{className:"form-label"},a.default.createElement("label",{htmlFor:""},"预览")),a.default.createElement("div",{className:"form-input"},a.default.createElement("div",{className:"form-unit"},a.default.createElement("div",{className:"tc-15-msg adc-dialog-msg-gray"},a.default.createElement("div",{className:"tip-info"},this.state.disPath))))),a.default.createElement("li",null,a.default.createElement("div",{className:"form-label"},a.default.createElement("label",{htmlFor:""},"编辑")),a.default.createElement("div",{className:"form-input"},a.default.createElement("div",{className:"form-unit"},a.default.createElement("div",{className:"tc-15-table-panel"},a.default.createElement("div",{className:"tc-15-table-fixed-head"},a.default.createElement("table",{className:"tc-15-table-box"},a.default.createElement("colgroup",null,a.default.createElement("col",{style:{width:"60px"}}),a.default.createElement("col",null),a.default.createElement("col",{style:{width:"130px"}})),a.default.createElement("thead",null,a.default.createElement("tr",null,a.default.createElement("th",null,a.default.createElement("div",null,a.default.createElement("span",{className:"text-overflow"},"顺序")),a.default.createElement("i",{className:"resize-line-icon"})),a.default.createElement("th",null,a.default.createElement("div",null,a.default.createElement("span",{className:"text-overflow"},"内容")),a.default.createElement("i",{className:"resize-line-icon"})),a.default.createElement("th",null,a.default.createElement("div",null,a.default.createElement("span",{className:"text-overflow"},"操作"))))))),a.default.createElement("div",{className:"tc-15-table-fixed-body",style:{maxHeight:screen.availHeight/3+"px",overflow:"scroll",display:"block"}},a.default.createElement("table",{className:"tc-15-table-box tc-15-table-rowhover"},a.default.createElement("colgroup",null,a.default.createElement("col",{style:{width:"60px"}}),a.default.createElement("col",null),a.default.createElement("col",{style:{width:"130px"}})),a.default.createElement("tbody",null,this.state.sPaths.map(function(r,l,i){return a.default.createElement("tr",{key:l.toString()},a.default.createElement("td",null,a.default.createElement("div",null,a.default.createElement("span",null,l+1))),a.default.createElement("td",null,a.default.createElement("div",null,2==r.type||3==r.type?a.default.createElement(o.Select,{className:"tc-15-select m mr-5",value:r.sels.value1,list:t,selectFirstByDefault:!1,placeholder:"请选择字段",onChange:function(t){return e.handleSelChange(l,"value1",t)}}):"",2==r.type||3==r.type?a.default.createElement(o.Select,{disabled:!r.sels.value1,className:"tc-15-select m",value:r.sels.value2,list:n,selectFirstByDefault:!0,onChange:function(t){return e.handleSelChange(l,"value2",t)}}):"",3==r.type?a.default.createElement("div",{className:"tc-input-group-wrap s adc-dialog-group-wrap"},a.default.createElement("div",{className:"tc-input-group"},a.default.createElement("span",{className:"tc-input-group-addon"},"N="),a.default.createElement(o.Input,{style:{"min-width":"83px"},className:"tc-15-input-text s",value:r.limit,type:"number",min:"1",max:"1000",onChange:function(t){return e.handleChange(l,"limit",t)}}))):"",1==r.type?a.default.createElement(o.Input,{className:"tc-15-input-text xl",value:r.text,onChange:function(t){return e.handleChange(l,"text",t)}}):"")),a.default.createElement("td",null,a.default.createElement("div",null,a.default.createElement("a",{href:"javascript:;",onClick:function(t){return e.handleDel(l)}},"删除"),l==i.length-1?"":a.default.createElement("a",{href:"javascript:;",onClick:function(t){return e.handleDown(l)}},"下移"),0==l?"":a.default.createElement("a",{href:"javascript:;",onClick:function(t){return e.handleUp(l)}},"上移"))))})))),a.default.createElement("div",{className:"tc-15-table-fixed-body"},a.default.createElement("table",{className:"tc-15-table-box tc-15-table-rowhover"},a.default.createElement("colgroup",null,a.default.createElement("col",{style:{width:"60px"}}),a.default.createElement("col",null),a.default.createElement("col",{style:{width:"130px"}})),a.default.createElement("tbody",null,a.default.createElement("tr",null,a.default.createElement("td",{colSpan:"3"},a.default.createElement("div",{className:"text-left"},a.default.createElement("a",{href:"javascript:;",onClick:function(t){return e.handleAddField(2)}},"+ 增加逻辑生成字段"),a.default.createElement("a",{href:"javascript:;",onClick:function(t){return e.handleAddField(1)}},"+ 增加输入字段")))))))))))))}}]),t}(),m=(0,r.connect)(function(e){var t=e.dataPath;return{public_path:t.public_path,csv_path:t.csv_path,nas_img_path:t.nas_img_path,editing_field:t.editing_field}})(h);t.default=m},1173:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=c(n(0)),r=n(55),o=n(24),l=n(25),i=(n(1113),c(n(1112))),u=c(n(1172));function c(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){y(e,t,n[t])})}return e}function p(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),y(m(m(n=function(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?m(e):t}(this,d(t).call(this,e)))),"handleSiteChange",function(e){n.dispatchChange({type:"dataPath/change",payload:{site:e,shop:"",operation:""}})}),y(m(m(n)),"handleShopChange",function(e){n.dispatchChange({type:"dataPath/change",payload:{shop:e,operation:""}})}),y(m(m(n)),"handleChange",function(e,t){n.dispatchChange({type:"dataPath/change",payload:y({},e,t.target.value.trim())})}),y(m(m(n)),"handleCSVContentChange",function(e,t){n.setState(y({},e,t.target.value.trim()))}),y(m(m(n)),"handleEditPath",function(e){n.dispatchChange({type:"dataPath/change",payload:{showPathEditor:!0,editing_field:e}})}),y(m(m(n)),"handleCopyPath",function(e,t){var a={};a[t]=n.props[e],n.dispatchChange({type:"dataPath/change",payload:f({},a)})}),y(m(m(n)),"handleOK",function(){var e=n.props,t=e.id,a=e.site,r=e.shop,o=e.public_path,u=e.csv_path,c=e.nas_img_path,s=e.siteMap,p=e.editMode;if(!e.isSubmitting){var d={id:t,site:a,shop:r,public_path:o.replace(/[^\d\.]/g,""),csv_path:u,nas_img_path:c,csv_img_path:"".concat(n.state.img_position_1,":").concat(n.state.img_position_2),csv_defect_size_path:"".concat(n.state.ds_position_1,":").concat(n.state.ds_position_2),csv_ratio_path:"".concat(n.state.ratio_position_1,":").concat(n.state.ratio_position_2),csv_archieve1_path:"".concat(n.state.archieve1_position_1,":").concat(n.state.archieve1_position_2),siteMap:s};1==d.csv_img_path.length&&(d.csv_img_path=""),1==d.csv_defect_size_path.length&&(d.csv_defect_size_path=""),1==d.csv_ratio_path.length&&(d.csv_ratio_path=""),1==d.csv_archieve1_path.length&&(d.csv_archieve1_path="");var h=function(e){for(var t in e)if(i.default[t]){var n=i.default[t](e[t],e);if(n)return{message:n,field:t,value:e[t]}}return null}(d);if(h)(0,l.TopTips)({theme:"error",message:h.message});else{n.props.dispatch({type:"dataPath/startSubmit",payload:f({},d)});var y="add"==p?"新增":"更新",b=m(m(n));n.props.dispatch({type:"dataPath/".concat(p,"Path"),payload:f({},d),callback:function(e){e&&0==e.code?((0,l.TopTips)({theme:"success",message:y+"成功"}),b.props.dispatch({type:"dataPath/endSubmit",payload:f({},d)}),b.props.history.replace("/product/dataPath")):((0,l.TopTips)({theme:"error",message:y+"失败："+(e&&e.msg)}),b.props.dispatch({type:"dataPath/endSubmit",payload:f({},d)}))}})}}}),n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,a.default.Component),function(e,t,n){t&&p(e.prototype,t),n&&p(e,n)}(t,[{key:"dispatchChange",value:function(e){var t={csv_img_path:"".concat(this.state.img_position_1,":").concat(this.state.img_position_2),csv_defect_size_path:"".concat(this.state.ds_position_1,":").concat(this.state.ds_position_2),csv_ratio_path:"".concat(this.state.ratio_position_1,":").concat(this.state.ratio_position_2),csv_archieve1_path:"".concat(this.state.archieve1_position_1,":").concat(this.state.archieve1_position_2)};this.props.dispatch({type:e.type,payload:f({},t,e.payload)})}},{key:"componentWillMount",value:function(){var e=this.props.match.params.id;"new"===e?this.props.dispatch({type:"dataPath/showAdd"}):(this.props.dispatch({type:"dataPath/fetchPath",payload:{id:e}}),this.dispatchChange({type:"dataPath/change",payload:{id:e,editMode:"update"}}))}},{key:"componentWillReceiveProps",value:function(e){var t,n=e,a="",r="",o="",l="",i="",u="",c="",s="";n.csv_img_path&&((t=n.csv_img_path.split(":"))[0]&&(a=t[0]),t[1]&&(r=t[1])),n.csv_defect_size_path&&((t=n.csv_defect_size_path.split(":"))[0]&&(o=t[0]),t[1]&&(l=t[1])),n.csv_ratio_path&&((t=n.csv_ratio_path.split(":"))[0]&&(i=t[0]),t[1]&&(u=t[1])),n.csv_archieve1_path&&((t=n.csv_archieve1_path.split(":"))[0]&&(c=t[0]),t[1]&&(s=t[1])),this.setState({img_position_1:a,img_position_2:r,ds_position_1:o,ds_position_2:l,ratio_position_1:i,ratio_position_2:u,archieve1_position_1:c,archieve1_position_2:s})}},{key:"render",value:function(){var e,t=this,n=this.props,o=n.site,i=n.shop,c=n.public_path,s=n.csv_path,f=n.nas_img_path,p=n.siteMap,d=n.isSiteMapLoading,h=n.editMode,m=n.showPathEditor,b=[],v=p.map(function(t){return t.site===o&&(e=t),{text:t.site,value:t.site}});e&&e.factory_list&&(b=e.factory_list.map(function(e){return{text:e.factory_name,value:e.factory_name}}));return a.default.createElement("div",null,a.default.createElement("div",{className:"manage-area-title secondary-title"},a.default.createElement(r.Link,{to:"/product/dataPath",title:"返回",className:"back-link"},a.default.createElement("i",{className:"btn-back-icon"}),"返回"),a.default.createElement("span",{className:"line-icon"},"|"),a.default.createElement("h2",null,"update"==h?"修改":"新建","数据路径")),a.default.createElement("div",{className:"manage-area-main secondary-main"},a.default.createElement("div",{className:"manage-area-main-inner"},a.default.createElement("div",{className:"tc-panel"},a.default.createElement("div",{className:"tc-panel-bd"},a.default.createElement("div",{className:"param-box"},a.default.createElement("div",{className:"param-hd"},a.default.createElement("h3",null,"基础信息")),a.default.createElement("div",{className:"param-bd"},a.default.createElement("ul",{className:"form-list"},a.default.createElement("li",null,a.default.createElement("div",{className:"form-label"},a.default.createElement("label",{htmlFor:"addPath-site"},"厂区")),a.default.createElement(l.Select,{id:"addPath-site",value:o,list:v,disabled:d,onChange:this.handleSiteChange,placeholder:"请选择厂区"})),a.default.createElement("li",null,a.default.createElement("div",{className:"form-label"},a.default.createElement("label",{htmlFor:"addPath-shop"},"厂别")),a.default.createElement(l.Select,y({id:"addPath-shop",value:i,list:b,disabled:d,onChange:this.handleShopChange,placeholder:"请选择厂别"},"disabled",!o))),a.default.createElement("li",null,a.default.createElement("div",{className:"form-label"},a.default.createElement("label",{htmlFor:"addPath-public_path"},"公共路径(IP)")),a.default.createElement(l.Input,{id:"addPath-public_path",onChange:function(e){return t.handleChange("public_path",e)},value:c,placeholder:"请输入IP，如192.168.1.1"})),a.default.createElement("li",{className:"pure-text-row"},a.default.createElement("div",{className:"form-label "},a.default.createElement("label",{htmlFor:""},"CSV路径")),a.default.createElement("div",{className:"form-input"},a.default.createElement("div",{className:"form-unit"},a.default.createElement("p",{className:"form-text"},a.default.createElement("span",{className:"mr-10"},s),a.default.createElement("a",{href:"javascript:;",onClick:function(e){return t.handleEditPath("csv_path")}},"编辑"),s?a.default.createElement("a",{href:"javascript:;",onClick:function(e){return t.handleCopyPath("csv_path","nas_img_path")},style:{paddingLeft:"20px"}},"复制到NAS图片路径"):"")))),a.default.createElement("li",{className:"pure-text-row"},a.default.createElement("div",{className:"form-label "},a.default.createElement("label",{htmlFor:""},"NAS图片路径")),a.default.createElement("div",{className:"form-input"},a.default.createElement("div",{className:"form-unit"},a.default.createElement("p",{className:"form-text"},a.default.createElement("span",{className:"mr-10"},f),a.default.createElement("a",{href:"javascript:;",onClick:function(e){return t.handleEditPath("nas_img_path")}},"编辑"),f?a.default.createElement("a",{href:"javascript:;",style:{paddingLeft:"20px"},onClick:function(e){return t.handleCopyPath("nas_img_path","csv_path")}},"复制到CSV路径"):""))))))),a.default.createElement("div",{className:"param-box"},a.default.createElement("div",{className:"param-hd"},a.default.createElement("h3",null,"CSV文件内容解析")),a.default.createElement("div",{className:"param-bd"},a.default.createElement("ul",{className:"form-list"},[{title:"图片名称",field1:{name:"img_position_1",placeholder:"如DEFECT_DATA_BEGIN"},field2:{name:"img_position_2",placeholder:"如Image_Data"}},{title:"DEFECT_SIZE",field1:{name:"ds_position_1",placeholder:"如DEFECT_DATA_BEGIN"},field2:{name:"ds_position_2",placeholder:"如DEFECT_SIZE"}},{title:"RATIO（选填）",field1:{name:"ratio_position_1",placeholder:"如DEFECT_DATA_BEGIN"},field2:{name:"ratio_position_2",placeholder:"如RATIO"}},{title:"Archieve1（选填）",field1:{name:"archieve1_position_1",placeholder:"如DEFECT_DATA_BEGIN"},field2:{name:"archieve1_position_2",placeholder:"如Archieve1"}}].map(function(e,n){return a.default.createElement("li",{key:n},a.default.createElement("div",{className:"form-label "},a.default.createElement("label",{htmlFor:""},e.title)),a.default.createElement("div",{className:"form-input"},a.default.createElement("div",{className:"form-unit"},a.default.createElement("div",{className:"tc-input-group-wrap mr-10"},a.default.createElement("div",{className:"tc-input-group"},a.default.createElement("span",{className:"tc-input-group-addon"},"数据段"),a.default.createElement(l.Input,{onChange:function(n){return t.handleCSVContentChange(e.field1.name,n)},value:t.state[e.field1.name],placeholder:e.field1.placeholder}))),a.default.createElement("div",{className:"tc-input-group-wrap"},a.default.createElement("div",{className:"tc-input-group"},a.default.createElement("span",{className:"tc-input-group-addon"},"字段"),a.default.createElement(l.Input,{onChange:function(n){return t.handleCSVContentChange(e.field2.name,n)},value:t.state[e.field2.name],placeholder:e.field2.placeholder}))))))}))))),a.default.createElement("div",{className:"tc-panel-ft"},a.default.createElement(l.Button,{onClick:this.handleOK},"确定"),a.default.createElement(r.Link,{to:"/product/dataPath",title:"取消"},a.default.createElement(l.Button,{className:"tc-15-btn weak"},"取消")))))),m?a.default.createElement(u.default,null):"")}}]),t}(),v=(0,o.connect)(function(e){var t=e.dataPath,n=e.productManage;return{editMode:t.editMode,id:t.id,site:t.site,shop:t.shop,public_path:t.public_path,csv_path:t.csv_path,nas_img_path:t.nas_img_path,csv_img_path:t.csv_img_path,csv_defect_size_path:t.csv_defect_size_path,siteMap:n.siteMap,isSiteMapLoading:n.isSiteMapLoading,csv_ratio_path:t.csv_ratio_path,csv_archieve1_path:t.csv_archieve1_path,showPathEditor:t.showPathEditor,isSubmitting:t.isSubmitting}})(b);t.default=v},1174:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),r=n(24),o=n(25);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return f(s(s(n=function(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?s(e):t}(this,(e=u(t)).call.apply(e,[this].concat(r))))),"handlePageChange",function(e){n.props.dispatch({type:"dataPath/change",payload:{page:e}}),n.props.dispatch({type:"dataPath/refresh"})}),f(s(s(n)),"handlePerPageChange",function(e){n.props.dispatch({type:"dataPath/change",payload:{limit:e,page:0}}),n.props.dispatch({type:"dataPath/refresh"})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,a.default.Component),function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.total,n=e.page,r=e.limit;return a.default.createElement(o.Pager,{total:t,current:n,perPageCountList:[15,30,45],perPageCount:r,onPageChange:this.handlePageChange,onPerPageChange:this.handlePerPageChange})}}]),t}(),d=(0,r.connect)(function(e){var t=e.dataPath;return{page:t.page,limit:t.limit,total:t.total,searchText:t.searchText}})(p);t.default=d},1175:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),r=n(55),o=n(24),l=n(25);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return d(p(p(n=function(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?p(e):t}(this,(e=s(t)).call.apply(e,[this].concat(r))))),"state",{siteFilter:null,shopFilter:null,sortOrder:null}),d(p(p(n)),"refresh",function(){var e=n.props,t=e.page,a=e.limit,r=e.searchText;n.props.dispatch({type:"dataPath/fetchPaths",payload:{page:t,limit:a,searchText:r}})}),d(p(p(n)),"handleSort",function(){n.props.dispatch({type:"dataPath/changeSort"})}),d(p(p(n)),"handleSiteFileter",function(e){n.props.dispatch({type:"dataPath/filterChange",payload:{siteFilter:e}})}),d(p(p(n)),"handleShopFileter",function(e){n.props.dispatch({type:"dataPath/filterChange",payload:{shopFilter:e}})}),d(p(p(n)),"handleUpdate",function(e){var t=e.target.parentNode.dataset.id,a=n.props.pathList.find(function(e){return e.id==t});n.props.dispatch({type:"dataPath/showUpdate",payload:{dataPath:a}})}),d(p(p(n)),"handleDelete",function(e){var t=e.target.parentNode.dataset.id,a=p(p(n));n.props.dispatch({type:"productManage/showConfirmDialog",payload:{title:"确定删除所选数据路径？",hint:"删除后将无法恢复",OKText:"确定",confirmAction:{type:"dataPath/deletePath",payload:{id:t},callback:function(e){e&&0==e.code?((0,l.TopTips)({theme:"success",message:"删除成功"}),a.refresh()):(0,l.TopTips)({theme:"error",message:"删除失败："+(e&&e.msg)})}}}})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,a.default.Component),function(e,t,n){t&&c(e.prototype,t),n&&c(e,n)}(t,[{key:"componentDidMount",value:function(){this.refresh()}},{key:"render",value:function(){var e=this.props.pathList,t=this.state,n=t.siteFilter,r=t.shopFilter,o=t.sortOrder,i=this.props.isDataPathLoading;if(n&&(e=e.filter(function(e){return e.site===n})),r&&(e=e.filter(function(e){return e.factory_name===r})),o){var c=u(e);c.sort(function(e,t){return("desc"===o?function(e,t){return t>e}:function(e,t){return e>t})(e.modify_time,t.modify_time)}),e=c}return a.default.createElement(l.DataTable,{columns:this.columns,loading:i,data:e,rowKey:"id",sortKey:"modify_time",sortOrder:o,onSort:this.handleSort})}},{key:"columns",get:function(){var e=this,t=this.props,n=(t.pathList,t.sites),o=t.shops,i=t.siteFilter,u=t.shopFilter;return[{key:"site",dataIndex:"site",title:"厂区",headerRender:function(){return a.default.createElement(l.DataTable.FilterableColumnHeader,{list:n.map(function(e){return{text:e,value:e}}),value:i,onFilter:e.handleSiteFileter},"厂区")}},{key:"factory_name",dataIndex:"factory_name",title:"厂别",headerRender:function(){return a.default.createElement(l.DataTable.FilterableColumnHeader,{list:o.map(function(e){return{text:e,value:e}}),value:u,onFilter:e.handleShopFileter},"厂别")}},{key:"public_path",dataIndex:"public_path",title:"公共路径"},{key:"csv_path",dataIndex:"csv_path",title:"CSV路径"},{key:"nas_img_path",dataIndex:"nas_img_path",title:"NAS图片路径"},{key:"csv_img_path",dataIndex:"csv_img_path",title:"CSV图像位置"},{key:"correlate_detection",dataIndex:"correlate_detection",title:"关联检测项目",render:function(e,t){return e?a.default.createElement("div",null,a.default.createElement("div",{className:"tc-15-bubble-icon tc-15-triangle-align-start"},a.default.createElement("span",{className:"site-manage-more-list"},a.default.createElement("a",{href:"javascript:;"},e.length,"个")),a.default.createElement("div",{className:"tc-15-bubble tc-15-bubble-top"},a.default.createElement("div",{className:"tc-15-bubble-inner"},e.map(function(e){return a.default.createElement("p",{key:e},e)}))))):a.default.createElement("div",null,a.default.createElement("span",null,"无 "),a.default.createElement("div",{className:"tc-15-bubble-icon tc-15-triangle-align-start"},a.default.createElement("i",{className:"tc-icon icon-what"}),a.default.createElement("div",{className:"tc-15-bubble tc-15-bubble-top"},a.default.createElement("div",{className:"tc-15-bubble-inner"},a.default.createElement("p",null,"请在检测项目管理页面进行关联")))))}},{key:"operator",dataIndex:"operator",title:"操作者"},{key:"",dataIndex:"",title:"操作",render:function(t,n){return a.default.createElement("div",{key:n.id,"data-id":n.id},a.default.createElement(r.Link,{to:"/product/dataPath/edit/".concat(n.id),title:"数据路径修改"},"修改"),a.default.createElement("a",{onClick:e.handleDelete,href:"javascript:;"},"删除"))}}]}}]),t}(),m=(0,o.connect)(function(e){var t=e.dataPath,n=e.productManage;return{total:t.total,limit:t.limit,page:t.page,isDataPathLoading:t.isDataPathLoading,pathList:t.pathList,jobsList:t.jobsList,sortOrder:t.sortOrder,sites:n.sites,shops:n.shops}})(h);t.default=m},1176:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=c(n(0)),r=n(55),o=n(24),l=n(25),i=c(n(1175)),u=c(n(1174));function c(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var m=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(h(h(n=function(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?h(e):t}(this,(e=p(t)).call.apply(e,[this].concat(r))))),"componentDidMount",function(){n.props.dispatch({type:"dataPath/closeEdit"})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,a.default.Component),function(e,t,n){t&&f(e.prototype,t),n&&f(e,n)}(t,[{key:"render",value:function(){return a.default.createElement("div",{className:"tab-panel"},a.default.createElement("div",{className:"manage-area-main-inner"},a.default.createElement("div",{className:"tc-action-grid"},a.default.createElement("div",{className:"justify-grid"},a.default.createElement("div",{className:"col"},a.default.createElement(r.Link,{to:"/product/dataPath/edit/new",title:"新建数据路径"},a.default.createElement(l.Button,{className:"m btn-add"},"新建"))))),a.default.createElement("div",{className:"tc-panel panel-table"},a.default.createElement(i.default,null),a.default.createElement(u.default,null))))}}]),t}(),y=(0,o.connect)(function(e){e.dataPath;return{}})(m);t.default=y},1177:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=u(n(0)),r=n(24),o=n(55),l=u(n(1176)),i=u(n(1173));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var h=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(d(d(n=function(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?d(e):t}(this,(e=f(t)).call.apply(e,[this].concat(r))))),"componentDidMount",function(){n.props.dispatch({type:"dataPath/closeEdit"})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,a.default.Component),function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(t,[{key:"render",value:function(){this.props.editMode;return a.default.createElement("div",{className:"tab-panel"},a.default.createElement(o.Switch,null,a.default.createElement(o.Route,{path:"/product/dataPath/edit/:id",excat:!0,component:i.default}),a.default.createElement(o.Route,{path:"/product/dataPath",component:l.default})))}}]),t}(),m=(0,r.connect)(function(e){return{editMode:e.dataPath.editMode}})(h);t.default=m},1178:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1177)).default;t.default=a},1179:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),r=n(24),o=n(25);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return f(s(s(n=function(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?s(e):t}(this,(e=u(t)).call.apply(e,[this].concat(r))))),"handlePageChange",function(e){n.props.dispatch({type:"message/change",payload:{page:e}}),n.props.dispatch({type:"message/refresh"})}),f(s(s(n)),"handlePerPageChange",function(e){n.props.dispatch({type:"message/change",payload:{limit:e,page:0}}),n.props.dispatch({type:"message/refresh"})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,a.default.Component),function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.total,n=e.page,r=e.limit;return a.default.createElement(o.Pager,{total:t,current:n,perPageCountList:[15,30,45],perPageCount:r,onPageChange:this.handlePageChange,onPerPageChange:this.handlePerPageChange})}}]),t}(),d=(0,r.connect)(function(e){var t=e.message;return{page:t.page,limit:t.limit,total:t.total,searchText:t.searchText}})(p);t.default=d},1180:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(0)),r=n(24),o=n(25),l=i(n(1114));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(a=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return h(d(d(n=function(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?d(e):t}(this,(e=f(t)).call.apply(e,[this].concat(r))))),"state",{fileName:""}),h(d(d(n)),"md5",""),h(d(d(n)),"file",null),h(d(d(n)),"handleFileSelect",function(e){if(n.file=e.target.files[0],n.file.size>20971520)return(0,o.TopTips)({theme:"error",message:"请选择小于20M的 xls 文件"});n.setState({fileName:n.file.name})}),h(d(d(n)),"handleDownload",function(e){e.preventDefault(),n.props.dispatch({type:"message/downloadMessage"})}),h(d(d(n)),"handleOK",function(){var e=d(d(n)).file;if(!e)return(0,o.TopTips)({theme:"error",message:"请选择文件"});Promise.all([function(e){return new Promise(function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){t(a.result.split(",")[1])},a.onerror=function(e){n(e)}})}(e),function(e){return new Promise(function(t,n){var a=2097152,r=Math.ceil(e.size/a),o=0,i=new l.default.ArrayBuffer,u=new FileReader;function c(){var t=o*a,n=t+a>=e.size?e.size:t+a;u.readAsArrayBuffer(e.slice(t,n))}u.onload=function(e){i.append(e.target.result),++o<r?c():t(i.end())},u.onerror=function(e){n(e)},c()})}(e)]).then(function(e){var t=c(e,2),a=t[0],r=t[1];n.props.dispatch({type:"message/updateMessages",payload:{data:a,md5:r}})})}),h(d(d(n)),"handleCancel",function(){n.props.dispatch({type:"message/closeFileUpload"})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,a.default.Component),function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(t,[{key:"render",value:function(){var e=this.state.fileName;return a.default.createElement(o.Dialog,{title:"批量修改消息配置",visible:!0,okText:"开始上传",cancelText:"取消",onOk:this.handleOK,onCancel:this.handleCancel},a.default.createElement("div",{className:"tc-15-msg"},a.default.createElement("div",{className:"tip-info"},"批量修改会覆盖原有配置信息，请谨慎操作。")),a.default.createElement("ul",{className:"form-list"},a.default.createElement("li",{className:"pure-text-row"},a.default.createElement("div",{className:"form-input"},a.default.createElement("p",{className:"form-text"},"第一步：下载已有产品信息模板文件",a.default.createElement("a",{href:"javascript:;",onClick:this.handleDownload},"点击下载文件")))),a.default.createElement("li",{className:"pure-text-row"},a.default.createElement("div",{className:"form-input"},a.default.createElement("p",{className:"form-text"},"第二步：编辑文件"))),a.default.createElement("li",{className:"pure-text-row"},a.default.createElement("div",{className:"form-input"},a.default.createElement("p",{className:"form-text"},"第三步：上传文件，覆盖原有信息"))),a.default.createElement("li",null,a.default.createElement("div",{className:"form-input"},a.default.createElement("div",{className:"form-unit form-upload is-success"},a.default.createElement("input",{type:"text",className:"tc-15-input-text m",readOnly:!0,placeholder:"请选择文件",value:e}),a.default.createElement("a",{href:"javascript:void(0);",className:"tc-upload-btn",title:"请选择文件"},a.default.createElement("div",{className:"file-input-wrap"},a.default.createElement("input",{type:"file",title:"文件限制提示内容",accept:"application/vnd.ms-excel",onChange:this.handleFileSelect}),a.default.createElement("span",null,"选择文件"))),a.default.createElement("p",{className:"form-input-help"},"请选择小于20M的 xls 文件"))))))}}]),t}(),y=(0,r.connect)(function(e){e.message;return{}})(m);t.default=y},1181:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),r=n(24),o=n(25);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return f(s(s(n=function(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?s(e):t}(this,(e=u(t)).call.apply(e,[this].concat(r))))),"state",{searchText:""}),f(s(s(n)),"handleSearchTextChange",function(e){n.setState({searchText:e})}),f(s(s(n)),"handleSearch",function(e){var t=n.props,a=t.page,r=t.limit;n.props.dispatch({type:"message/change",payload:{searchText:e}}),n.props.dispatch({type:"message/fetchMessages",payload:{page:a,limit:r,searchText:e}})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,a.default.Component),function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(t,[{key:"render",value:function(){var e=this.state.searchText;return a.default.createElement(o.SearchInput,{onChange:this.handleSearchTextChange,onSearch:this.handleSearch,value:e,placeholder:"搜索消息内容"})}}]),t}(),d=(0,r.connect)(function(e){var t=e.message;return{searchText:t.searchText,page:t.page,limit:t.limit}})(p);t.default=d},1182:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),r=n(24),o=n(25),l=n(55);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return p(f(f(n=function(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?f(e):t}(this,(e=c(t)).call.apply(e,[this].concat(r))))),"handleSort",function(){n.props.dispatch({type:"message/changeSort"})}),p(f(f(n)),"handleSiteFileter",function(e){n.props.dispatch({type:"message/filterChange",payload:{siteFilter:e}})}),p(f(f(n)),"handleUpdate",function(e){var t=e.target.parentNode.dataset.id,a=n.props.messageList.find(function(e){return e.id==t});n.props.dispatch({type:"message/showUpdate",payload:{message:a}})}),p(f(f(n)),"handleDelete",function(e){var t=e.target.parentNode.dataset.id;n.props.dispatch({type:"productManage/showConfirmDialog",payload:{title:"确定删除所选消息配置？",hint:"删除后，回写至华星光电的消息将没有主题信息，且不可恢复，请谨慎操作！确定要删除么？",OKText:"删除",confirmAction:{type:"message/deleteMessage",payload:{id:t}}}})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,a.default.Component),function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.messageList,n=e.isMessageLoading,r=e.sortOrder;return a.default.createElement(o.DataTable,{columns:this.columns,loading:n,data:t,rowKey:"id",sortKey:"modify_time",sortOrder:r,onSort:this.handleSort})}},{key:"columns",get:function(){var e=this,t=this.props,n=t.siteFilter,r=t.sites;return[{key:"site",dataIndex:"site",title:"厂区",headerRender:function(){return a.default.createElement(o.DataTable.FilterableColumnHeader,{list:r.map(function(e){return{text:e,value:e}}),value:n,onFilter:e.handleSiteFileter},"厂区")}},{key:"listen",dataIndex:"id",title:"ADC监听消息",width:300,render:function(e,t){return a.default.createElement("div",{key:t.id},a.default.createElement("p",null,a.default.createElement("span",null,"Service: ",t.listen_service)),a.default.createElement("p",null,a.default.createElement("span",null,"Network: ",t.listen_network)),a.default.createElement("p",null,a.default.createElement("span",null,"Daemon: ",t.listen_daemon)),a.default.createElement("p",null,a.default.createElement("span",null,"SubjectName: ",t.adc_listen)),a.default.createElement("p",null,a.default.createElement("span",null,"Listener: ",t.listener)))}},{key:"response",dataIndex:"id",title:"ADC回复消息",width:300,render:function(e,t){return a.default.createElement("div",{key:t.id},a.default.createElement("p",null,a.default.createElement("span",null,"Service: ",t.resp_service)),a.default.createElement("p",null,a.default.createElement("span",null,"Network: ",t.resp_network)),a.default.createElement("p",null,a.default.createElement("span",null,"Daemon: ",t.resp_daemon)),a.default.createElement("p",null,a.default.createElement("span",null,"SubjectName: ",t.adc_response)),a.default.createElement("p",null,a.default.createElement("span",null,"Listener: ",t.responser)))}},{key:"modify_time",dataIndex:"modify_time",title:"最近更新时间",sortable:!0},{key:"operator",dataIndex:"operator",title:"操作者"},{key:"",dataIndex:"",title:"操作",render:function(t,n){return a.default.createElement("div",{key:n.id,"data-id":n.id},a.default.createElement(l.Link,{to:"/product/message/edit/".concat(n.id)},"修改"),a.default.createElement("a",{onClick:e.handleDelete,href:"javascript:;"},"删除"))}}]}}]),t}(),h=(0,r.connect)(function(e){var t=e.message,n=e.productManage;return{total:t.total,limit:t.limit,page:t.page,isMessageLoading:t.isMessageLoading,messageList:t.messageList,sortOrder:t.sortOrder,sites:n.sites,siteFilter:t.siteFilter}})(d);t.default=h},1183:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=f(n(0)),r=n(24),o=n(25),l=n(55),i=f(n(1182)),u=f(n(1181)),c=f(n(1180)),s=f(n(1179));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return b(y(y(n=function(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?y(e):t}(this,(e=h(t)).call.apply(e,[this].concat(r))))),"componentDidMount",function(){n.props.dispatch({type:"message/closeFileUpload"}),n.props.dispatch({type:"message/closeEdit"}),n.props.dispatch({type:"message/refresh"}),n.props.history.listen(function(){n.props.dispatch({type:"message/initialize"})})}),b(y(y(n)),"handleUpdateMany",function(){n.props.dispatch({type:"message/showFileUpload"})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,a.default.Component),function(e,t,n){t&&d(e.prototype,t),n&&d(e,n)}(t,[{key:"render",value:function(){var e=this.props.fileUpload;return a.default.createElement("div",{className:"tab-panel"},a.default.createElement("div",{className:"manage-area-main-inner"},a.default.createElement("div",{className:"tc-action-grid"},a.default.createElement("div",{className:"justify-grid"},a.default.createElement("div",{className:"col"},a.default.createElement(l.Link,{to:"/product/message/edit/new"},a.default.createElement(o.Button,{className:"m btn-add",onClick:this.handleAddMessage},"新建")),a.default.createElement(o.Button,{className:"m weak",onClick:this.handleUpdateMany},"批量修改")),a.default.createElement("div",{className:"col"},a.default.createElement(u.default,null)))),a.default.createElement("div",{className:"tc-panel panel-table"},a.default.createElement(i.default,null),a.default.createElement(s.default,null))),e?a.default.createElement(c.default,null):"")}}]),t}(),g=(0,r.connect)(function(e){var t=e.message;return{deleteDialog:t.deleteDialog,fileUpload:t.fileUpload}})(v);t.default=g},1184:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={site:function(e){if(!e)return"请填写厂区"},adc_listen:function(e){return e?e.length>50?"SubjectName监听参数长度不超过50个字":void 0:"请填写SubjectName监听参数"},listener:function(e){return e?e.length>50?"Listener监听参数长度不超过50个字":void 0:"请填写Listener监听参数"},listen_service:function(e){return e?e.length>30?"service监听参数长度不超过30个字":void 0:"请填写service监听参数"},listen_network:function(e){return e?e.length>15||e.length<7?"network监听参数长度应在7到15个字之间":void 0:"请填写network监听参数"},listen_daemon:function(e){return e?e.length>30?"daemon监听参数长度不超过30个字":void 0:"请填写daemon监听参数"},adc_response:function(e){return e?e.length>50?"SubjectName回复参数长度不超过50个字":void 0:"请填写SubjectName回复参数"},responser:function(e){return e?e.length>50?"Listener回复参数长度不超过50个字":void 0:"请填写Listener回复参数"},resp_service:function(e){return e?e.length>30?"service回复参数长度不超过30个字":void 0:"请填写service回复参数"},resp_network:function(e){return e?e.length>15||e.length<7?"network回复参数长度应在7到15个字之间":void 0:"请填写network回复参数"},resp_daemon:function(e){return e?e.length>30?"daemon回复参数长度不超过30个字":void 0:"请填写daemon回复参数"}}},1185:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.message=void 0;t.message={add:{title:"新建消息配置"},update:{title:"修改消息配置"}}},1186:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=u(n(0)),r=n(24),o=n(25),l=n(55),i=(n(1185),u(n(1184)));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=[{key:"listen_service",name:"service监听参数",placeholder:"如8200"},{key:"listen_network",name:"network监听参数",placeholder:"如225.8.2.0"},{key:"listen_daemon",name:"daemon监听参数",placeholder:"如172.16.3.9:7500"},{key:"adc_listen",name:"SubjectName监听参数",placeholder:"如CSOT.G85B.ADC.ABC"},{key:"listener",name:"Listener监听参数",placeholder:"如CSOTListener"},{key:"resp_service",name:"service回复参数",placeholder:"如8200"},{key:"resp_network",name:"network回复参数",placeholder:"如225.8.2.0"},{key:"resp_daemon",name:"daemon回复参数",placeholder:"如172.16.3.9:7500"},{key:"adc_response",name:"SubjectName回复参数",placeholder:"如CSOT.G85B.ADC.CBA"},{key:"responser",name:"Listener回复参数",placeholder:"如PEMListener"}],y=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return h(d(d(n=function(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?d(e):t}(this,(e=f(t)).call.apply(e,[this].concat(r))))),"handleSiteChange",function(e){n.props.dispatch({type:"message/change",payload:{site:e}})}),h(d(d(n)),"handleInputChange",function(e){var t=e.target.name,a=e.target.value.replace(" ","");n.props.dispatch({type:"message/change",payload:h({},t,a)})}),h(d(d(n)),"handleCancel",function(){n.props.dispatch({type:"message/closeEdit"})}),h(d(d(n)),"handleOK",function(){var e=n.props,t=e.id,a=e.site,r=e.adc_listen,l=e.adc_response,u=e.listener,c=e.responser,s=e.listen_service,f=e.resp_service,p=e.listen_network,d=e.resp_network,m=e.listen_daemon,y=e.resp_daemon,b=e.editMode;if(!e.isSubmitting){var v={id:t,site:a,listen_service:s,listen_network:p,listen_daemon:m,listener:u,resp_service:f,resp_network:d,resp_daemon:y,adc_listen:r,responser:c,adc_response:l},g=function(e){for(var t in e)if(i.default[t]){var n=i.default[t](e[t],e);if(n)return{message:n,field:t,value:e[t]}}return null}(v);g?(0,o.TopTips)({theme:"error",message:g.message}):(n.props.dispatch({type:"message/startSubmit"}),n.props.dispatch({type:"message/".concat(b,"Message"),payload:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){h(e,t,n[t])})}return e}({},v)}))}}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,a.default.Component),function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:"message/fetchSiteMap"});var e=this.props.match.params.id;"new"===e?this.props.dispatch({type:"message/initializeNewMessage"}):(this.props.dispatch({type:"message/fetchMessage",payload:{id:e}}),this.props.dispatch({type:"message/change",payload:{id:e,editMode:"update"}}))}},{key:"render",value:function(){var e=this,t="new"===this.props.match.params.id?"add":"update",n=this.props,r=n.site,i=n.siteMap.map(function(e){return{text:e.site,value:e.site}});return a.default.createElement("div",{className:"manage-area"},a.default.createElement("div",{className:"manage-area-title secondary-title"},a.default.createElement(l.Link,{to:"/product/message",className:"back-link",title:"消息配置"},a.default.createElement("i",{className:"btn-back-icon"}),"返回"),a.default.createElement("span",{className:"line-icon"},"|"),a.default.createElement("h2",null,"add"===t?"新建消息配置":"编辑消息配置")),a.default.createElement("div",{className:"manage-area-main secondary-main"},a.default.createElement("div",{className:"manage-area-main-inner"},a.default.createElement("div",{className:"tc-panel"},a.default.createElement("div",{className:"tc-panel-bd"},a.default.createElement("div",{className:"param-box"},a.default.createElement("ul",{className:"form-list"},a.default.createElement("li",null,a.default.createElement("div",{className:"form-label"},a.default.createElement("label",{htmlFor:"addMessage-site"},"厂区")),a.default.createElement(o.Select,{id:"addMessage-site",value:r,list:i,onChange:this.handleSiteChange,placeholder:"请选择厂区"})),m.map(function(t){var n=t.key,r=t.name,l=t.placeholder;return a.default.createElement("li",{key:n},a.default.createElement("div",{className:"form-label"},a.default.createElement("label",{htmlFor:"addMessage-".concat(n)},r)),a.default.createElement(o.Input,{id:"addMessage-".concat(n),onChange:e.handleInputChange,name:n,placeholder:l,value:e.props[n]}))})))),a.default.createElement("div",{className:"tc-panel-ft"},a.default.createElement(o.Button,{onClick:this.handleOK},"确定"),a.default.createElement(l.Link,{to:"/product/message",title:"消息配置管理"},a.default.createElement(o.Button,{className:"tc-15-btn weak"},"取消")))))))}}]),t}(),b=(0,r.connect)(function(e){var t=e.message;return{editMode:t.editMode,site:t.site,siteMap:t.siteMap,id:t.id,adc_listen:t.adc_listen,adc_response:t.adc_response,listener:t.listener,responser:t.responser,listen_service:t.listen_service,resp_service:t.resp_service,listen_network:t.listen_network,resp_network:t.resp_network,listen_daemon:t.listen_daemon,resp_daemon:t.resp_daemon,isSubmitting:t.isSubmitting}})(y);t.default=b},1187:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=u(n(0)),r=n(24),o=n(55),l=u(n(1186)),i=u(n(1183));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function f(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,p(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,a.default.Component),function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(t,[{key:"render",value:function(){return a.default.createElement(o.Switch,null,a.default.createElement(o.Route,{exact:!0,path:"/product/message/edit/:id",component:l.default}),a.default.createElement(o.Route,{exact:!0,path:"/product/message",component:i.default}))}}]),t}(),m=(0,r.connect)(function(e){e.message;return{}})(h);t.default=m},1188:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1187)).default;t.default=a},1189:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),r=n(24),o=n(25);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return f(s(s(n=function(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?s(e):t}(this,(e=u(t)).call.apply(e,[this].concat(r))))),"handlePageChange",function(e){n.props.dispatch({type:"product/change",payload:{page:e}}),n.props.dispatch({type:"product/refresh"})}),f(s(s(n)),"handlePerPageChange",function(e){n.props.dispatch({type:"product/change",payload:{limit:e,page:0}}),n.props.dispatch({type:"product/refresh"})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,a.default.Component),function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.total,n=e.page,r=e.limit;return a.default.createElement(o.Pager,{total:t,current:n,perPageCountList:[15,30,45],perPageCount:r,onPageChange:this.handlePageChange,onPerPageChange:this.handlePerPageChange})}}]),t}(),d=(0,r.connect)(function(e){var t=e.product;return{page:t.page,limit:t.limit,total:t.total,searchText:t.searchText}})(p);t.default=d},1190:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(0)),r=n(24),o=n(25),l=i(n(1114));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(a=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return h(d(d(n=function(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?d(e):t}(this,(e=f(t)).call.apply(e,[this].concat(r))))),"state",{fileName:""}),h(d(d(n)),"md5",""),h(d(d(n)),"file",null),h(d(d(n)),"handleFileSelect",function(e){if(n.file=e.target.files[0],n.file.size>20971520)return(0,o.TopTips)({theme:"error",message:"请选择小于20M的 xls 文件"});n.setState({fileName:n.file.name})}),h(d(d(n)),"handleDownload",function(e){e.preventDefault(),n.props.dispatch({type:"product/downloadProduct"})}),h(d(d(n)),"handleOK",function(){var e=d(d(n)).file;if(!e)return(0,o.TopTips)({theme:"error",message:"请选择文件"});Promise.all([function(e){return new Promise(function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){t(a.result.split(",")[1])},a.onerror=function(e){n(e)}})}(e),function(e){return new Promise(function(t,n){var a=2097152,r=Math.ceil(e.size/a),o=0,i=new l.default.ArrayBuffer,u=new FileReader;function c(){var t=o*a,n=t+a>=e.size?e.size:t+a;u.readAsArrayBuffer(e.slice(t,n))}u.onload=function(e){i.append(e.target.result),++o<r?c():t(i.end())},u.onerror=function(e){n(e)},c()})}(e)]).then(function(e){var t=c(e,2),a=t[0],r=t[1];n.props.dispatch({type:"product/updateProducts",payload:{data:a,md5:r}})})}),h(d(d(n)),"handleCancel",function(){n.props.dispatch({type:"product/closeFileUpload"})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,a.default.Component),function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(t,[{key:"render",value:function(){var e=this.state.fileName;return a.default.createElement(o.Dialog,{title:"批量修改站点产品",visible:!0,okText:"开始上传",cancelText:"取消",onOk:this.handleOK,onCancel:this.handleCancel},a.default.createElement("div",{className:"tc-15-msg"},a.default.createElement("div",{className:"tip-info"},"批量修改会覆盖原有配置信息，请谨慎操作。")),a.default.createElement("ul",{className:"form-list"},a.default.createElement("li",{className:"pure-text-row"},a.default.createElement("div",{className:"form-input"},a.default.createElement("p",{className:"form-text"},"第一步：下载已有产品信息模板文件",a.default.createElement("a",{href:"javascript:;",onClick:this.handleDownload},"点击下载文件")))),a.default.createElement("li",{className:"pure-text-row"},a.default.createElement("div",{className:"form-input"},a.default.createElement("p",{className:"form-text"},"第二步：编辑文件"))),a.default.createElement("li",{className:"pure-text-row"},a.default.createElement("div",{className:"form-input"},a.default.createElement("p",{className:"form-text"},"第三步：上传文件，覆盖原有信息"))),a.default.createElement("li",null,a.default.createElement("div",{className:"form-input"},a.default.createElement("div",{className:"form-unit form-upload is-success"},a.default.createElement("input",{type:"text",className:"tc-15-input-text m",readOnly:!0,placeholder:"请选择文件",value:e}),a.default.createElement("a",{href:"javascript:void(0);",className:"tc-upload-btn",title:"请选择文件"},a.default.createElement("div",{className:"file-input-wrap"},a.default.createElement("input",{type:"file",id:"product-file",title:"文件限制提示内容",accept:"application/vnd.ms-excel",onChange:this.handleFileSelect}),a.default.createElement("span",null,"选择文件"))),a.default.createElement("p",{className:"form-input-help"},"请选择小于20M的 xls 文件"))))))}}]),t}(),y=(0,r.connect)(function(e){e.product;return{}})(m);t.default=y},1191:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(516),r=/^[a-zA-Z]+$/,o=/^[0-9]+$/,l=/^[a-zA-Z0-9]+$/,i={site:function(e,t){if(!e)return"请填写厂区";if(e===a.NEW_SIGN){if(!t.newSite)return"请填写新建厂区名称";if(!l.test(t.newSite))return"厂区名称仅支持数字、字母";if(t.newSite.length>2)return"厂区名称不超过2个字";var n=!0,r=!1,o=void 0;try{for(var i,u=t.siteMap[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){if(i.value.site==t.newSite)return"新建厂区名称重复，请重新填写"}}catch(e){r=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(r)throw o}}}},shop:function(e,t){if(!e)return"请填写厂别";if(e===a.NEW_SIGN){if(!t.newShop)return"请填写新建厂别名称";if(!r.test(t.newShop))return"厂别名称仅支持字母";if(t.newShop.length>5||t.newShop.length<2)return"厂别名称为2到5个字";if(t.site!=a.NEW_SIGN){var n=!0,o=!1,l=void 0;try{for(var i,u=t.siteMap[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var c=i.value;if(c.site==t.site&&c.factory_list){var s=!0,f=!1,p=void 0;try{for(var d,h=c.factory_list[Symbol.iterator]();!(s=(d=h.next()).done);s=!0){if(d.value.factory_name==t.newShop)return"新建厂别名称重复，请重新填写"}}catch(e){f=!0,p=e}finally{try{s||null==h.return||h.return()}finally{if(f)throw p}}}}}catch(e){o=!0,l=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw l}}}}},operation:function(e,t){if(!e)return"请填写站点";if(e===a.NEW_SIGN){if(!t.newOperation)return"请填写新建站点名称";if(!o.test(t.newOperation))return"站点名称仅支持数字";if(t.newOperation.length>10)return"站点名称不超过10个字";if(t.shop!=a.NEW_SIGN){var n=!0,r=!1,l=void 0;try{for(var i,u=t.siteMap[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var c=i.value;if(c.site==t.site&&c.factory_list){var s=!0,f=!1,p=void 0;try{for(var d,h=c.factory_list[Symbol.iterator]();!(s=(d=h.next()).done);s=!0){var m=d.value;if(m.factory_name==t.shop&&m.pon_list){var y=!0,b=!1,v=void 0;try{for(var g,_=m.pon_list[Symbol.iterator]();!(y=(g=_.next()).done);y=!0){if(g.value.process_operation_name==t.newOperation)return"新建站点名称重复，请重新填写"}}catch(e){b=!0,v=e}finally{try{y||null==_.return||_.return()}finally{if(b)throw v}}}}}catch(e){f=!0,p=e}finally{try{s||null==h.return||h.return()}finally{if(f)throw p}}}}}catch(e){r=!0,l=e}finally{try{n||null==u.return||u.return()}finally{if(r)throw l}}}}},product:function(e){return e?l.test(e)?e.length>12?"产品名称不超过12个字":void 0:"产品名称仅支持字母和数字":"请填写产品名称"},ratio:function(e){return e||0===e?!o.test(e)||e<1||e>99?"放大倍率必须为1-99之间的整数":void 0:"请填写放大倍率"}};t.default=i},1192:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=u(n(0)),r=n(24),o=n(25),l=n(516),i=u(n(1191));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e,t){return e>t?1:-1},b=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return m(h(h(n=function(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?h(e):t}(this,(e=p(t)).call.apply(e,[this].concat(r))))),"state",{newSite:"",newShop:"",newOperation:""}),m(h(h(n)),"handleSiteChange",function(e){n.props.dispatch({type:"product/change",payload:{site:e,shop:"",operation:""}})}),m(h(h(n)),"handleNewSiteChange",function(e){n.setState({newSite:e.target.value.replace(" ","")})}),m(h(h(n)),"handleShopChange",function(e){n.props.dispatch({type:"product/change",payload:{shop:e,operation:""}})}),m(h(h(n)),"handleNewShopChange",function(e){n.setState({newShop:e.target.value.replace(" ","")})}),m(h(h(n)),"handleOperationChange",function(e){n.props.dispatch({type:"product/change",payload:{operation:e}})}),m(h(h(n)),"handleNewOperationChange",function(e){n.setState({newOperation:e.target.value.replace(" ","")})}),m(h(h(n)),"handleProductChange",function(e){n.props.dispatch({type:"product/change",payload:{product:e.target.value.replace(" ","")}})}),m(h(h(n)),"handleRatioChange",function(e){n.props.dispatch({type:"product/change",payload:{ratio:e.target.value.replace(" ","")}})}),m(h(h(n)),"handleCancel",function(){n.props.dispatch({type:"product/closeEdit"})}),m(h(h(n)),"handleOK",function(){var e=n.props,t=e.id,a=e.site,r=e.shop,l=e.operation,u=e.product,c=e.ratio,s=e.editMode,f=e.siteMap;if(!e.isSubmitting){var p=n.state,d={id:t,site:a,shop:r,operation:l,product:u,ratio:c,newSite:p.newSite,newShop:p.newShop,newOperation:p.newOperation,siteMap:f},h=function(e){for(var t in e)if(i.default[t]){var n=i.default[t](e[t],e);if(n)return{message:n,field:t,value:e[t]}}return null}(d);h?(0,o.TopTips)({theme:"error",message:h.message}):(n.props.dispatch({type:"product/startSubmit"}),n.props.dispatch({type:"product/".concat(s,"Product"),payload:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){m(e,t,n[t])})}return e}({},d)}))}}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,a.default.Component),function(e,t,n){t&&f(e.prototype,t),n&&f(e,n)}(t,[{key:"render",value:function(){var e,t,n=this.state,r=n.newSite,i=n.newShop,u=n.newOperation,c=this.props,f=(c.id,c.site),p=c.shop,d=c.operation,h=c.product,m=c.ratio,b=c.siteMap,v=c.editMode,g=c.isSiteMapLoading,_=[],E=[],w=b.map(function(t){return t.site===f&&(e=t),{text:t.site,value:t.site}}).sort(function(e,t){return y(e.text,t.text)});e&&e.factory_list&&(_=e.factory_list.map(function(e){return e.factory_name===p&&(t=e),{text:e.factory_name,value:e.factory_name}}).sort(function(e,t){return y(e.text,t.text)}),t&&t.pon_list&&(E=t.pon_list.map(function(e){return{text:e.process_operation_name,value:e.process_operation_name}}).sort(function(e,t){return y(e.text,t.text)})));return w=[{text:"新建厂区",value:l.NEW_SIGN}].concat(s(w)),_=[{text:"新建厂别",value:l.NEW_SIGN}].concat(s(_)),E=[{text:"新建站点",value:l.NEW_SIGN}].concat(s(E)),a.default.createElement(o.Dialog,{title:l.message[v].title,okText:"确定",visible:!0,cancelText:"取消",onOk:this.handleOK,onCancel:this.handleCancel},"add"==v?a.default.createElement("div",{className:"tc-15-msg"},a.default.createElement("div",{className:"tip-info"},l.message[v].intro)):"",a.default.createElement("ul",{className:"form-list"},a.default.createElement("li",null,a.default.createElement("div",{className:"form-label"},a.default.createElement("label",{htmlFor:"addProduct-site"},"厂区")),a.default.createElement(o.Select,{id:"addProduct-site",value:f,list:w,onChange:this.handleSiteChange,placeholder:"请选择厂区",disabled:"update"===v||g}),f===l.NEW_SIGN?a.default.createElement(o.Input,{className:"ml-10",placeholder:"请输入厂区，如t1",onChange:this.handleNewSiteChange,value:r}):""),a.default.createElement("li",null,a.default.createElement("div",{className:"form-label"},a.default.createElement("label",{htmlFor:"addProduct-shop"},"厂别")),a.default.createElement(o.Select,{id:"addProduct-shop",value:p,list:_,onChange:this.handleShopChange,placeholder:"请选择厂别",disabled:"update"===v||!f}),p===l.NEW_SIGN?a.default.createElement(o.Input,{className:"ml-10",placeholder:"如ARRAY",onChange:this.handleNewShopChange,value:i}):""),a.default.createElement("li",null,a.default.createElement("div",{className:"form-label"},a.default.createElement("label",{htmlFor:"addProduct-operation"},"站点")),a.default.createElement(o.Select,{id:"addProduct-operation",value:d,list:E,onChange:this.handleOperationChange,placeholder:"请选择站点",disabled:"update"===v||!p}),d===l.NEW_SIGN?a.default.createElement(o.Input,{className:"ml-10",placeholder:"如3350",onChange:this.handleNewOperationChange,value:u}):""),a.default.createElement("li",null,a.default.createElement("div",{className:"form-label"},a.default.createElement("label",{htmlFor:"addProduct-product"},"产品")),a.default.createElement(o.Input,{id:"addProduct-product",placeholder:"如TA4851CAB000",onChange:this.handleProductChange,value:h})),a.default.createElement("li",null,a.default.createElement("div",{className:"form-label"},a.default.createElement("label",{htmlFor:"addProduct-ratio"},"放大倍率")),a.default.createElement(o.Input,{id:"addProduct-ratio",placeholder:"请输入倍率",onChange:this.handleRatioChange,value:m}))))}}]),t}(),v=(0,r.connect)(function(e){var t=e.product,n=e.productManage;return{editMode:t.editMode,id:t.id,site:t.site,shop:t.shop,operation:t.operation,product:t.product,ratio:t.ratio,siteMap:n.siteMap,isSiteMapLoading:n.isSiteMapLoading,isSubmitting:t.isSubmitting}})(b);t.default=v},1193:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),r=n(24),o=n(25);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return f(s(s(n=function(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?s(e):t}(this,(e=u(t)).call.apply(e,[this].concat(r))))),"state",{searchText:""}),f(s(s(n)),"handleSearchTextChange",function(e){n.setState({searchText:e})}),f(s(s(n)),"handleSearch",function(e){var t=n.props,a=t.page,r=t.limit;n.props.dispatch({type:"product/change",payload:{searchText:e}}),n.props.dispatch({type:"product/fetchProducts",payload:{page:a,limit:r,searchText:e}})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,a.default.Component),function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(t,[{key:"render",value:function(){var e=this.state.searchText;return a.default.createElement(o.SearchInput,{onChange:this.handleSearchTextChange,onSearch:this.handleSearch,value:e,placeholder:"请输入站点或产品"})}}]),t}(),d=(0,r.connect)(function(e){var t=e.product;return{searchText:t.searchText,page:t.page,limit:t.limit}})(p);t.default=d},1194:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),r=n(24),o=n(25);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return f(s(s(n=function(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?s(e):t}(this,(e=u(t)).call.apply(e,[this].concat(r))))),"handleSort",function(){n.props.dispatch({type:"product/changeSort"})}),f(s(s(n)),"handleSiteFileter",function(e){n.props.dispatch({type:"product/filterChange",payload:{siteFilter:e}})}),f(s(s(n)),"handleShopFileter",function(e){n.props.dispatch({type:"product/filterChange",payload:{shopFilter:e}})}),f(s(s(n)),"handleUpdate",function(e){var t=e.target.parentNode.dataset.id,a=n.props.productList.find(function(e){return e.id==t});n.props.dispatch({type:"product/showUpdate",payload:{product:a}})}),f(s(s(n)),"handleDelete",function(e){var t=e.target.parentNode.dataset.id;n.props.dispatch({type:"productManage/showConfirmDialog",payload:{title:"确定删除所选站点产品？",hint:"删除后将无法恢复",OKText:"确定",confirmAction:{type:"product/deleteProduct",payload:{id:t}}}})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,a.default.Component),function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(t,[{key:"render",value:function(){var e=this.props.productList,t=this.props,n=t.isProductLoading,r=t.sortOrder,l=t.siteFilter,i=t.shopFilter;return l&&(e=e.filter(function(e){return e.site===l})),i&&(e=e.filter(function(e){return e.factory_name===i})),a.default.createElement(o.DataTable,{columns:this.columns,loading:n,data:e,rowKey:"id",sortKey:"modify_time",sortOrder:r,onSort:this.handleSort})}},{key:"columns",get:function(){var e=this,t=this.props,n=t.siteFilter,r=t.shopFilter,l=t.sites,i=t.shops;return[{key:"site",dataIndex:"site",title:"厂区",headerRender:function(){return a.default.createElement(o.DataTable.FilterableColumnHeader,{list:l.map(function(e){return{text:e,value:e}}),value:n,onFilter:e.handleSiteFileter},"厂区")}},{key:"factory_name",dataIndex:"factory_name",title:"厂别",headerRender:function(){return a.default.createElement(o.DataTable.FilterableColumnHeader,{list:i.map(function(e){return{text:e,value:e}}),value:r,onFilter:e.handleShopFileter},"厂别")}},{key:"process_operation_name",dataIndex:"process_operation_name",title:"站点"},{key:"product_spec_name",dataIndex:"product_spec_name",title:"产品"},{key:"ratio",dataIndex:"ratio",title:"放大倍率"},{key:"correlate_detection",dataIndex:"correlate_detection",title:"关联检测项目",render:function(e,t){return e[0]?a.default.createElement("div",null,a.default.createElement("div",{className:"tc-15-bubble-icon tc-15-triangle-align-start"},a.default.createElement("span",{className:"site-manage-more-list"},a.default.createElement("a",{href:"javascript:;"},e.length,"个")),a.default.createElement("div",{className:"tc-15-bubble tc-15-bubble-top"},a.default.createElement("div",{className:"tc-15-bubble-inner"},e.map(function(e){return a.default.createElement("p",{key:e},e)}))))):a.default.createElement("div",null,a.default.createElement("span",null,"无 "),a.default.createElement("div",{className:"tc-15-bubble-icon tc-15-triangle-align-start"},a.default.createElement("i",{className:"tc-icon icon-what"}),a.default.createElement("div",{className:"tc-15-bubble tc-15-bubble-top"},a.default.createElement("div",{className:"tc-15-bubble-inner"},a.default.createElement("p",null,"请在检测项目管理页面进行关联")))))}},{key:"modify_time",dataIndex:"modify_time",title:"最近更新时间",sortable:!0},{key:"",dataIndex:"",title:"操作",render:function(t,n){return a.default.createElement("div",{key:n.id,"data-id":n.id},a.default.createElement("a",{onClick:e.handleUpdate,href:"javascript:;"},"修改"),a.default.createElement("a",{onClick:e.handleDelete,href:"javascript:;"},"删除"))}}]}}]),t}(),d=(0,r.connect)(function(e){var t=e.product,n=e.productManage;return{total:t.total,limit:t.limit,page:t.page,isProductLoading:t.isProductLoading,productList:t.productList,jobsList:t.jobsList,sortOrder:t.sortOrder,siteMap:n.siteMap,sites:n.sites,shops:n.shops,siteFilter:t.siteFilter,shopFilter:t.shopFilter}})(p);t.default=d},1195:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=f(n(0)),r=n(24),o=n(25),l=f(n(1194)),i=f(n(1193)),u=f(n(1192)),c=f(n(1190)),s=f(n(1189));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return b(y(y(n=function(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?y(e):t}(this,(e=h(t)).call.apply(e,[this].concat(r))))),"componentDidMount",function(){n.props.dispatch({type:"product/closeFileUpload"}),n.props.dispatch({type:"product/closeEdit"}),n.props.dispatch({type:"product/refresh"}),n.props.history.listen(function(){n.props.dispatch({type:"product/initialize"})})}),b(y(y(n)),"handleAddProduct",function(){n.props.dispatch({type:"product/showAdd"})}),b(y(y(n)),"handleUpdateMany",function(){n.props.dispatch({type:"product/showFileUpload"})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,a.default.Component),function(e,t,n){t&&d(e.prototype,t),n&&d(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.editMode,n=e.fileUpload;return a.default.createElement("div",{className:"tab-panel"},a.default.createElement("div",{className:"manage-area-main-inner"},a.default.createElement("div",{className:"tc-action-grid"},a.default.createElement("div",{className:"justify-grid"},a.default.createElement("div",{className:"col"},a.default.createElement(o.Button,{className:"m btn-add",onClick:this.handleAddProduct},"新建"),a.default.createElement(o.Button,{className:"m weak",onClick:this.handleUpdateMany},"批量修改")),a.default.createElement("div",{className:"col"},a.default.createElement(i.default,null)))),a.default.createElement("div",{className:"tc-panel panel-table"},a.default.createElement(l.default,null),a.default.createElement(s.default,null))),t?a.default.createElement(u.default,null):"",n?a.default.createElement(c.default,null):"")}}]),t}(),g=(0,r.connect)(function(e){var t=e.product;return{editMode:t.editMode,deleteDialog:t.deleteDialog,fileUpload:t.fileUpload}})(v);t.default=g},1196:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1195)).default;t.default=a},1197:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=p(n(0)),r=n(24),o=n(55),l=p(n(1196)),i=p(n(1188)),u=p(n(1178)),c=p(n(1171)),s=p(n(1170)),f=p(n(1169));function p(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function m(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=[{name:"站点产品管理",path:"/product/productList"},{name:"数据路径配置",path:"/product/dataPath"},{name:"消息配置",path:"/product/message"}],g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,y(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,a.default.Component),function(e,t,n){t&&h(e.prototype,t),n&&h(e,n)}(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:"productManage/closeConfirmDialog"}),this.props.dispatch({type:"productManage/closeConflictDialog"}),this.props.dispatch({type:"productManage/fetchSiteMap"})}},{key:"render",value:function(){var e=this.props.location;return a.default.createElement("div",{className:"main adc-manage-main"},a.default.createElement("div",{className:"manage-area"},a.default.createElement("div",{className:"manage-area-title"},a.default.createElement("h2",null,"站点管理")),a.default.createElement("div",{className:"manage-area-main"},a.default.createElement("div",{className:"tc-15-tab tc-15-tab-alt tc-special-tab"},a.default.createElement(c.default,{location:e,menu:v}),a.default.createElement(o.Switch,null,a.default.createElement(o.Route,{path:"/product",exact:!0,render:function(){return a.default.createElement(o.Redirect,{to:"/product/productList",title:"站点产品管理"})}}),a.default.createElement(o.Route,{path:"/product/productList",exact:!0,async:!0,component:l.default}),a.default.createElement(o.Route,{path:"/product/dataPath",async:!0,component:u.default}),a.default.createElement(o.Route,{path:"/product/message",async:!0,component:i.default}))))),a.default.createElement(s.default,null),a.default.createElement(f.default,null))}}]),t}(),_=(0,r.connect)(function(e){return e.productManage})(g);t.default=_}}]);
//# sourceMappingURL=product.f5eb2adf.js.map