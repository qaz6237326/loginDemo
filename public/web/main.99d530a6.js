(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{1035:function(e,t,r){"use strict";r(1034),r(836);var n=r(835),a=r(25),o=E(r(249)),s=E(r(756)),c=E(r(755)),i=E(r(751)),u=E(r(750)),l=E(r(749)),p=E(r(748)),d=E(r(744)),f=E(r(736)),g=E(r(735)),m=E(r(310)),h=E(r(734)),y=E(r(733)),b=E(r(732)),v=E(r(731)),x=E(r(730)),_=E(r(727)),k=E(r(726)),w=E(r(725)),T=E(r(724)),j=E(r(723)),S=E(r(722));function E(e){return e&&e.__esModule?e:{default:e}}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r(721),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})});var R=(0,n.createPcApp)("Ti-Matrix");R.service({urlMap:o.default}),R.message.add(S.default),R.setNotification(a.notification),R.use({onBeforeAjax:function(e,t,r){r.options.headers=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){O(e,t,r[t])})}return e}({},r.options.headers,{Authorization:"Bearer ".concat(localStorage.getItem("accessToken"))})},onRouteChange:function(e){var t=e.app,r=e.query;if("true"===localStorage.getItem("remember")||"/login"===t._history.location.pathname){if(null!==r.instanceId){var n=t._store.getState().instance;if(r.instanceId===n.currentId)return;t._store.dispatch({type:"instance/change",payload:{currentId:r.instanceId}})}}else t._history.replace("/login")},onAjaxDone:function(e,t){var r=e.resp.code;"401"!=r&&401!=r||(R._store.dispatch({type:"login/change",payload:{loginSuccess:!1}}),localStorage.setItem("remember",!1),this._history.replace("/login"),console.log("token过期，跳转至登录页面")),452==r&&a.notification.error("账户权限不足"),r>=500&&r<600&&a.notification.error("接口访问失败"),r<0&&a.notification.error("后台服务不能访问")}}),R.model(r(714).default),R.model(s.default),R.model(c.default),R.model(l.default),R.model(p.default),R.model(f.default),R.model(d.default),R.model(g.default),R.model(m.default),R.model(h.default),R.model(y.default),R.model(v.default),R.model(b.default),R.model(i.default),R.model(u.default),R.model(x.default),R.model(_.default),R.model(k.default),R.model(w.default),R.model(T.default),R.model(j.default),R.router(r(713).default),R.start("#app")},108:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initState=void 0;t.initState={siteMap:[],sfpp_id:"",modelVersionList:[],ruleVersionList:[],realTimeDataReport:[]}},121:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={MODEL:"rejudge3",codeId:"code-",testImageUrl:"",codeBtnRowNumber:4,imageCacheNumber:5,compare_rtir_code_default_value:!1,searchOrAddInput:"searchOrAddCode",formDataHeader:{headers:{"Content-Type":"multipart/form-data"}},parentPath:"/rejudge/",templateFileUrl:"/rejudge_images/download/model/sample.csv",sysMenus:[{text:"样本验证",value:"sampleSys"},{text:"复判系统",value:"rejudgeSys"},{text:"抽检系统",value:"spotCheckSys"}],rejudgeType:{sampleSys:[{text:"按文件验证",value:"file"},{text:"按图片验证",value:"image"}],rejudgeSys:[{text:"按产品复判",value:"product"},{text:"按文件复判",value:"file"}],spotCheckSys:[{text:"按产品复判",value:"product"},{text:"按文件复判",value:"file"}]},sampleFileSuffix:"zip,csv",table:{columns:[{key:"img_package",dataIndex:"img_package",title:"任务名称",width:260},{key:"task_type",dataIndex:"task_type",title:"任务类型",width:100},{key:"create_time",dataIndex:"create_time",title:"创建时间"},{key:"modify_time",dataIndex:"modify_time",title:"更新时间"},{key:"op",dataIndex:"op",title:"创建人"},{key:"status",dataIndex:"status",title:"任务状态",width:150},{key:"operationArea",dataIndex:"operationArea",title:"操作",width:200}],viewResult_task_type:{1:"样本验证",2:"复判验证",3:"抽样验证"},viewResult_status:{"-1":"初始化",0:"处理中",1:"完成",2:"异常"},orderStatusKey:"status",operationAreaKey:"operationArea",statusList:[{text:"进行中",value:"1"},{text:"成功",value:"0"},{text:"失败",value:"2"}],mockData:[{id:0,name:"小强",age:16,orderStatus:"进行中",orderStatusCode:1},{id:213,name:"张三",age:16,orderStatus:"进行中",orderStatusCode:1},{id:1,name:"李四",age:20,orderStatus:"成功",orderStatusCode:0},{id:2,name:"王五",age:28,orderStatus:"失败",orderStatusCode:2}]}}},136:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(108);var n=r(25),a=function(e){return e&&e.__esModule?e:{default:e}}(r(121));function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){s(e,t,r[t])})}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}a.default.codeId,a.default.MODEL,a.default.formDataHeader;var c=3e3,i={change:regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,n=r.put,r.call,r.context,e.next=3,n(o({type:"CHANGE_BASE_STATE"},t.data));case 3:t.callback&&t.callback();case 4:case"end":return e.stop()}},e,this)}),requestSite:regeneratorRuntime.mark(function e(t,r){var a,o,s,i,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,a=r.put,o=r.call,s=r.context,(i={}).timer=(new Date).getTime(),e.next=5,o(s.service.site,i);case 5:if(u=e.sent,0!==(l=u.resp).code){e.next=12;break}return e.next=10,a({type:"CHANGE_BASE_STATE",siteMap:u.resp.data});case 10:e.next=13;break;case 12:(0,n.TopTips)({theme:"error",message:l.msg,duration:c});case 13:case"end":return e.stop()}},e,this)})};t.default=i},137:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reducers=void 0;var n=r(138);function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){o(e,t,r[t])})}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s={Initialize:function(e,t){return a({},n.initState,t)},CHANGE_BASE_STATE:function(e,t){return a({},e,t)}};t.reducers=s},138:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.codeTypeInfos=function(){for(var e=[],t=0;t<10;t++)e.push({id:"a"+t,codeType:"SPASD"+t});return e},t.initState=t.imageInfo=t.imageInfos=t.mockData=void 0;var n=i(r(743)),a=i(r(742)),o=i(r(741)),s=i(r(740)),c=i(r(739));function i(e){return e&&e.__esModule?e:{default:e}}var u=i(r(121)).default.table.mockData;t.mockData=u;var l=[n.default,a.default,o.default,s.default,c.default],p=[];t.imageInfos=p;for(var d=0;d<l.length;d++)d%2==0?p.push({code:"SPASD"+d,create_time:"",id:"code-".concat(d),img_name:"",img_src_path:l[d],img_src_time:"",img_store_path:"",modify_time:"",op:"",sample_id:"",status:"",valid_code:"",rework:!0,turn_on:!1,sheet_type:!0}):p.push({code:"",create_time:"",id:"code-".concat(d),img_name:"",img_src_path:"",img_src_time:"",img_store_path:"",modify_time:"",op:"",sample_id:"",status:"",valid_code:"",imageUrl:l[d],codeType:"",rework:!1,turn_on:!1,sheet_type:!1});var f={code:"",valid_code:"",create_time:"",id:"",img_name:"",img_url:"",img_src_path:"",img_src_time:"",img_store_path:"",modify_time:"",op:"",sample_id:"",status:"",rework:null,turn_on:null,sheet_type:"",rtir_code:""};t.imageInfo=f;var g={sfpp_id:"",task_id:"",id:"",uploadState:!1,startTask:!1,getImageState:!1,importCodeState:!1,focusCodeInput:!1,detailFullScrollState:!1,chooseCodeState:!1,oldCode:"",sysActive:"",rejudgeType:"file",siteMap:[],productList:[],codeBtnActiveNumber:null,hoverCode:"",imageInfo:f,startLoadImage:!0,imageCache:[],imageCacheRange:[],num_results:0,surplus:0,imageCurrentIndex:0,surplusCacheImages:0,viewEnd:{tableData:[]},imageCodeList:[],imageCodeInput:"",upload_sample_name:"",sampleCodeList:[],saveQueryCondition:null,image_area_code_arr:[],direction_index:null};t.initState=g},245:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(121)),a=r(25);function o(e,t,r,n,a,o,s){try{var c=e[o](s),i=c.value}catch(e){return void r(e)}c.done?t(i):Promise.resolve(i).then(n,a)}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=n.default.MODEL,i=n.default.parentPath,u=n.default.testImageUrl,l=n.default.codeBtnRowNumber,p=0,d={queryCode:function(e){e.props.dispatch({type:"".concat(c,"/queryCode"),callback:function(e){e.result}})},keyboardEvent:function(t,r){t=t||window.event;var n=r.props,a=n.startTask,o=n.focusCodeInput;n.detailFullScrollState;if(!a||p)return;var s=r;switch(t.keyCode){case 114:t.preventDefault(),window.location.reload();break;case 115:t.preventDefault(),e("#searchOrAddCode").focus()}if(!o)switch(t.keyCode){case 116:t.preventDefault(),d.handleSwitchImg(s,"previousImg",s.props.codeBtnActiveNumber);break;case 117:t.preventDefault(),d.handleSwitchImg(s,"nextImg",s.props.codeBtnActiveNumber);break;case 70:t.preventDefault(),d.rework(s);break;case 71:t.preventDefault(),d.turnOn(s)}if(!o)switch(t.keyCode){case 37:t.preventDefault(),m(r,"left");break;case 38:t.preventDefault(),m(r,"top");break;case 39:t.preventDefault(),m(r,"right");break;case 40:t.preventDefault(),m(r,"bottom");break;case 65:t.preventDefault(),m(r,"left");break;case 87:t.preventDefault(),m(r,"top");break;case 68:t.preventDefault(),m(r,"right");break;case 83:t.preventDefault(),m(r,"bottom")}},localSystem:function(e){var t=e.props.path,r=t.lastIndexOf("/"),a=t.substring(r+1,t.length);e.props.dispatch({type:"".concat(c,"/switchSystem"),data:{sysActive:a,rejudgeType:n.default.rejudgeType[a][0].value}})},switchSystem:function(e,t){var r=e.props,n=r.startTask,o=r.uploadState;if(n||o)(0,a.confirm)({caption:"提示",text:"任务正在进行中，如果需要切换系统，请先“结束复判”",type:"warning"}).then(function(e){});else{var s="sampleSys"===t?"file":"product";e.props.dispatch({type:"".concat(c,"/initialize"),data:{sysActive:t,rejudgeType:s}}),e.props.history.push(i+t)}},switchRejudgeType:function(e,t){var r=e.props,n=r.startTask,o=r.uploadState;n||o?(0,a.confirm)({caption:"提示",text:"任务正在进行中，如果需要切换复判类型，请先“结束复判”",type:"warning"}).then(function(e){}):e.props.dispatch({type:"".concat(c,"/initialize"),data:{sysActive:e.props.sysActive,rejudgeType:t}})},handleSwitchImg:function(e,t,r){var n=e.props,o=(n.dispatch,n.startTask,e.props.imageCurrentIndex),s=e.props.num_results;if("previousImg"!==t||o){if("nextImg"!==t||o+1!==s)return null===r||void 0===r||""===r?(function(e,t,r,n,o){var s=e.props;s.dispatch,s.startTask;if(p)return;p++,(0,a.confirm)({caption:n,text:o,type:r}).then(function(r){p=0,"cancel"===r||f(e,t)})}(e,t,"warning","切换图片","您还没有选择Code类型，是否确定切换".concat("previousImg"===t?"上":"下","一张图片？")),!1):void f(e,t);(0,a.TopTips)({theme:"warning",message:"已经是最后一张了！"})}else(0,a.TopTips)({theme:"warning",message:"已经是第一张了！"})},rework:function(e){var t=e.props,r=t.dispatch,n=t.imageInfo;r({type:"".concat(c,"/r_t_s"),data:{rework:n.rework?"":"1"}})},turnOn:function(e){var t=e.props,r=t.dispatch,n=t.imageInfo;r({type:"".concat(c,"/r_t_s"),data:{turn_on:n.turn_on?"":"1"}})},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},checkUploadFileSuffix:function(e,t){if(-1===e.lastIndexOf("."))return!1;var r,n=t.split(",");return r=n.length>1?"(.".concat(n.join("|."),")$"):"(.".concat(t,")$"),(r=new RegExp(r,"i")).test(e)},checkUploadFileSize:function(e,t){return e.size<=t},start_getImageLoad:function(){e("#imageDetailLoad").css("display","block")},end_getImageLoad:function(){e("#imageDetailLoad").css("display","none")},start_checkImageExist:function(t,r){e("#imageError").css("display","none"),e("#image").css("display","none"),e("#imageLoad").show()},end_checkImageExist:function(t,r){var n=t?t.props.imageInfo.img_url:r,a=new Image;a.src=u+n,a.onload=function(){e("#image").css("display","block"),e("#imageLoad").hide()},a.onerror=function(){e("#image").css("display","none"),e("#imageError").css("display","block"),e("#imageLoad").hide()}}};function f(e,t){if(!p){var r,n=e.props,a=n.sysActive,o=n.rejudgeType,i=n.dispatch;r="rejudgeSys"===a&&"product"===o?"rejudge_getImage":"handleQueryImage",i({type:"".concat(c,"/startTask"),data:{startTask:!1}}),i({type:"".concat(c,"/")+t,callback:function(e){i({type:"".concat(c,"/").concat(r),queryMap:null,callback:function(e){e.result&&(i(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){s(e,t,r[t])})}return e}({type:"".concat(c,"/setImageInfo")},e)),i({type:"".concat(c,"/changBaseState"),data:{direction_index:null}}))}})}})}}function g(e){for(var t=e.props,r=t.codeBtnActiveNumber,n=t.image_area_code_arr,a=!1,o=0;o<n.length;o++)r===n[o].code&&(a=o);return a||0}function m(e,t){return h.apply(this,arguments)}function h(){return(h=function(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var s=e.apply(t,r);function c(e){o(s,n,a,c,i,"next",e)}function i(e){o(s,n,a,c,i,"throw",e)}c(void 0)})}}(regeneratorRuntime.mark(function e(t,r){var n,a,o,s,i,u,p,d,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(n=t).props,o=a.direction_index,s=a.dispatch,i=a.image_area_code_arr,u=a.codeBtnActiveNumber,null!==(p=o)||u){e.next=9;break}return d=i[p=0].code,n.props.dispatch({type:"".concat(c,"/chooseCodeBtn"),data:{valid_code:d,codeBtnActiveNumber:d}}),s({type:"".concat(c,"/changBaseState"),data:{direction_index:0}}),e.abrupt("return");case 9:p=g(n),e.t0=r,e.next="left"===e.t0?13:"right"===e.t0?15:"top"===e.t0?17:"bottom"===e.t0?19:21;break;case 13:return p-=1,e.abrupt("break",21);case 15:return p+=1,e.abrupt("break",21);case 17:return p-=l,e.abrupt("break",21);case 19:return p+=l,e.abrupt("break",21);case 21:i[p]&&(f=i[p].code,n.props.dispatch({type:"".concat(c,"/chooseCodeBtn"),data:{valid_code:f,codeBtnActiveNumber:f}}),s({type:"".concat(c,"/changBaseState"),data:{direction_index:p}}));case 22:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var y=d;t.default=y}).call(this,r(246))},248:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.download=function(e,t){return(0,n.default)(e+"&rnd="+Math.random(),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("accessToken"))}}).then(function(e){return e.blob().then(function(r){if(e.ok)if(window.navigator.msSaveBlob)navigator.msSaveBlob(r,t);else{var n=document.createElement("a"),a=window.URL.createObjectURL(r);n.href=a,n.download=t,n.click(),window.URL.revokeObjectURL(a)}else o.notification.error("服务器错误")})})},t.default=function(e,t){var r={headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest",Authorization:"Bearer ".concat(localStorage.getItem("accessToken"))}};t.headers?t.headers=Object.assign(t.headers,r.headers):t.headers=r.headers;t.body&&(t.body=JSON.stringify(t.body));return t.credentials="include",(0,n.default)("".concat(a.suggestServer).concat(e),t).then(s).then(c)};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(729)),a=r(249),o=r(25);function s(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t}function c(e){return e.json()}},249:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.productServer=t.suggestServer=t.apiServer=void 0;var n,a=function(e){return e&&e.__esModule?e:{default:e}}(r(94));function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var s,c=e[Symbol.iterator]();!(n=(s=c.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c="";t.apiServer=c;var i="";t.suggestServer=i;var u="";t.productServer=u;var l="",p="";t.apiServer=c="".concat(window.location.origin,"/api/v1"),t.suggestServer=i="".concat(window.location.origin,"/api/v1/apps/RuleEngineApi.timatrix.tencent.com"),t.productServer=u="".concat(window.location.origin,"/api/v1"),l="".concat(window.location.origin,"/api/v1"),p="".concat(window.location.origin,"/api/v1");var d=(s(n={site:"get site",siteProduct:"get site/product",result_log:"get judge/result/log",sampleLog:"get judge/sample/log",sampleImg:"get judge/sample/img",updateSampleImg:"put judge/sample/img",sample_task:"put judge/sample/task",sampleUpload:"post judge/sample/upload",duplicateLog:"get judge/duplicate/log",rejudge_getImage:"get judge/img/duplicate",rejudge_start:"get judge/img/duplicate/product",updateImgDuplicate:"put judge/img/duplicate",duplicate_task:"put judge/duplicate/task",duplicateUpload:"post judge/duplicate/upload",extractLog:"get judge/extract/log",extract_start:"get judge/img/extract/product",extract_getImg:"get judge/img/extract",UpdateImgExtract:"put judge/img/extract",extractUpload:"post judge/extract/upload",extract_task:"put judge/extract/task",getCodeList:"get judge/code",codeUpload:"post judge/code/upload",codeAdd:"post judge/code/add",getJobsList:"get jobs",getJob:"get jobs/:id",addJob:"post jobs",updateJob:"put jobs/:id",updateJobs:"put jobs",deleteJob:"delete jobs/:id",deleteJobs:"delete jobs",getTemplateList:"get templates",getFaceList:"get facedbinfo/selectall",postFaceDel:"get facedbinfo/delete",getSearch:"get facedbinfo/select",update:"post facedbinfo/update",getFaceListType:"get facemgr/facelibs",showdbinfo:"get facedbinfo/showdbinfo"},"getFaceList","get facemgr/facelibs"),s(n,"postFaceDel","DELETE facemgr/facelibs/:id"),s(n,"update","put facemgr/facelibs/:id"),s(n,"getFaceListType","get facemgr/facelibs"),s(n,"getFaceTypeList","get facemgr/libtypes"),s(n,"showdbinfo","get facemgr/facelibs/:id"),s(n,"postFaceCreate","post facemgr/facelibs"),s(n,"getFaceDetail","get facemgr/faces"),s(n,"saveFace","put facemgr/faces/:id"),s(n,"saveFaces","put facemgr/faces"),s(n,"delFace","DELETE facemgr/faces/:id"),s(n,"delFaces","DELETE facemgr/faces"),s(n,"increase","post facemgr/faces"),s(n,"csvget","get faceinfo/csvget"),s(n,"tasks","get facemgr/facetasks"),s(n,"operateTask","put facemgr/facetasks/:id"),s(n,"taskFail","get facemgr/facefails"),s(n,"deletaTask","delete facemgr/facetasks/:id"),s(n,"getUserDropList","get getUserDropList"),s(n,"getGroupTree","get devices/grouptree"),s(n,"GetCameras","get cameras"),s(n,"inquireUserInfo","get results/useranalyze"),s(n,"getFaceType","get facemgr/libtypes"),s(n,"getConsumerType","get facemgr/libtypes"),s(n,"getFacedbList","get facemgr/facelibs"),s(n,"getCameras","get devices/cameras"),s(n,"getCamera","get devices/cameras/:id"),s(n,"fetchUserDetailsInfo","get consumer/track"),s(n,"fetchTrackDay","get consumer/trackday"),s(n,"fetchCameraTree","get devices/cameratree"),s(n,"fetchGuestInfo","get results/visitoranalyze"),s(n,"getTasks","get tasks"),s(n,"addFace","post consumer"),s(n,"getFaceListByType","get facemgr/facelibs"),s(n,"YoutuFace","get results/YoutuFace"),s(n,"postSignin","post auth/login"),s(n,"postSignout","post auth/logout"),s(n,"getUserinfoAll","get users"),s(n,"getUserinfo","get users/:id"),s(n,"getUserGroup","get groups"),s(n,"getAuthScopes","get auth/scopes"),s(n,"postUserinfoUpdate","put users/:id"),s(n,"postUserinfoDelete","delete users/:id"),s(n,"postCreateUser","post users"),s(n,"CreateRetrieval","post apps/shuibei/retrieval"),s(n,"userinfoPrivshow","get userinfo/privshow"),s(n,"getCarpedCar","get carped/cars/:id http://139.199.1.57:8086/v1"),s(n,"getCarpedCarNotify","get carped/cars http://139.199.1.57:8086/v1"),s(n,"userAnalyze","get results/useranalyze"),s(n,"getProjectList","get projects http://123.207.89.128:8080/api/v1"),s(n,"updateProjectInfo","put projects/:id http://123.207.89.128:8080/api/v1"),s(n,"getProjectStaus","get projectstatus http://123.207.89.128:8080/api/v1"),s(n,"getProjectTypes","get projecttypes http://123.207.89.128:8080/api/v1"),n),f=a.default.mapValues(function(e){if(a.default.isString(e)){var t=o(e.split(" "),3),r=t[0],n=t[1],s=t[2];return""!=s&&null!=s?"".concat(r," ").concat(s,"/").concat(n):"".concat(r," ").concat(c,"/").concat(n)}return e})(d),g=a.default.mapValues(function(e){if(a.default.isString(e)){var t=o(e.split(" "),3),r=t[0],n=t[1],s=t[2];return""!=s&&null!=s?"".concat(r," ").concat(s,"/").concat(n):"".concat(r," ").concat(i,"/").concat(n)}return e})({getRuleDefine:"get rule_define/get",getRuleInfo:"get rule_infos/get",applySetting:"get rule/apply",postAddVersion:"post rule/addversion",getDefectCodeRule:"get rule/defect_code",postDefectCodeRule:"post rule/defect_code",putDefectCodeRule:"put rule/defect_code",deleteDefectCodeRule:"delete rule/defect_code",getBugRule:"get rule/bug",postBugRule:"post rule/bug",putBugRule:"put rule/bug",deleteBugRule:"delete rule/bug",getBugFilterRule:"get rule/bug_filter",postBugFilterRule:"post rule/bug_filter",putBugFilterRule:"put rule/bug_filter",deleteBugFilterRule:"delete rule/bug_filter",getGlassRule:"get rule/glass",postGlassRule:"post rule/glass",putGlassRule:"put rule/glass",deleteGlassRule:"delete rule/glass"}),m=a.default.mapValues(function(e){if(a.default.isString(e)){var t=o(e.split(" "),3),r=t[0],n=t[1],s=t[2];return""!=s&&null!=s?"".concat(r," ").concat(s,"/").concat(n):"".concat(r," ").concat(u,"/").concat(n)}return e})({getSiteMap:"get site",addSite:"post site/site",addShop:"post site/factoryname",addOperation:"post site/processoperationname",getProductList:"get site/product",addProduct:"post site/product",updateProduct:"put site/product",updateProducts:"post site/product/file",deleteProduct:"delete site/product/:id",downloadProduct:"get site/product/template",getMessageList:"get site/message",getMessage:"get site/message/:id",addMessage:"post site/message",updateMessage:"put site/message/:id",updateMessages:"post site/message/file",downloadMessage:"get site/message/template",deleteMessage:"delete site/message/:id",getDataPath:"get site/datapath/:id",getDataPathList:"get site/datapath",addDataPath:"post site/datapath",updateDataPath:"put site/datapath/:id",deleteDataPath:"delete site/datapath/:id"}),h=a.default.mapValues(function(e){if(a.default.isString(e)){var t=o(e.split(" "),3),r=t[0],n=t[1],s=t[2];return""!=s&&null!=s?"".concat(r," ").concat(s,"/").concat(n):"".concat(r," ").concat(l,"/").concat(n)}return e})({getStatisSum:"get statis/sum",getStatisCode:"get statis/code",getStatisFlagdiff:"get statis/detail",getStatisFlagleak:"get statis/detail",getStatisDiffdetail:"get statis/detail",getStatisLeakdetail:"get statis/leakdetail"}),y=a.default.mapValues(function(e){if(a.default.isString(e)){var t=o(e.split(" "),3),r=t[0],n=t[1],s=t[2];return""!=s&&null!=s?"".concat(r," ").concat(s,"/").concat(n):"".concat(r," ").concat(p,"/").concat(n)}return e})({getSelectInfo:"get query",getFilterOptions:"get query",fetchCodeList:"get code",updateCode:"put code",getRejudgeData:"get glass",getRejudgeDataPost:"post glass_info",getImageList:"post glass_info",updateCodeList:"post code/upload",redataGlass:"put glass/:id"}),b=Object.assign(f,g,m,h,y);t.default=b},305:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=r(24),s=(i(r(2)),i(r(707)),i(r(625)),r(55)),c=i(r(564));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var g=(0,o.connect)(function(e){var t=e.login;return{loginSuccess:t.loginSuccess,user_name:t.user_name}})(n=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(f(f(r=function(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?f(e):t}(this,p(t).call(this,e)))),"handleExitLogin",function(){r.props.dispatch({type:"login/change",payload:{loginSuccess:!1}}),localStorage.removeItem("remember"),localStorage.removeItem("accessToken"),r.setState({isExitLogin:!0})}),r.state={user_name:"",isExitLogin:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,a.Component),function(e,t,r){t&&l(e.prototype,t),r&&l(e,r)}(t,[{key:"componentDidMount",value:function(){null!=this.state.user_name&&""!=this.state.user_name||this.setState({user_name:localStorage.getItem("user_name")||""})}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(this.props),this.state.isExitLogin?a.default.createElement(s.Redirect,{to:"/login"}):a.default.createElement("div",{className:c.default.header},a.default.createElement("div",{className:"qc-header-nav"},a.default.createElement("div",{className:"qc-header-inner"},a.default.createElement("div",{className:"qc-header-unit qc-header-logo",style:{width:"300px"}},a.default.createElement("div",{className:"qc-nav-logo"},a.default.createElement("a",{href:"##",title:"腾讯云",className:"qc-logo-inner"},a.default.createElement("i",{className:"qc-logo-icon"}),"腾讯云"),a.default.createElement("span",{className:"qc-logo-title"},a.default.createElement("span",null,"寻踪智能缺陷检测")))),a.default.createElement("div",{className:"qc-header-unit  qc-header-user"},a.default.createElement("div",{className:"qc-nav-user"},a.default.createElement("div",{className:"qc-user-inner"},a.default.createElement("span",{className:"qc-user-name"},this.state.user_name),a.default.createElement("i",{className:"qc-nav-arrows"}),a.default.createElement("div",{className:"qc-user-info qc-user-panel"},a.default.createElement("div",{className:"qc-user-panel-inner"},a.default.createElement("a",{style:{paddingLeft:"10px"},href:"javascript:;",onClick:this.handleExitLogin},"退出登录")))))))))}}]),t}())||n;t.default=g},306:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fixedZero=o,t.getTimeDistance=function(e){var t=new Date;if("today"===e)return t.setHours(0),t.setMinutes(0),t.setSeconds(0),[(0,n.default)(t),(0,n.default)(t.getTime()+86399e3)];if("week"===e){var r=t.getDay();t.setHours(0),t.setMinutes(0),t.setSeconds(0),0===r?r=6:r-=1;var a=t.getTime()-864e5*r;return[(0,n.default)(a),(0,n.default)(a+604799e3)]}if("month"===e){var s=t.getFullYear(),c=t.getMonth(),i=(0,n.default)(t).add(1,"months"),u=i.year(),l=i.month();return[(0,n.default)("".concat(s,"-").concat(o(c+1),"-01 00:00:00")),(0,n.default)((0,n.default)("".concat(u,"-").concat(o(l+1),"-01 00:00:00")).valueOf()-1e3)]}if("year"===e){var p=t.getFullYear();return[(0,n.default)("".concat(p,"-01-01 00:00:00")),(0,n.default)("".concat(p,"-12-31 23:59:59"))]}},t.getPlainNode=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";var n=[];t.forEach(function(t){var a=t;a.path="".concat(r,"/").concat(a.path||"").replace(/\/+/g,"/"),a.exact=!0,a.children&&!a.component?n.push.apply(n,function(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(e(a.children,a.path))):(a.children&&a.component&&(a.exact=!1),n.push(a))});return n},t.getRoutes=function(e,t){var r=Object.keys(t).filter(function(t){return 0===t.indexOf(e)&&t!==e});return function(e){var t=[];t.push(e[0]);for(var r=function(r){var n=!1;n=t.every(function(t){return 3===s(t,e[r])}),t=t.filter(function(t){return 1!==s(t,e[r])}),n&&t.push(e[r])},n=1;n<e.length;n+=1)r(n);return t}(r=r.map(function(t){return t.replace(e,"")})).map(function(n){var o=!r.some(function(e){return e!==n&&1===s(e,n)});return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){a(e,t,r[t])})}return e}({exact:o},t["".concat(e).concat(n)],{key:"".concat(e).concat(n),path:"".concat(e).concat(n)})})},t.isUrl=function(e){return c.test(e)},t.urlToList=function(e){var t=e.split("/").filter(function(e){return e});return t.map(function(e,r){return"/".concat(t.slice(0,r+1).join("/"))})},t.numFixed1=function(e){return Math.round(100*e*10)/10};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(2));function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e){return 1*e<10?"0".concat(e):e}function s(e,t){e===t&&console.warn("Two path are equal!");var r=e.split("/"),n=t.split("/");return n.every(function(e,t){return e===r[t]})?1:r.every(function(e,t){return e===n[t]})?2:3}var c=/(((^https?:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)$/g},307:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FACT_TYPE=t.getMenu=void 0;var n=r(306);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=[{name:"站点产品管理",path:"product",groupIds:[10,11,14]},{name:"检测项目管理",path:"jobs",groupIds:[10,11,14]},{name:"数据统计",path:"statis",groupIds:[10,11,14],children:[{name:"数据概览",path:"Sum"},{name:"准确率与覆盖率",path:"Code"},{name:"Turn on Flag 比对",path:"Flagdiff"},{name:"Turn on Flag漏单",path:"Flagleak"},{name:"结果差异明细",path:"Diffdetail"}]},{name:"开单建议管理",path:"suggest",groupIds:[10,11,14],children:[{name:"新建版本",path:"ruleversion"},{name:"规则编辑",path:"image"},{name:"规则生效",path:"apply"}]},{name:"复判工具",path:"rejudge/sampleSys",groupIds:[10,11,14,13]},{name:"结果查看",path:"viewResult",groupIds:[10,11,14,13]},{name:"账号权限",path:"account",groupIds:[10,11]}];function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",r=arguments.length>2?arguments[2]:void 0;return e.map(function(e){var o=e.path;(0,n.isUrl)(o)||(o=t+e.path);var c=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){a(e,t,r[t])})}return e}({},e,{path:o,authority:e.authority||r});return e.children&&(c.children=s(e.children,"".concat(t).concat(e.path,"/"),e.authority)),c})}t.getMenu=function(){var e=s(o),t=localStorage.getItem("groupId");return t&&(t=parseInt(t)),e.filter(function(e){return!e.groupIds||!t||e.groupIds.includes(t)})};t.FACT_TYPE=[{text:"VIP",value:1},{text:"员工",value:2},{text:"黑名单",value:3},{text:"其他",value:4}]},309:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterNull=function(e){var t=JSON.parse(JSON.stringify(e));return t.data.forEach(function(e){var t=e.rule;if(t)for(var r in t=JSON.parse(t))e[r]=t[r];for(var n in e)null!=e[n]&&"rule"!=n||delete e[n]}),t}},310:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(25),a=r(515);function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){s(e,t,r[t])})}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){e.method;var t=e.url,r=e.data;arguments.length>1&&void 0!==arguments[1]&&arguments[1];r=o({},r);for(var n,a=/\/:(\w+)/g,s=[];null!=(n=a.exec(t));)n[1]&&s.push(n[1]);return null!=s&&s.forEach(function(e){var n=r[e];delete r[e],null==n&&(n=""),t=t.replace(":".concat(e),n)}),r.q&&(t+="?q=".concat(r.q),delete r.q),{url:t,data:r}}function i(e,t){return{or:t.map(function(t){return{name:t,op:"like",val:"%".concat(e,"%")}})}}var u={namespace:"jobs",state:{selectedJobs:[],jobsList:[],total:0,limit:15,page:0,sortOrder:null,isJobsLoading:!1,isSubmitting:!1,searchText:"",dialog:{visible:!1,operation:"",batch:!1,action:null},showMessageDialog:!1,siteMap:[],productList:[],productSearch:"",templateList:[],editMode:"new",id:"",name:"",nameError:!1,scheduleStartTime:"",scheduleEndTime:"",schedule:0,templateId:"",site:"",shop:"",operation:"",products:[],monitor:{},reply:{},status:"START"},reducers:{initialize:function(e){return o({},e,{page:0,limit:15,searchText:"",sortOrder:"desc"})},initializeNewJob:function(e){return o({},e,{editMode:"new",name:"",scheduleStartTime:"",scheduleEndTime:"",schedule:0,templateId:"",siteMap:[],site:"",shop:"",operation:"",products:[],productList:[]})},openDialog:function(e,t){var r=t.payload,n=r.operation,a=r.action;return o({},e,{dialog:{visible:!0,operation:n,batch:r.batch,action:a}})},openMessageDialog:function(e){return o({},e,{showMessageDialog:!0})},closeDialog:function(e){return o({},e,{showMessageDialog:!1,dialog:{visible:!1,operation:"",batch:!1,action:null}})},startSubmit:function(e){return o({},e,{isSubmitting:!0})},endSubmit:function(e){return o({},e,{isSubmitting:!1})}},effects:{refresh:regeneratorRuntime.mark(function e(t,r){var n,a,o,s,c,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.select,a=r.put,e.next=3,n(function(e){return e.jobs});case 3:return o=e.sent,s=o.page,c=o.limit,i=o.searchText,u=o.sortOrder,e.next=10,a({type:"jobs/fetchJobs",payload:{page:s,limit:c,searchText:i,sortOrder:u}});case 10:case"end":return e.stop()}},e,this)}),fetchJobs:regeneratorRuntime.mark(function e(t,r){var n,a,o,s,c,u,l,p,d,f,g,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,n=r.put,a=r.call,r.cancel,o=r.context,e.next=3,n({type:"change",payload:{jobsList:[],isJobsLoading:!0}});case 3:return s=t.payload,c=s.page,u=s.limit,l=s.searchText,p=s.sortOrder,d={page:c+1,results_per_page:u},f={},p&&(f.order_by=[{field:"cTime",direction:p}]),l&&(f.filters=[i(l,["name","id"])]),d.q=JSON.stringify(f),e.next=11,a(o.service.getJobsList,d);case 11:if(g=e.sent,"0"!==(m=g.resp).code&&0!==m.code){e.next=22;break}if(0===c||m.data[0]){e.next=20;break}return e.next=17,n({type:"jobs/change",payload:{page:c-1}});case 17:return e.next=19,n({type:"jobs/refresh"});case 19:return e.abrupt("return",e.sent);case 20:return e.next=22,n({type:"jobs/change",payload:{jobsList:m.data,selectedJobs:[],searchText:l,total:m.num_results,isJobsLoading:!1}});case 22:case"end":return e.stop()}},e,this)}),fetchJob:regeneratorRuntime.mark(function e(t,r){var n,a,o,s,c,i,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,n=r.put,a=r.call,r.cancel,o=r.context,e.next=3,n({type:"jobs/change",payload:{isJobsLoading:!0,name:"",scheduleStartTime:"",scheduleEndTime:"",schedule:0,templateId:"",site:"",shop:"",operation:"",products:[]}});case 3:return s=t.payload.id,e.next=6,a(o.service.getJob,{id:s});case 6:if(c=e.sent,"0"!==(i=c.resp).code&&0!==i.code){e.next=15;break}return u=i.data,l=u.config,e.next=13,n({type:"jobs/change",payload:{name:u.name,scheduleStartTime:u.scheduleStartTime,scheduleEndTime:u.scheduleEndTime,schedule:u.schedule,templateId:u.templateId,site:l.site,shop:l.shop,operation:l.operation,products:l.products,monitor:l.monitor,reply:l.reply,status:u.status,isJobsLoading:!1}});case 13:return e.next=15,n({type:"jobs/fetchProducts",payload:l});case 15:case"end":return e.stop()}},e,this)}),stopJobs:regeneratorRuntime.mark(function e(t,r){var o,s,c,i,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,o=r.put,s=r.call,r.cancel,c=r.context,i=t.payload.id,e.next=4,s(c.service.updateJobs,{q:{filters:[{name:"id",op:"in",val:i}]},status:"STOP"});case 4:return u=e.sent,"0"!==(l=u.resp).code&&0!==l.code||(0,n.TopTips)({theme:"done",message:a.jobsOperation.stop.successMessage}),e.next=9,o({type:"jobs/refresh"});case 9:case"end":return e.stop()}},e,this)}),startJobs:regeneratorRuntime.mark(function e(t,r){var o,s,c,i,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,o=r.put,s=r.call,r.cancel,c=r.context,i=t.payload.id,e.next=4,s(c.service.updateJobs,{q:{filters:[{name:"id",op:"in",val:i}]},status:"START"});case 4:return u=e.sent,"0"!==(l=u.resp).code&&0!==l.code||(0,n.TopTips)({theme:"done",message:a.jobsOperation.start.successMessage}),e.next=9,o({type:"jobs/refresh"});case 9:case"end":return e.stop()}},e,this)}),deleteJobs:regeneratorRuntime.mark(function e(t,r){var o,s,i,u,l,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,o=r.put,s=r.call,r.cancel,i=r.context,u=t.payload.id,e.next=4,s(i.service.deleteJobs,{q:encodeURIComponent(JSON.stringify({filters:[{name:"id",op:"in",val:u}]}))},{normalizeReq:c});case 4:return l=e.sent,"0"!==(p=l.resp).code&&0!==p.code||(0,n.TopTips)({theme:"done",message:a.jobsOperation.delete.successMessage}),e.next=9,o({type:"jobs/refresh"});case 9:case"end":return e.stop()}},e,this)}),stopJob:regeneratorRuntime.mark(function e(t,r){var o,s,i,u,l,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,o=r.put,s=r.call,r.cancel,i=r.context,u=t.payload.id,e.next=4,s(i.service.updateJob,{id:u,status:"STOP"},{normalizeReq:c});case 4:return l=e.sent,"0"!==(p=l.resp).code&&0!==p.code||(0,n.TopTips)({theme:"done",message:a.jobsOperation.stop.successMessage}),e.next=9,o({type:"jobs/refresh"});case 9:case"end":return e.stop()}},e,this)}),startJob:regeneratorRuntime.mark(function e(t,r){var o,s,i,u,l,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,o=r.put,s=r.call,r.cancel,i=r.context,u=t.payload.id,e.next=4,s(i.service.updateJob,{id:u,status:"START"},{normalizeReq:c});case 4:return l=e.sent,"0"!==(p=l.resp).code&&0!==p.code||(0,n.TopTips)({theme:"done",message:a.jobsOperation.start.successMessage}),e.next=9,o({type:"jobs/refresh"});case 9:case"end":return e.stop()}},e,this)}),deleteJob:regeneratorRuntime.mark(function e(t,r){var o,s,c,i,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,o=r.put,s=r.call,r.cancel,c=r.context,i=t.payload.id,e.next=4,s(c.service.deleteJob,{id:i});case 4:return u=e.sent,"0"!==(l=u.resp).code&&0!==l.code||(0,n.TopTips)({theme:"done",message:a.jobsOperation.delete.successMessage}),e.next=9,o({type:"jobs/refresh"});case 9:case"end":return e.stop()}},e,this)}),fetchSiteMap:regeneratorRuntime.mark(function e(t,r){var n,a,o,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,n=r.put,a=r.call,r.cancel,o=r.context,e.next=3,a(o.service.getSiteMap);case 3:if(s=e.sent,"0"!==(c=s.resp).code&&0!==c.code){e.next=8;break}return e.next=8,n({type:"jobs/change",payload:{siteMap:c.data}});case 8:case"end":return e.stop()}},e,this)}),fetchProducts:regeneratorRuntime.mark(function e(t,r){var n,a,o,s,c,i,u,l,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,n=r.put,a=r.call,r.cancel,o=r.context,s=t.payload,c=s.site,i=s.shop,u=s.operation,e.next=4,a(o.service.getProductList,{q:JSON.stringify({filters:[{and:[{name:"site",op:"eq",val:c},{and:[{name:"factory_name",op:"eq",val:i},{name:"process_operation_name",op:"eq",val:u}]}]}]})});case 4:if(l=e.sent,"0"!==(p=l.resp).code&&0!==p.code){e.next=9;break}return e.next=9,n({type:"jobs/change",payload:{productList:p.data.filter(function(e){return 1===e.is_valid}).map(function(e){return{product:e.product_spec_name,ratio:e.ratio}})}});case 9:case"end":return e.stop()}},e,this)}),addJob:regeneratorRuntime.mark(function e(t,r){var o,s,c,i,u,l,p,d,f,g,m,h,y,b,v,x,_,k;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,o=r.put,s=r.call,r.cancel,c=r.context,i=t.payload,u=i.name,l=i.scheduleStartTime,p=i.scheduleEndTime,d=i.schedule,f=i.templateId,g=i.site,m=i.shop,h=i.operation,y=i.products,e.next=4,s(c.service.getMessageList,{q:JSON.stringify({filters:[{and:[{name:"site",op:"eq",val:g},{name:"is_valid",op:"eq",val:1}]}]})});case 4:if(b=e.sent,!(v=b.resp).code){e.next=10;break}return e.next=9,o({type:"jobs/endSubmit"});case 9:return e.abrupt("return",(0,n.TopTips)({theme:"error",message:"获取消息配置失败"}));case 10:if(v.data[0]){e.next=16;break}return e.next=13,o({type:"jobs/endSubmit"});case 13:return e.next=15,o({type:"jobs/openMessageDialog"});case 15:return e.abrupt("return",e.sent);case 16:return x=v.data[0],e.next=19,s(c.service.addJob,{config:{site:g,shop:m,operation:h,monitor:{service:x.listen_service,network:x.listen_network,daemon:x.listen_daemon,topic:x.adc_listen,listener:x.listener},reply:{service:x.resp_service,network:x.resp_network,daemon:x.resp_daemon,topic:x.adc_response,listener:x.responser},products:y},name:u,scheduleStartTime:l,scheduleEndTime:p,schedule:d,dataSource:[{id:"",parentgroup:""}],templateId:f,status:"START"});case 19:return _=e.sent,"0"!==(k=_.resp).code&&0!==k.code||(0,n.TopTips)({theme:"done",message:a.jobsOperation.add.successMessage}),e.next=24,o({type:"jobs/endSubmit"});case 24:c.history.replace("/jobs");case 25:case"end":return e.stop()}},e,this)}),updateJob:regeneratorRuntime.mark(function e(t,r){var o,s,i,u,l,p,d,f,g,m,h,y,b,v,x,_,k,w,T;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,o=r.put,s=r.call,r.cancel,i=r.context,u=t.payload,l=u.id,p=u.name,d=u.scheduleStartTime,f=u.scheduleEndTime,g=u.schedule,m=u.templateId,h=u.site,y=u.shop,b=u.operation,v=u.monitor,x=u.reply,_=u.status,k=u.products,e.next=4,s(i.service.updateJob,{id:l,config:{site:h,shop:y,operation:b,products:k,monitor:v,reply:x},name:p,scheduleStartTime:d,scheduleEndTime:f,schedule:g,dataSource:[{id:"",parentgroup:""}],templateId:m,status:_},{normalizeReq:c});case 4:return w=e.sent,"0"!==(T=w.resp).code&&0!==T.code||(0,n.TopTips)({theme:"done",message:a.jobsOperation.update.successMessage}),e.next=9,o({type:"jobs/endSubmit"});case 9:i.history.replace("/jobs");case 10:case"end":return e.stop()}},e,this)}),fetchTemplates:regeneratorRuntime.mark(function e(t,r){var n,a,o,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,n=r.put,a=r.call,r.cancel,o=r.context,e.next=3,a(o.service.getTemplateList);case 3:if(s=e.sent,"0"!==(c=s.resp).code&&0!==c.code){e.next=8;break}return e.next=8,n({type:"jobs/change",payload:{templateList:c.data}});case 8:case"end":return e.stop()}},e,this)}),changeSort:regeneratorRuntime.mark(function e(t,r){var n,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.put,a=r.select,e.next=3,a(function(e){return e.jobs});case 3:o=e.sent,s=o.sortOrder,e.t0=s,e.next="desc"===e.t0?8:"asc"===e.t0?10:12;break;case 8:return s="asc",e.abrupt("break",13);case 10:return s=null,e.abrupt("break",13);case 12:s="desc";case 13:return e.next=15,n({type:"jobs/change",payload:{sortOrder:s,page:0}});case 15:return e.next=17,n({type:"jobs/refresh"});case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}},e,this)})}};t.default=u},514:function(e,t,r){"use strict";(function(e,r){var n,a,o;function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,c){"object"==s(t)&&"object"==s(r)?r.exports=c():(a=[],void 0===(o="function"==typeof(n=c)?n.apply(t,a):n)||(r.exports=o))}(0,function(){return function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){function n(e){var t=new s(e),r=o(s.prototype.request,t);return a.extend(r,s.prototype,t),a.extend(r,t),r}var a=r(2),o=r(3),s=r(5),c=r(6),i=n(c);i.Axios=s,i.create=function(e){return n(a.merge(c,e))},i.Cancel=r(23),i.CancelToken=r(24),i.isCancel=r(20),i.all=function(e){return Promise.all(e)},i.spread=r(25),e.exports=i,e.exports.default=i},function(e,t,r){function n(e){return"[object Array]"===l.call(e)}function a(e){return null!==e&&"object"==s(e)}function o(e){return"[object Function]"===l.call(e)}function c(e,t){if(null!==e&&void 0!==e)if("object"!=s(e)&&(e=[e]),n(e))for(var r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var i=r(3),u=r(4),l=Object.prototype.toString;e.exports={isArray:n,isArrayBuffer:function(e){return"[object ArrayBuffer]"===l.call(e)},isBuffer:u,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===l.call(e)},isFile:function(e){return"[object File]"===l.call(e)},isBlob:function(e){return"[object Blob]"===l.call(e)},isFunction:o,isStream:function(e){return a(e)&&o(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function e(){function t(t,n){"object"==s(r[n])&&"object"==s(t)?r[n]=e(r[n],t):r[n]=t}for(var r={},n=0,a=arguments.length;n<a;n++)c(arguments[n],t);return r},extend:function(e,t,r){return c(t,function(t,n){e[n]=r&&"function"==typeof t?i(t,r):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t){e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},function(e,t){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
    * Determine if an object is a Buffer
    *
    * @author   Feross Aboukhadijeh <https://feross.org>
    * @license  MIT
    */
e.exports=function(e){return null!=e&&(r(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,r){function n(e){this.defaults=e,this.interceptors={request:new s,response:new s}}var a=r(6),o=r(2),s=r(17),c=r(18);n.prototype.request=function(e){"string"==typeof e&&(e=o.merge({url:arguments[0]},arguments[1])),(e=o.merge(a,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[c,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)r=r.then(t.shift(),t.shift());return r},o.forEach(["delete","get","head","options"],function(e){n.prototype[e]=function(t,r){return this.request(o.merge(r||{},{method:e,url:t}))}}),o.forEach(["post","put","patch"],function(e){n.prototype[e]=function(t,r,n){return this.request(o.merge(n||{},{method:e,url:t,data:r}))}}),e.exports=n},function(t,r,n){function a(e,t){!o.isUndefined(e)&&o.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var o=n(2),s=n(7),c={"Content-Type":"application/x-www-form-urlencoded"},i={adapter:function(){var t;return"undefined"!=typeof XMLHttpRequest?t=n(8):void 0!==e&&(t=n(8)),t}(),transformRequest:[function(e,t){return s(t,"Content-Type"),o.isFormData(e)||o.isArrayBuffer(e)||o.isBuffer(e)||o.isStream(e)||o.isFile(e)||o.isBlob(e)?e:o.isArrayBufferView(e)?e.buffer:o.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):o.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};o.forEach(["delete","get","head"],function(e){i.headers[e]={}}),o.forEach(["post","put","patch"],function(e){i.headers[e]=o.merge(c)}),t.exports=i},function(e,t,r){var n=r(2);e.exports=function(e,t){n.forEach(e,function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])})}},function(e,t,r){var n=r(2),a=r(9),o=r(12),s=r(13),c=r(14),i=r(10),u="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||r(15);e.exports=function(e){return new Promise(function(t,l){var p=e.data,d=e.headers;n.isFormData(p)&&delete d["Content-Type"];var f=new XMLHttpRequest,g="onreadystatechange",m=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in f||c(e.url)||(f=new window.XDomainRequest,g="onload",m=!0,f.onprogress=function(){},f.ontimeout=function(){}),e.auth){var h=e.auth.username||"",y=e.auth.password||"";d.Authorization="Basic "+u(h+":"+y)}if(f.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),!0),f.timeout=e.timeout,f[g]=function(){if(f&&(4===f.readyState||m)&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in f?s(f.getAllResponseHeaders()):null,n={data:e.responseType&&"text"!==e.responseType?f.response:f.responseText,status:1223===f.status?204:f.status,statusText:1223===f.status?"No Content":f.statusText,headers:r,config:e,request:f};a(t,l,n),f=null}},f.onerror=function(){l(i("Network Error",e,null,f)),f=null},f.ontimeout=function(){l(i("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",f)),f=null},n.isStandardBrowserEnv()){var b=r(16),v=(e.withCredentials||c(e.url))&&e.xsrfCookieName?b.read(e.xsrfCookieName):void 0;v&&(d[e.xsrfHeaderName]=v)}if("setRequestHeader"in f&&n.forEach(d,function(e,t){void 0===p&&"content-type"===t.toLowerCase()?delete d[t]:f.setRequestHeader(t,e)}),e.withCredentials&&(f.withCredentials=!0),e.responseType)try{f.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&f.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){f&&(f.abort(),l(e),f=null)}),void 0===p&&(p=null),f.send(p)})}},function(e,t,r){var n=r(10);e.exports=function(e,t,r){var a=r.config.validateStatus;r.status&&a&&!a(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},function(e,t,r){var n=r(11);e.exports=function(e,t,r,a,o){var s=new Error(e);return n(s,t,r,a,o)}},function(e,t){e.exports=function(e,t,r,n,a){return e.config=t,r&&(e.code=r),e.request=n,e.response=a,e}},function(e,t,r){function n(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var a=r(2);e.exports=function(e,t,r){if(!t)return e;var o;if(r)o=r(t);else if(a.isURLSearchParams(t))o=t.toString();else{var s=[];a.forEach(t,function(e,t){null!==e&&void 0!==e&&(a.isArray(e)?t+="[]":e=[e],a.forEach(e,function(e){a.isDate(e)?e=e.toISOString():a.isObject(e)&&(e=JSON.stringify(e)),s.push(n(t)+"="+n(e))}))}),o=s.join("&")}return o&&(e+=(-1===e.indexOf("?")?"?":"&")+o),e}},function(e,t,r){var n=r(2),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,o,s={};return e?(n.forEach(e.split("\n"),function(e){if(o=e.indexOf(":"),t=n.trim(e.substr(0,o)).toLowerCase(),r=n.trim(e.substr(o+1)),t){if(s[t]&&a.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([r]):s[t]?s[t]+", "+r:r}}),s):s}},function(e,t,r){var n=r(2);e.exports=n.isStandardBrowserEnv()?function(){function e(e){var t=e;return r&&(a.setAttribute("href",t),t=a.href),a.setAttribute("href",t),{href:a.href,protocol:a.protocol?a.protocol.replace(/:$/,""):"",host:a.host,search:a.search?a.search.replace(/^\?/,""):"",hash:a.hash?a.hash.replace(/^#/,""):"",hostname:a.hostname,port:a.port,pathname:"/"===a.pathname.charAt(0)?a.pathname:"/"+a.pathname}}var t,r=/(msie|trident)/i.test(navigator.userAgent),a=document.createElement("a");return t=e(window.location.href),function(r){var a=n.isString(r)?e(r):r;return a.protocol===t.protocol&&a.host===t.host}}():function(){return!0}},function(e,t){function r(){this.message="String contains an invalid character"}var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.prototype=new Error,r.prototype.code=5,r.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,a,o=String(e),s="",c=0,i=n;o.charAt(0|c)||(i="=",c%1);s+=i.charAt(63&t>>8-c%1*8)){if((a=o.charCodeAt(c+=.75))>255)throw new r;t=t<<8|a}return s}},function(e,t,r){var n=r(2);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,a,o,s){var c=[];c.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&c.push("expires="+new Date(r).toGMTString()),n.isString(a)&&c.push("path="+a),n.isString(o)&&c.push("domain="+o),!0===s&&c.push("secure"),document.cookie=c.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,r){function n(){this.handlers=[]}var a=r(2);n.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},n.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},n.prototype.forEach=function(e){a.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=n},function(e,t,r){function n(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var a=r(2),o=r(19),s=r(20),c=r(6),i=r(21),u=r(22);e.exports=function(e){return n(e),e.baseURL&&!i(e.url)&&(e.url=u(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=a.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),a.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||c.adapter)(e).then(function(t){return n(e),t.data=o(t.data,t.headers,e.transformResponse),t},function(t){return s(t)||(n(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,r){var n=r(2);e.exports=function(e,t,r){return n.forEach(r,function(r){e=r(e,t)}),e}},function(e,t){e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t){e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t){e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t){function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,r){function n(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var r=this;e(function(e){r.reason||(r.reason=new a(e),t(r.reason))})}var a=r(23);n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var e;return{token:new n(function(t){e=t}),cancel:e}},e.exports=n},function(e,t){e.exports=function(e){return function(t){return e.apply(null,t)}}}])})}).call(this,r(313),r(95)(e))},515:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.jobsStatus=t.jobsOperation=void 0;t.jobsOperation={start:{name:"启用",confirmMessage:"启用后，该检测项目将开始智能识别",successMessage:"启用成功"},stop:{name:"停用",confirmMessage:"停用后，该检测项目将不会再进行智能识别",successMessage:"停用成功"},delete:{name:"删除",confirmMessage:"删除后，该检测项目将不会再进行智能识别，且删除操作无法恢复",successMessage:"删除成功"},add:{name:"添加",successMessage:"添加成功"},update:{name:"更新",successMessage:"更新成功"}};t.jobsStatus={START:"已启用",STOP:"已停用"}},516:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NEW_SIGN=t.message=void 0;t.message={add:{title:"新建站点产品",intro:"新建产品后，请在数据路径配置和检测项目管理页面，完成对应配置业务说明"},update:{title:"修改站点产品",intro:"新建产品后，请在数据路径配置和检测项目管理页面，完成对应配置业务说明"}};t.NEW_SIGN="__new__"},520:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=r(24),o=(r(55),c(r(308))),s=c(r(305));function c(e){return e&&e.__esModule?e:{default:e}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=l(this,p(t).call(this,e))).state={},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,n.default.PureComponent),function(e,t,r){t&&u(e.prototype,t),r&&u(e,r)}(t,[{key:"getPageTitle",value:function(){return"NotFound"}},{key:"render",value:function(){var e=this.props,t=(e.currentUser,e.match,e.location,e.children),r=n.default.createElement(n.default.Fragment,null,n.default.createElement("header",null,n.default.createElement(s.default,null)),n.default.createElement("div",{style:{left:0},className:"container"},t));return n.default.createElement(o.default,{title:this.getPageTitle()},r)}}]),t}(),g=(0,a.connect)(function(e){e.user,e.global,e.loading;return{currentUser:""}})(f);t.default=g},522:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.getMeunMatcheys=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=c(r(521)),o=r(55),s=c(r(172));c(r(245));function c(e){return e&&e.__esModule?e:{default:e}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t.getMeunMatcheys=function(e,t){return e.filter(function(e){return(0,a.default)(e).test(t)})};var f=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=function(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?d(e):t}(this,l(t).call(this,e))).state={openKeys:[]},r.handlerMenuToggle=r.handlerMenuToggle.bind(d(d(r))),r.handlerSubMenuToggle=r.handlerSubMenuToggle.bind(d(d(r))),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,n.Component),function(e,t,r){t&&u(e.prototype,t),r&&u(e,r)}(t,[{key:"componentWillUnmount",value:function(){}},{key:"getSelectedMenuKeys",value:function(){var e=this.props.location.pathname,t=e.split("/");return t.length>3&&(e=t.slice(0,3).join("/")),e}},{key:"handlerMenuToggle",value:function(){var e=this.props,t=e.collapsed;(0,e.onCollapse)(!t)}},{key:"handlerSubMenuToggle",value:function(e,t){var r=this.state.openKeys;r[t]=!r[t],r=Object.assign({},r),this.setState({openKeys:r}),e.preventDefault()}},{key:"render",value:function(){var e=this,t=this.props,r=t.menuData,a=t.collapsed,c=(t.location.pathname,this.state.openKeys),i=this.getSelectedMenuKeys();return n.default.createElement("div",{className:"aside","data-focus":"一级菜单"},n.default.createElement("div",{className:"menu"},n.default.createElement("dl",{className:"menu-list"},r.map(function(t,r){return t.children?n.default.createElement("dd",{key:r},n.default.createElement(o.Link,{to:t.path,title:t.name,className:"menu-lv2"},n.default.createElement("span",null,t.name)," ",n.default.createElement("i",{className:(0,s.default)({"white-down-icon":!0}),onClick:function(t){e.handlerSubMenuToggle(t,r)}})),n.default.createElement("ul",{role:"menu",className:"menu-sub",style:{display:c[r]?"none":"block"}},t.children.map(function(e,t){return n.default.createElement("li",{role:"menuitem",key:t},n.default.createElement(o.Link,{to:e.path,title:e.name,className:(0,s.default)({"menu-lv3":!0,act:e.path.indexOf(i)>-1})},n.default.createElement("i",{className:"ico-dot"})," ",n.default.createElement("span",null,e.name)))}))):n.default.createElement("dd",{role:"menuitem",key:r},n.default.createElement(o.Link,function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({to:t.path,title:t.name,className:"menu-lv2"},"className",(0,s.default)({"menu-lv2":!0,act:i.indexOf(t.path)>-1})),n.default.createElement("span",null,t.name)))}))),n.default.createElement("a",{href:"javascript:void(0);",title:a?"展开":"收起",className:(0,s.default)({"btn-fold-menu":!0,retract:a}),onClick:this.handlerMenuToggle},"收起"))}}]),t}();t.default=f},562:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(561);var n=s(r(0)),a=s(r(517)),o=s(r(522));function s(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.default=function(e){return e.isMobile?n.default.createElement(a.default,{parent:null,level:null,iconChild:null,open:!e.collapsed,onMaskClick:function(){e.onCollapse(!0)},width:"256px"},n.default.createElement(o.default,c({},e,{collapsed:!e.isMobile&&e.collapsed}))):n.default.createElement(o.default,e)}},563:function(e,t,r){(e.exports=r(174)(!1)).push([e.i,".qc-user-inner:hover .qc-user-info {\n  display: block;\n  background-color: #262626;\n}\n",""])},564:function(e,t,r){var n=r(563);"string"==typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};r(173)(n,a);n.locals&&(e.exports=n.locals)},711:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=p(r(3)),o=r(24),s=(r(55),p(r(308))),c=r(307),i=r(306),u=p(r(305)),l=p(r(562));function p(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),y(h(h(r=function(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?h(e):t}(this,g(t).call(this,e)))),"getBashRedirect",function(){var e=new URL(window.location.href),t=e.searchParams.get("redirect");if(!t){var n=r.props.routerData;return Object.keys(n).find(function(e){return check(n[e].authority,e)&&"/"!==e})}return e.searchParams.delete("redirect"),window.history.replaceState(null,"redirect",e.href),t}),r.state={getMenuData:[],redirectData:[]},r.handleMenuCollapse=r.handleMenuCollapse.bind(h(h(r))),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,n.default.PureComponent),function(e,t,r){t&&f(e.prototype,t),r&&f(e,r)}(t,[{key:"getChildContext",value:function(){var e=this.props,t=e.location;e.routerData;return{location:t}}},{key:"componentDidMount",value:function(){this.initRedirect()}},{key:"initRedirect",value:function(){var e=(0,c.getMenu)(),t=[];e.forEach(function e(r){r&&r.children&&r.children[0]&&r.children[0].path&&(t.push({from:"".concat(r.path),to:"".concat(r.children[0].path)}),r.children.forEach(function(t){e(t)}))}),this.setState({redirectData:t,getMenuData:e})}},{key:"getPageTitle",value:function(){var e=this.props.location.pathname,t=this.state.getMenuData,r=t.length&&this.getMenuName(t,e);return r?"".concat(r.name," --寻踪智能缺陷检测"):"寻踪智能缺陷检测"}},{key:"getMenuName",value:function(e,t){var r=e;return(0,i.urlToList)(t).forEach(function(e){(r=r.filter(function(t){return t.path==e}))[0]&&r[0].children&&(r=r[0].children)}),r[0]}},{key:"handleMenuCollapse",value:function(e){this.props.dispatch({type:"global/changeLayoutCollapsed",payload:e})}},{key:"render",value:function(){var e=this.props,t=(e.currentUser,e.collapsed),r=(e.fetchingNotices,e.notices,e.match,e.location),a=e.children,o=this.state.getMenuData,c=n.default.createElement(n.default.Fragment,null,n.default.createElement("header",null,n.default.createElement(u.default,null)),n.default.createElement("div",{style:{left:t?"-201px":0},className:"container"},n.default.createElement(l.default,{menuData:o,collapsed:t,location:r,onCollapse:this.handleMenuCollapse}),a));return n.default.createElement(s.default,{title:this.getPageTitle()},c)}}]),t}();y(b,"childContextTypes",{location:a.default.object,breadcrumbNameMap:a.default.object});var v=(0,o.connect)(function(e){e.user;var t=e.global,r=e.loading;return{currentUser:"",collapsed:t.collapsed,fetchingNotices:r.effects["global/fetchNotices"],notices:121212}})(b);t.default=v},712:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return n.default.createElement("div",{className:"error-page"},n.default.createElement("h2",null,"404"),n.default.createElement("p",null,"您访问的页面没有找到！",n.default.createElement(a.Link,{to:"/"},"返回首页")))};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0)),a=r(55)},713:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.history,a=e.app,c=a.Location,i=(0,a.createAppEntry)(v);return n.default.createElement(s.ConnectedRouter,{history:t},n.default.createElement("div",null,n.default.createElement(o.Route,{path:"/",component:c}),n.default.createElement(o.Switch,null,n.default.createElement(o.Route,{path:"/",exact:!0,render:function(){var e=(0,d.getMenu)(),t=e[0]&&e[0].path&&"/"+e[0].path;return t=(t=t||"/product").replace(/\/+/g,"/"),n.default.createElement(o.Redirect,{to:t})}}),n.default.createElement(i,{path:"/historical_data",async:!0,layout:l.default,component:function(){return r.e(18).then(function(){var e=r(1060);return"object"==typeof e&&e&&e.__esModule?e:Object.assign({},"object"==typeof e&&e,{default:e})})}}),n.default.createElement(i,{path:"/account",async:!0,layout:l.default,component:function(){return r.e(18).then(function(){var e=r(1059);return"object"==typeof e&&e&&e.__esModule?e:Object.assign({},"object"==typeof e&&e,{default:e})})}}),n.default.createElement(i,{path:"/product",async:!0,layout:l.default,component:function(){return r.e(17).then(function(){var e=r(1058);return"object"==typeof e&&e&&e.__esModule?e:Object.assign({},"object"==typeof e&&e,{default:e})})}}),n.default.createElement(i,{path:"/jobs",async:!0,layout:l.default,component:function(){return r.e(16).then(function(){var e=r(1057);return"object"==typeof e&&e&&e.__esModule?e:Object.assign({},"object"==typeof e&&e,{default:e})})}}),n.default.createElement(o.Route,{path:"/statis/",exact:!0,render:function(){return n.default.createElement(o.Redirect,{to:"/statis/Sum"})}}),n.default.createElement(i,{path:"/statis/:category",async:!0,layout:l.default,component:function(){return r.e(15).then(function(){var e=r(1056);return"object"==typeof e&&e&&e.__esModule?e:Object.assign({},"object"==typeof e&&e,{default:e})})}}),n.default.createElement(o.Route,{path:"/suggest",exact:!0,render:function(){return n.default.createElement(o.Redirect,{to:"/suggest/image"})}}),n.default.createElement(i,{path:"/suggest/image",async:!0,layout:l.default,component:function(){return r.e(14).then(function(){var e=r(1055);return"object"==typeof e&&e&&e.__esModule?e:Object.assign({},"object"==typeof e&&e,{default:e})})}}),n.default.createElement(i,{path:"/suggest/glass",async:!0,layout:l.default,component:function(){return r.e(13).then(function(){var e=r(1054);return"object"==typeof e&&e&&e.__esModule?e:Object.assign({},"object"==typeof e&&e,{default:e})})}}),n.default.createElement(i,{path:"/suggest/apply",async:!0,layout:l.default,component:function(){return r.e(12).then(function(){var e=r(1053);return"object"==typeof e&&e&&e.__esModule?e:Object.assign({},"object"==typeof e&&e,{default:e})})}}),n.default.createElement(i,{path:"/suggest/ruleversion",async:!0,layout:l.default,component:function(){return r.e(12).then(function(){var e=r(1052);return"object"==typeof e&&e&&e.__esModule?e:Object.assign({},"object"==typeof e&&e,{default:e})})}}),n.default.createElement(i,{path:"/repeatJudge",async:!0,layout:l.default,component:function(){return r.e(11).then(function(){var e=r(1051);return"object"==typeof e&&e&&e.__esModule?e:Object.assign({},"object"==typeof e&&e,{default:e})})}}),n.default.createElement(i,{path:"/rejudge/sampleSys",async:!0,layout:l.default,component:function(){return r.e(10).then(function(){var e=r(1050);return"object"==typeof e&&e&&e.__esModule?e:Object.assign({},"object"==typeof e&&e,{default:e})})}}),n.default.createElement(i,{path:"/rejudge/rejudgeSys",async:!0,layout:l.default,component:function(){return r.e(9).then(function(){var e=r(1049);return"object"==typeof e&&e&&e.__esModule?e:Object.assign({},"object"==typeof e&&e,{default:e})})}}),n.default.createElement(i,{path:"/rejudge/spotCheckSys",async:!0,layout:l.default,component:function(){return r.e(8).then(function(){var e=r(1048);return"object"==typeof e&&e&&e.__esModule?e:Object.assign({},"object"==typeof e&&e,{default:e})})}}),n.default.createElement(i,{path:"/viewResult",async:!0,layout:l.default,component:function(){return r.e(7).then(function(){var e=r(1047);return"object"==typeof e&&e&&e.__esModule?e:Object.assign({},"object"==typeof e&&e,{default:e})})}}),n.default.createElement(i,{path:"/statistical_ana/report",async:!0,layout:l.default,component:function(){return r.e(6).then(function(){var e=r(1046);return"object"==typeof e&&e&&e.__esModule?e:Object.assign({},"object"==typeof e&&e,{default:e})})}}),n.default.createElement(i,{path:"/statistical_ana/code",async:!0,layout:l.default,component:function(){return r.e(5).then(function(){var e=r(1045);return"object"==typeof e&&e&&e.__esModule?e:Object.assign({},"object"==typeof e&&e,{default:e})})}}),n.default.createElement(i,{path:"/statistical_ana/turnOn",async:!0,layout:l.default,component:function(){return r.e(4).then(function(){var e=r(1044);return"object"==typeof e&&e&&e.__esModule?e:Object.assign({},"object"==typeof e&&e,{default:e})})}}),n.default.createElement(i,{path:"/statistical_manage",async:!0,layout:l.default,component:function(){return r.e(3).then(function(){var e=r(1043);return"object"==typeof e&&e&&e.__esModule?e:Object.assign({},"object"==typeof e&&e,{default:e})})}}),n.default.createElement(i,{path:"/statistical_manage/sendEmail",async:!0,layout:l.default,component:function(){return r.e(2).then(function(){var e=r(1042);return"object"==typeof e&&e&&e.__esModule?e:Object.assign({},"object"==typeof e&&e,{default:e})})}}),n.default.createElement(i,{path:"/statistical_manage/alarm",async:!0,layout:l.default,component:function(){return r.e(1).then(function(){var e=r(1041);return"object"==typeof e&&e&&e.__esModule?e:Object.assign({},"object"==typeof e&&e,{default:e})})}}),n.default.createElement(i,{path:"/login",exact:!0,async:!0,component:function(){return r.e(0).then(function(){var e=r(1040);return"object"==typeof e&&e&&e.__esModule?e:Object.assign({},"object"==typeof e&&e,{default:e})})}}),n.default.createElement(i,{path:"/*",async:!1,layout:p.default,component:u.default}))))};var n=f(r(0)),a=r(24),o=r(55),s=r(251),c=f(r(94)),i=r(25),u=f(r(712)),l=f(r(711)),p=f(r(520)),d=r(307);function f(e){return e&&e.__esModule?e:{default:e}}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){var t=function(t){function r(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(b(b(t=function(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?b(e):t}(this,(e=h(r)).call.apply(e,[this].concat(a))))),"handleWindowResize",c.default.debounce({},function(){t.props.dispatch({type:"app/change",payload:{windowHeight:window.innerHeight}})},100)),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(r,n.default.Component),function(e,t,r){t&&m(e.prototype,t),r&&m(e,r)}(r,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleWindowResize),this.props.dispatch({type:"app/ready"})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowResize)}},{key:"render",value:function(){return this.props.isAppReady?n.default.createElement(e,this.props):n.default.createElement(i.PageLoading,null)}}]),r}();return(0,a.connect)(function(e){return{isAppReady:!0,windowHeight:e.app.windowHeight}})(t)}},714:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={namespace:"global",state:{collapsed:!1,notices:[]},effects:{},reducers:{changeLayoutCollapsed:function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},a=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),a.forEach(function(t){n(e,t,r[t])})}return e}({},e,{collapsed:t.payload})}},subscriptions:{}};t.default=a},716:function(e,t,r){e.exports=r.p+"imgs/40721d24.gif"},717:function(e,t,r){e.exports=r.p+"imgs/d910631b.svg"},718:function(e,t,r){e.exports=r.p+"imgs/2c8c1195.svg"},720:function(e,t,r){var n=r(719);(e.exports=r(174)(!1)).push([e.i,".labelM-0 .form-ctrl-label {\n  margin: 0 !important;\n}\n.tc-panel {\n  /* min-width: 1280px;*/\n  min-width: 80%;\n  max-width: 100%;\n}\n.wl-num {\n  font-size: 18px;\n}\n.wl-num .minus,\n.wl-num .num,\n.wl-num .plus {\n  height: 46px;\n  width: 48px !important;\n}\n.wl-num .num {\n  font-size: 18px;\n}\n.wl-num .tc-15-input-num {\n  height: 46px;\n}\n.wl-num .tc-15-input-num .minus:before,\n.wl-num .tc-15-input-num .plus:before {\n  margin-top: 15px;\n  width: 20px;\n  height: 20px;\n}\n.un-choose {\n  margin-bottom: 15px;\n}\n.btnM5 button {\n  margin: 5px;\n  width: 100px;\n  background: #e3f1fd;\n  border: 1px solid #92cee4;\n  color: #000;\n}\n.btnM5 button:hover {\n  background: #e3f1fd;\n  border: 1px solid #92cee4;\n}\n.btnM5 button:focus {\n  background: rgba(11, 189, 131, 0.8);\n  color: #fff;\n}\n.wl-icon-add .search-btn {\n  background: url("+n(r(718))+') center center no-repeat #fff !important;\n  background-size: 16px !important;\n}\n.mW100 {\n  min-width: 100px !important;\n}\n.mW150 {\n  min-width: 150px !important;\n}\n.fs20 {\n  font-size: 20px;\n}\n.mr5 {\n  margin-right: 5px;\n}\n.m10 {\n  margin: 0 10px;\n}\n.ml15 {\n  margin-left: 15px;\n}\n.mr15 {\n  margin-right: 15px;\n}\n.mr10 {\n  margin-right: 10px;\n}\n.mr20 {\n  margin-right: 20px;\n}\n.mr80 {\n  margin-right: 80px;\n}\n.mr150 {\n  margin-right: 150px;\n}\n.mtb-20 {\n  margin: 20px 0;\n}\n.mtb10 {\n  margin: 10px 0;\n}\n.mb10 {\n  margin-bottom: 10px;\n}\n.m5 {\n  margin: 5px;\n}\n.mt5 {\n  margin-top: 5px;\n}\n.pl35 {\n  padding-left: 35px;\n}\n.text-center {\n  text-align: center;\n}\n.text-left {\n  text-align: left;\n}\n.text-right {\n  text-align: right;\n}\n.fl {\n  float: left;\n}\n.fr {\n  float: right;\n}\n/* 背景 */\n.b-white {\n  background: white;\n}\n/** 字体颜色 */\n.font-red {\n  color: red;\n}\n#imageError {\n  padding-top: 20px;\n  font-size: 2em;\n}\n.top-title-box {\n  padding: 0px 20px ;\n  line-height: 60px;\n  margin: 0 0 10px 0;\n  background-color: #fff ;\n  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.2);\n}\n.top-title-box .title-text {\n  font-weight: 600;\n  font-size: 16px;\n}\n.card {\n  background: #fafafa;\n  padding: 10px 15px;\n  box-shadow: 1px 1px 1px #f0f0f5;\n  max-width: 90%;\n  min-width: 1360px;\n  margin-left: auto;\n  margin-right: auto;\n  box-sizing: border-box;\n}\n.uploadFileName {\n  min-width: 265px;\n  max-width: 365px;\n  background: #d8d8d8;\n  line-height: 30px;\n  position: relative;\n  top: 17px;\n  padding: 0 10px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.importCodeBox {\n  position: absolute;\n  top: 6px;\n  right: 0;\n}\n.label-button-default {\n  display: inline-block;\n  padding: 7px 20px;\n  text-align: center;\n  border: 1px solid #c9cdd2;\n  border-radius: 3px;\n  background: #fff;\n  cursor: pointer;\n  position: relative;\n  bottom: 5px;\n}\n.label-button-default .icon-text {\n  font-size: 18px;\n}\n.imageInfo-btn {\n  font-size: 1.3em;\n  line-height: 40px;\n  height: 40px;\n}\n.wl-search-box ul .active {\n  background: #f0f0f0 !important;\n}\n.detail-fullScroll {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 111;\n}\n.detail-fullScroll .tc-panel {\n  height: 100%;\n  overflow: auto;\n}\n.detail-loading {\n  display: none;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background: rgba(160, 160, 160, 0.6);\n  z-index: 99999;\n  top: 0;\n  bottom: 0;\n}\n.detail-loading .n-loading-icon {\n  width: 33px;\n  height: 33px;\n}\n.detail-loading .text {\n  font-size: 3em;\n}\n.modal-footerBtn button {\n  margin: 0 15px;\n}\n.title-tip {\n  width: 140px;\n  height: 48px;\n  background: #3A4254;\n  border-radius: 2px;\n  position: absolute;\n  right: -42px;\n  top: -100%;\n  text-align: center;\n  color: #fff;\n  font-size: 18px;\n  display: none;\n}\n.title-tip:before {\n  content: "";\n  width: 12px;\n  height: 8px;\n  position: absolute;\n  bottom: -8px;\n  left: 48%;\n  background-image: url(/img/arrow_popping.svg);\n}\n.upload-icon-a:hover .title-tip {\n  display: block;\n}\n.adc-title {\n  font-family: SFProText-Regular;\n  font-size: 18px;\n  color: #333333;\n  letter-spacing: 0;\n  line-height: 28px;\n  position: absolute;\n  top: 20px;\n  right: 0;\n}\n.adc-title .value {\n  font-family: SFProText-Medium;\n  font-size: 18px;\n  color: #3D62CD;\n  text-align: center;\n  line-height: 28px;\n}\n.icon-import {\n  background: url('+n(r(717))+") no-repeat 0px 5px;\n  display: inline-block;\n  position: relative;\n  background-size: 26px;\n  width: 32px;\n  height: 26px;\n}\n.upload_loadingGif {\n  background: url("+n(r(716))+") no-repeat 0px 5px;\n  display: inline-block;\n  position: relative;\n  background-size: 120px;\n  width: 120px;\n  height: 26px;\n}\n.icon-text {\n  position: relative;\n  top: -3px;\n  color: #3d62cd;\n}\n/*\n@media screen and (max-width: @level1) {\n  #imageHandleArea {\n    .detailBox {\n      .left-box {\n        width:68%;\n        float:left\n      }\n    }\n  }\n}\n@media screen and (max-width: @level2) {\n  #imageHandleArea {\n    .tc-panel {\n      background: orange\n    }\n  }\n}*/\n",""])},721:function(e,t,r){var n=r(720);"string"==typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};r(173)(n,a);n.locals&&(e.exports=n.locals)},722:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={400:"请求参数错误",420:"token非法",452:"没有权限",453:"找不到微服务",460:"登录失效时间非法",2110:"非法ip访问",2111:"请求消息格式非法",2112:"微服务处理异常",2113:"微服务处理出错",2400:"黑名单用户访问",2401:"请求消息参数错误",2402:"请求协议版本错误",2403:"处理逻辑错误",2404:"访问资源出错",2405:"访问其他微服务失败",2406:"关联的检测项目处于运行中，请先停用相关检测项目",2411:"记录已经存在",2412:"记录保存失败",2413:"记录保存失败",2414:"记录更新失败",9999:"未知错误"}},723:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(108),a=r(137),o=function(e){return e&&e.__esModule?e:{default:e}}(r(136));var s={namespace:"commonModel",state:n.initState,reducers:a.reducers,effects:o.default};t.default=s},724:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(108),a=r(137),o=function(e){return e&&e.__esModule?e:{default:e}}(r(136));var s={namespace:"statisticalManageModel",state:n.initState,reducers:a.reducers,effects:o.default};t.default=s},725:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(108),a=r(137),o=function(e){return e&&e.__esModule?e:{default:e}}(r(136));var s={namespace:"statisticalAnalysisModel",state:n.initState,reducers:a.reducers,effects:o.default};t.default=s},726:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(25),a={namespace:"apply",state:{loading:!1},effects:{applySetting:regeneratorRuntime.mark(function e(t,r){var a,o,s,c,i,u,l,p,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r.select,o=r.put,s=r.call,r.cancel,c=r.context,e.next=4,o({type:"change",payload:{loading:!0}});case 4:return i=a.site,u=a.shop,l=a.version,console.log("applySetting"),console.log(i),e.prev=7,e.next=10,s(c.service.applySetting,{site:i,shop:u,version:l});case 10:if(p=e.sent,0===(d=p.resp).code){e.next=14;break}throw d.msg;case 14:n.notification.success("应用配置成功"),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(7),n.notification.error("string"==typeof e.t0?e.t0:"应用配置失败");case 20:return e.next=22,o({type:"change",payload:{loading:!1}});case 22:case"end":return e.stop()}},e,this,[[7,17]])})}};t.default=a},727:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(94)),a=r(25),o=c(r(248)),s=r(309);function c(e){return e&&e.__esModule?e:{default:e}}var i={namespace:"image",state:{addRulePageShow:!1,addRulePageColum:[],addRulePageIsEdit:!1,editColumData:[],addRulePageType:1,navSelect:"codeTab",creatModalShow:{visible:!1,isEdit:!1,initialValues:{ruleType:"condition"}},uploadModalShow:{visible:!1,initialValues:{}},codeTabPage:{navSelect:"define",definitionTableLoading:!1,conditionTableData:[],updateTableData:[],ruleTableLoading:!1,ruleTableData:[],ruleTableColum:[],ruleTablePageTotal:0,ruleTablePageCurrent:1,ruleTablePageCount:15},dataAdjustPage:{navSelect:"define",definitionTableLoading:!1,conditionTableData:[],updateTableData:[],ruleTableLoading:!1,ruleTableData:[],ruleTableColum:[],ruleTablePageTotal:0,ruleTablePageCurrent:1,ruleTablePageCount:15},dataFilterPage:{navSelect:"define",definitionTableLoading:!1,conditionTableData:[],updateTableData:[],ruleTableLoading:!1,ruleTableData:[],ruleTableColum:[],ruleTablePageTotal:0,ruleTablePageCurrent:1,ruleTablePageCount:15},glassPage:{navSelect:"define",definitionTableLoading:!1,conditionTableData:[],updateTableData:[],ruleTableLoading:!1,ruleTableData:[],ruleTableColum:[],ruleTablePageTotal:0,ruleTablePageCurrent:1,ruleTablePageCount:15},site:"",shop:"",version:"",ver_com_key:"",ruleInfos:[]},reducers:{changeCodeTabPage:function(e,t){var r=t.payload,n=Object.assign({},e.codeTabPage,r);return Object.assign({},e,{codeTabPage:n})},changeDataAdjustPage:function(e,t){var r=t.payload,n=Object.assign({},e.dataAdjustPage,r);return Object.assign({},e,{dataAdjustPage:n})},changeDataFilterPage:function(e,t){var r=t.payload,n=Object.assign({},e.dataFilterPage,r);return Object.assign({},e,{dataFilterPage:n})},changeGlassPage:function(e,t){var r=t.payload,n=Object.assign({},e.glassPage,r);return Object.assign({},e,{glassPage:n})}},effects:{fetchRuleInfos:regeneratorRuntime.mark(function e(t,r){var n,a,o,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,n=r.put,a=r.call,r.cancel,o=r.context,e.next=3,a(o.service.getRuleInfo);case 3:if(s=e.sent,"0"!==(c=s.resp).code&&0!==c.code){e.next=8;break}return e.next=8,n({type:"image/change",payload:{ruleInfos:c.data}});case 8:case"end":return e.stop()}},e,this)}),fetchRuleDefinalTableInCodePage:regeneratorRuntime.mark(function e(t,r){var n,o,s,c,i,u,l,p,d,f,g,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,n=r.select,o=r.call,s=r.put,c=r.context.service,e.next=4,n(function(e){return e.image});case 4:if(i=e.sent,u=i.site,l=i.shop,p=i.version,u&&l&&p){e.next=11;break}return a.notification.error("请先选择规则版本"),e.abrupt("return");case 11:return e.next=13,s({type:"changeCodeTabPage",payload:{definitionTableLoading:!0}});case 13:return d=[],f=[],e.prev=15,e.next=18,o(c.getRuleDefine,{type:1,site:u,shop:l,version:p});case 18:if(g=e.sent,0===(m=g.resp).code){e.next=26;break}throw console.log(m.code),a.notification.error("请求defectCode规则定义列表失败"),m.msg;case 26:d=m.data.conditions,f=m.data.updates;case 28:return e.next=30,s({type:"changeCodeTabPage",payload:{conditionTableData:d,updateTableData:f}});case 30:return e.next=32,s({type:"changeCodeTabPage",payload:{definitionTableLoading:!1}});case 32:e.next=37;break;case 34:e.prev=34,e.t0=e.catch(15),console.error("请求defectCode规则定义列表失败",e.t0);case 37:case"end":return e.stop()}},e,this,[[15,34]])}),fetchRuleTableInCodePage:regeneratorRuntime.mark(function e(t,r){var o,c,i,u,l,p,d,f,g,m,h,y,b,v,x,_,k,w,T,j,S,E;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,o=r.call,c=r.select,i=r.put,u=r.context.service,e.next=4,c(function(e){return e.image});case 4:if(l=e.sent,p=l.site,d=l.shop,f=l.version,p&&d&&f){e.next=11;break}return a.notification.error("请先选择规则版本"),e.abrupt("return");case 11:return e.next=13,i({type:"changeCodeTabPage",payload:{ruleTableLoading:!0}});case 13:return e.next=15,c(n.default.identity);case 15:if(g=e.sent,m=g.image,h=0,y=m.codeTabPage.ruleTablePageCurrent,b=m.codeTabPage.ruleTablePageCount,v=[],x=[],_=[],k=[],e.prev=18,!(!m.codeTabPage.updateTableData.length>0&&!m.codeTabPage.conditionTableData.length>0)){e.next=24;break}_=m.updateTableData,k=m.conditionTableData,e.next=33;break;case 24:return e.next=26,o(u.getRuleDefine,{type:1,site:p,shop:d,version:f});case 26:if(w=e.sent,0===(T=w.resp).code){e.next=31;break}throw a.notification.error("请求defectCode规则列表失败"),T.msg;case 31:_=T.data.conditions,k=T.data.updates;case 33:return j=[{name:"site",op:"eq",val:p},{name:"shop",op:"eq",val:d},{name:"version",op:"eq",val:f}],e.next=36,o(u.getDefectCodeRule,{page:y,results_per_page:b,q:JSON.stringify({filters:j})});case 36:if(S=e.sent,0===(E=S.resp).code){e.next=41;break}throw a.notification.error("请求defectCode规则列表失败"),E.msg;case 41:return E=(0,s.filterNull)(E),_.forEach(function(e){E.data.forEach(function(t){t[e.rule_field]&&(t[e.rule_field]=JSON.parse(t[e.rule_field]).value)}),x.push({ruleType:"condition",key:e.rule_field,title:"".concat(e.rule_field).concat(e.op_type),original:e})}),k.forEach(function(e){x.push({ruleType:"update",key:e.rule_field,title:"".concat(e.rule_field),original:e})}),v=E.data,h=E.num_results,e.next=48,i({type:"changeCodeTabPage",payload:{ruleTableData:v,ruleTableColum:x,ruleTablePageTotal:h,ruleTablePageCurrent:y,ruleTablePageCount:b}});case 48:return e.next=50,i({type:"changeCodeTabPage",payload:{ruleTableLoading:!1}});case 50:e.next=55;break;case 52:e.prev=52,e.t0=e.catch(18),console.error("获取规则列表失败",e.t0);case 55:case"end":return e.stop()}},e,this,[[18,52]])}),fetchRuleDefinalTableInAdjustPage:regeneratorRuntime.mark(function e(t,r){var n,o,s,c,i,u,l,p,d,f,g,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,n=r.call,o=r.select,s=r.put,c=r.context.service,e.next=4,o(function(e){return e.image});case 4:if(i=e.sent,u=i.site,l=i.shop,p=i.version,u&&l&&p){e.next=11;break}return a.notification.error("请先选择规则版本"),e.abrupt("return");case 11:return e.next=13,s({type:"changeDataAdjustPage",payload:{definitionTableLoading:!0}});case 13:return d=[],f=[],e.prev=15,e.next=18,n(c.getRuleDefine,{type:2,site:u,shop:l,version:p});case 18:if(g=e.sent,0===(m=g.resp).code){e.next=25;break}throw a.notification.error("请求缺陷数据调整规则定义列表失败"),m.msg;case 25:d=m.data.conditions,f=m.data.updates;case 27:return e.next=29,s({type:"changeDataAdjustPage",payload:{conditionTableData:d,updateTableData:f}});case 29:return e.next=31,s({type:"changeDataAdjustPage",payload:{definitionTableLoading:!1}});case 31:e.next=36;break;case 33:e.prev=33,e.t0=e.catch(15),console.error("请求定义规则列表失败",e.t0);case 36:case"end":return e.stop()}},e,this,[[15,33]])}),fetchRuleTableInCodePageInAdjustPage:regeneratorRuntime.mark(function e(t,r){var o,c,i,u,l,p,d,f,g,m,h,y,b,v,x,_,k,w,T,j,S,E;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,o=r.call,c=r.select,i=r.put,u=r.context.service,e.next=4,c(function(e){return e.image});case 4:if(l=e.sent,p=l.site,d=l.shop,f=l.version,p&&d&&f){e.next=11;break}return a.notification.error("请先选择规则版本"),e.abrupt("return");case 11:return e.next=13,i({type:"changeDataAdjustPage",payload:{ruleTableLoading:!0}});case 13:return e.next=15,c(n.default.identity);case 15:if(g=e.sent,m=g.image,h=0,y=m.dataAdjustPage.ruleTablePageCurrent,b=m.dataAdjustPage.ruleTablePageCount,v=[],x=[],_=[],k=[],e.prev=18,!(!m.dataAdjustPage.updateTableData.length>0&&!m.dataAdjustPage.conditionTableData>0)){e.next=24;break}_=m.updateTableData,k=m.conditionTableData,e.next=33;break;case 24:return e.next=26,o(u.getRuleDefine,{type:2,site:p,shop:d,version:f});case 26:if(w=e.sent,0===(T=w.resp).code){e.next=31;break}throw a.notification.error("请求缺陷数据调整规则列表失败"),T.msg;case 31:_=T.data.conditions,k=T.data.updates;case 33:return j=[{name:"site",op:"eq",val:p},{name:"shop",op:"eq",val:d},{name:"version",op:"eq",val:f}],e.next=36,o(u.getBugRule,{page:y,results_per_page:b,q:JSON.stringify({filters:j})});case 36:if(S=e.sent,0===(E=S.resp).code){e.next=41;break}throw a.notification.error("请求缺陷数据调整规则定义列表失败"),E.msg;case 41:return E=(0,s.filterNull)(E),_.forEach(function(e){E.data.forEach(function(t){t[e.rule_field]&&(t[e.rule_field]=JSON.parse(t[e.rule_field]).value)}),x.push({ruleType:"condition",key:e.rule_field,title:"".concat(e.rule_field).concat(e.op_type),original:e})}),k.forEach(function(e){x.push({ruleType:"update",key:e.rule_field,title:"".concat(e.rule_field),original:e})}),v=E.data,h=E.num_results,e.next=48,i({type:"changeDataAdjustPage",payload:{ruleTableData:v,ruleTableColum:x,ruleTablePageTotal:h,ruleTablePageCurrent:y,ruleTablePageCount:b}});case 48:return e.next=50,i({type:"changeDataAdjustPage",payload:{ruleTableLoading:!1}});case 50:e.next=55;break;case 52:e.prev=52,e.t0=e.catch(18),console.error("获取规则列表失败",e.t0);case 55:case"end":return e.stop()}},e,this,[[18,52]])}),fetchRuleDefinalTableInFilterPage:regeneratorRuntime.mark(function e(t,r){var n,o,s,c,i,u,l,p,d,f,g,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,n=r.select,o=r.call,s=r.put,c=r.context.service,e.next=4,n(function(e){return e.image});case 4:if(i=e.sent,u=i.site,l=i.shop,p=i.version,u&&l&&p){e.next=11;break}return a.notification.error("请先选择规则版本"),e.abrupt("return");case 11:return e.next=13,s({type:"changeDataFilterPage",payload:{definitionTableLoading:!0}});case 13:return d=[],f=[],e.prev=15,e.next=18,o(c.getRuleDefine,{type:3,site:u,shop:l,version:p});case 18:if(g=e.sent,0===(m=g.resp).code){e.next=25;break}throw a.notification.error("请求缺陷数据筛选规则定义列表失败"),m.msg;case 25:d=m.data.conditions,f=m.data.updates;case 27:return e.next=29,s({type:"changeDataFilterPage",payload:{conditionTableData:d,updateTableData:f}});case 29:return e.next=31,s({type:"changeDataFilterPage",payload:{definitionTableLoading:!1}});case 31:e.next=36;break;case 33:e.prev=33,e.t0=e.catch(15),console.log("获取规则定义失败",e.t0);case 36:case"end":return e.stop()}},e,this,[[15,33]])}),fetchRuleTableInFilterPage:regeneratorRuntime.mark(function e(t,r){var o,c,i,u,l,p,d,f,g,m,h,y,b,v,x,_,k,w,T,j,S,E;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,o=r.call,c=r.select,i=r.put,u=r.context.service,e.next=4,c(function(e){return e.image});case 4:if(l=e.sent,p=l.site,d=l.shop,f=l.version,p&&d&&f){e.next=11;break}return a.notification.error("请先选择规则版本"),e.abrupt("return");case 11:return e.next=13,i({type:"changeDataFilterPage",payload:{ruleTableLoading:!0}});case 13:return e.next=15,c(n.default.identity);case 15:if(g=e.sent,m=g.image,h=0,y=m.dataFilterPage.ruleTablePageCurrent,b=m.dataFilterPage.ruleTablePageCount,v=[],x=[],_=[],k=[],e.prev=18,!(!m.dataFilterPage.updateTableData.length>0&&!m.dataFilterPage.conditionTableData>0)){e.next=24;break}_=m.updateTableData,k=m.conditionTableData,e.next=33;break;case 24:return e.next=26,o(u.getRuleDefine,{type:3,site:p,shop:d,version:f});case 26:if(w=e.sent,0===(T=w.resp).code){e.next=31;break}throw a.notification.error("请求缺陷数据筛选规则列表失败"),T.msg;case 31:_=T.data.conditions,k=T.data.updates;case 33:return j=[{name:"site",op:"eq",val:p},{name:"shop",op:"eq",val:d},{name:"version",op:"eq",val:f}],e.next=36,o(u.getBugFilterRule,{page:y,results_per_page:b,q:JSON.stringify({filters:j})});case 36:if(S=e.sent,0===(E=S.resp).code){e.next=41;break}throw a.notification.error("请求缺陷数据筛选规则列表失败"),E.msg;case 41:return E=(0,s.filterNull)(E),_.forEach(function(e){E.data.forEach(function(t){t[e.rule_field]&&(t[e.rule_field]=JSON.parse(t[e.rule_field]).value)}),x.push({ruleType:"condition",key:e.rule_field,title:"".concat(e.rule_field).concat(e.op_type),original:e})}),k.forEach(function(e){x.push({ruleType:"update",key:e.rule_field,title:"".concat(e.rule_field),original:e})}),v=E.data,h=E.num_results,e.next=48,i({type:"changeDataFilterPage",payload:{ruleTableData:v,ruleTableColum:x,ruleTablePageTotal:h,ruleTablePageCurrent:y,ruleTablePageCount:b}});case 48:return e.next=50,i({type:"changeDataFilterPage",payload:{ruleTableLoading:!1}});case 50:e.next=55;break;case 52:e.prev=52,e.t0=e.catch(18),console.error("获取规则列表失败",e.t0);case 55:case"end":return e.stop()}},e,this,[[18,52]])}),fetchRuleDefinalTableInGlassPage:regeneratorRuntime.mark(function e(t,r){var n,o,s,c,i,u,l,p,d,f,g,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,n=r.select,o=r.call,s=r.put,c=r.context.service,e.next=4,n(function(e){return e.image});case 4:if(i=e.sent,u=i.site,l=i.shop,p=i.version,u&&l&&p){e.next=11;break}return a.notification.error("请先选择规则版本"),e.abrupt("return");case 11:return e.next=13,s({type:"changeGlassPage",payload:{definitionTableLoading:!0}});case 13:return d=[],f=[],e.prev=15,e.next=18,o(c.getRuleDefine,{type:4,site:u,shop:l,version:p});case 18:if(g=e.sent,0===(m=g.resp).code){e.next=25;break}throw a.notification.error("请求开单规则定义列表失败"),m.msg;case 25:d=m.data.conditions,f=m.data.updates;case 27:return e.next=29,s({type:"changeGlassPage",payload:{conditionTableData:d,updateTableData:f}});case 29:return e.next=31,s({type:"changeGlassPage",payload:{definitionTableLoading:!1}});case 31:e.next=36;break;case 33:e.prev=33,e.t0=e.catch(15),console.log("获取规则定义失败",e.t0);case 36:case"end":return e.stop()}},e,this,[[15,33]])}),fetchRuleTableInGlassPage:regeneratorRuntime.mark(function e(t,r){var o,c,i,u,l,p,d,f,g,m,h,y,b,v,x,_,k,w,T,j,S,E;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,o=r.call,c=r.select,i=r.put,u=r.context.service,e.next=4,c(function(e){return e.image});case 4:if(l=e.sent,p=l.site,d=l.shop,f=l.version,p&&d&&f){e.next=11;break}return a.notification.error("请先选择规则版本"),e.abrupt("return");case 11:return e.next=13,i({type:"changeGlassPage",payload:{ruleTableLoading:!0}});case 13:return e.next=15,c(n.default.identity);case 15:if(g=e.sent,m=g.image,h=0,y=m.glassPage.ruleTablePageCurrent,b=m.glassPage.ruleTablePageCount,v=[],x=[],_=[],k=[],e.prev=18,!(!m.glassPage.updateTableData.length>0&&!m.glassPage.conditionTableData>0)){e.next=24;break}_=m.updateTableData,k=m.conditionTableData,e.next=33;break;case 24:return e.next=26,o(u.getRuleDefine,{type:4,site:p,shop:d,version:f});case 26:if(w=e.sent,0===(T=w.resp).code){e.next=31;break}throw a.notification.error("请求开单规则定义列表失败"),T.msg;case 31:_=T.data.conditions,k=T.data.updates;case 33:return j=[{name:"site",op:"eq",val:p},{name:"shop",op:"eq",val:d},{name:"version",op:"eq",val:f}],e.next=36,o(u.getGlassRule,{page:y,results_per_page:b,q:JSON.stringify({filters:j})});case 36:if(S=e.sent,0===(E=S.resp).code){e.next=41;break}throw a.notification.error("请求开单规则数据列表失败"),E.msg;case 41:return E=(0,s.filterNull)(E),_.forEach(function(e){E.data.forEach(function(t){t[e.rule_field]&&(t[e.rule_field]=JSON.parse(t[e.rule_field]).value)}),x.push({ruleType:"condition",key:e.rule_field,title:"".concat(e.rule_field).concat(e.op_type),original:e})}),k.forEach(function(e){x.push({ruleType:"update",key:e.rule_field,title:"".concat(e.rule_field),original:e})}),v=E.data,h=E.num_results,e.next=48,i({type:"changeGlassPage",payload:{ruleTableData:v,ruleTableColum:x,ruleTablePageTotal:h,ruleTablePageCurrent:y,ruleTablePageCount:b}});case 48:return e.next=50,i({type:"changeGlassPage",payload:{ruleTableLoading:!1}});case 50:e.next=55;break;case 52:e.prev=52,e.t0=e.catch(18),console.error("获取规则列表失败",e.t0);case 55:case"end":return e.stop()}},e,this,[[18,52]])}),addVersion:regeneratorRuntime.mark(function e(t,r){var n,a,o,s,c,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,a=t.callback,o=r.call,r.select,r.put,s=r.context.service,(c={}).site=n.site,c.shop=n.shop,c.version=n.version,e.prev=6,e.next=9,o(s.postAddVersion,c);case 9:i=e.sent,a(i.resp.code),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(6),console.error("创建规则失败",e.t0),a("error");case 17:case"end":return e.stop()}},e,this,[[6,13]])}),deleteRule:regeneratorRuntime.mark(function e(t,r){var n,s,c,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,s=t.callback,r.call,r.select,r.put,r.context.service,e.prev=2,1===n.type?c="/rule/defect_code/".concat(n.id):2===n.type?c="/rule/bug/".concat(n.id):3===n.type?c="/rule/bug_filter/".concat(n.id):4===n.type&&(c="/rule/glass/".concat(n.id)),e.next=6,(0,o.default)(c,{method:"delete"});case 6:if(0===(i=e.sent).code){e.next=10;break}throw a.notification.error("删除规则失败"),i.msg;case 10:a.notification.success("删除规则成功"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.error("删除规则失败",e.t0);case 16:s();case 17:case"end":return e.stop()}},e,this,[[2,13]])}),addRule:regeneratorRuntime.mark(function e(t,r){var n,o,s,c,i,u,l,p,d,f,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,o=t.callback,s=r.call,c=r.select,r.put,i=r.context.service,e.next=4,c(function(e){return e.image});case 4:if(u=e.sent,l=u.site,p=u.shop,d=u.version,l&&p&&d){e.next=11;break}return a.notification.error("请先选择规则版本"),e.abrupt("return");case 11:(g={}).site=l,g.shop=p,g.version=d,g.rule=JSON.stringify(n.data),g.relate_id=n.relate_id,e.prev=17,e.t0=n.type,e.next=1===e.t0?21:2===e.t0?25:3===e.t0?29:4===e.t0?33:37;break;case 21:return e.next=23,s(i.postDefectCodeRule,g);case 23:return f=e.sent,e.abrupt("break",38);case 25:return e.next=27,s(i.postBugRule,g);case 27:return f=e.sent,e.abrupt("break",38);case 29:return e.next=31,s(i.postBugFilterRule,g);case 31:return f=e.sent,e.abrupt("break",38);case 33:return e.next=35,s(i.postGlassRule,g);case 35:return f=e.sent,e.abrupt("break",38);case 37:return e.abrupt("break",38);case 38:if(0===f.resp.code){e.next=41;break}throw a.notification.error("创建规则失败"),f.resp.msg;case 41:a.notification.success("创建规则成功"),o(),e.next=49;break;case 45:e.prev=45,e.t1=e.catch(17),console.error("创建规则失败",e.t1),o("error");case 49:case"end":return e.stop()}},e,this,[[17,45]])}),editRule:regeneratorRuntime.mark(function e(t,r){var n,s,c,i,u,l,p,d,f,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,s=t.callback,r.call,c=r.select,r.put,r.context.service,e.next=4,c(function(e){return e.image});case 4:if(i=e.sent,u=i.site,l=i.shop,p=i.version,u&&l&&p){e.next=11;break}return a.notification.error("请先选择规则版本"),e.abrupt("return");case 11:return e.prev=11,1===n.type?d="/rule/defect_code/".concat(n.id):2===n.type?d="/rule/bug/".concat(n.id):3===n.type?d="/rule/bug_filter/".concat(n.id):4===n.type&&(d="/rule/glass/".concat(n.id)),(f={}).site=u,f.shop=l,f.version=p,f.rule=JSON.stringify(n.data),f.relate_id=n.relate_id,e.next=21,(0,o.default)(d,{method:"put",body:f});case 21:if(0===(g=e.sent).code){e.next=25;break}throw a.notification.error("编辑规则失败"),g.msg;case 25:a.notification.success("编辑规则成功"),s(),e.next=33;break;case 29:e.prev=29,e.t0=e.catch(11),console.error("编辑规则失败",e.t0),s("error");case 33:case"end":return e.stop()}},e,this,[[11,29]])}),changePage:regeneratorRuntime.mark(function e(t,r){var n,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.payload,a=t.callback,r.call,r.select,o=r.put,r.context.service,s={},n.ruleTablePageCount&&(s.ruleTablePageCount=n.ruleTablePageCount),n.ruleTablePageCurrent&&(s.ruleTablePageCurrent=n.ruleTablePageCurrent),e.t0=n.type,e.next=1===e.t0?8:2===e.t0?11:3===e.t0?14:4===e.t0?17:20;break;case 8:return e.next=10,o({type:"image/changeCodeTabPage",payload:s});case 10:return e.abrupt("break",21);case 11:return e.next=13,o({type:"image/changeDataAdjustPage",payload:s});case 13:return e.abrupt("break",21);case 14:return e.next=16,o({type:"image/changeDataFilterPage",payload:s});case 16:return e.abrupt("break",21);case 17:return e.next=19,o({type:"image/changeGlassPage",payload:s});case 19:case 20:return e.abrupt("break",21);case 21:a();case 22:case"end":return e.stop()}},e,this)})}};t.default=i},730:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(94)),a=r(25),o=c(r(248)),s=r(309);function c(e){return e&&e.__esModule?e:{default:e}}var i={namespace:"glass",state:{addRulePageShow:!1,addRulePageColum:null,addRulePageIsEdit:!1,editColumData:null,navSelect:"definition",definitionTableLoading:!1,conditionTableData:[],updateTableData:[],ruleTableLoading:!1,ruleTableData:[],ruleTableColum:[],ruleTablePageTotal:0,ruleTablePageCurrent:1,ruleTablePageCount:15,creatModalShow:{visible:!1,isEdit:!1,initialValues:{ruleType:"condition"}},uploadModalShow:{visible:!1,initialValues:{}}},effects:{fetchRuleDefinalTable:regeneratorRuntime.mark(function e(t,r){var n,o,s,c,i,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,n=r.call,o=r.put,s=r.context.service,e.next=4,o({type:"change",payload:{definitionTableLoading:!0}});case 4:return c=[],i=[],e.prev=6,e.next=9,n(s.getRuleDefine,{type:4});case 9:if(u=e.sent,0===(l=u.resp).code){e.next=16;break}throw a.notification.error("获取glass开单建议规则定义失败"),l.msg;case 16:c=l.data.conditions,i=l.data.updates;case 18:return e.next=20,o({type:"change",payload:{conditionTableData:c,updateTableData:i}});case 20:return e.next=22,o({type:"change",payload:{definitionTableLoading:!1}});case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(6),console.error("获取规则定义失败",e.t0);case 27:case"end":return e.stop()}},e,this,[[6,24]])}),fetchRuleTable:regeneratorRuntime.mark(function e(t,r){var o,c,i,u,l,p,d,f,g,m,h,y,b,v,x,_,k;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,o=r.call,c=r.select,i=r.put,u=r.context.service,e.next=4,i({type:"change",payload:{ruleTableLoading:!0}});case 4:return e.next=6,c(n.default.identity);case 6:if(l=e.sent,p=l.glass,d=0,f=p.ruleTablePageCurrent,g=p.ruleTablePageCount,m=[],h=[],y=[],b=[],e.prev=9,!(!p.updateTableData.length>0&&!p.conditionTableData>0)){e.next=15;break}y=p.updateTableData,b=p.conditionTableData,e.next=24;break;case 15:return e.next=17,o(u.getRuleDefine,{type:4});case 17:if(v=e.sent,0===(x=v.resp).code){e.next=22;break}throw a.notification.error("获取glass开单建议规则失败"),x.msg;case 22:y=x.data.conditions,b=x.data.updates;case 24:return e.next=26,o(u.getGlassRule,{page:f,results_per_page:g});case 26:if(_=e.sent,0===(k=_.resp).code){e.next=31;break}throw a.notification.error("获取glass开单建议规则失败"),k.msg;case 31:return k=(0,s.filterNull)(k),y.forEach(function(e){k.data.forEach(function(t){t[e.rule_field]&&(t[e.rule_field]=JSON.parse(t[e.rule_field]).value)}),h.push({ruleType:"condition",key:e.rule_field,title:"".concat(e.rule_field).concat(e.op_type),original:e})}),b.forEach(function(e){h.push({ruleType:"update",key:e.rule_field,title:"".concat(e.rule_field),original:e})}),m=k.data,d=k.num_results,e.next=38,i({type:"change",payload:{ruleTableData:m,ruleTableColum:h,ruleTablePageTotal:d,ruleTablePageCurrent:f,ruleTablePageCount:g}});case 38:return e.next=40,i({type:"change",payload:{definitionTableLoading:!1}});case 40:e.next=45;break;case 42:e.prev=42,e.t0=e.catch(9),console.error("获取规则列表失败",e.t0);case 45:case"end":return e.stop()}},e,this,[[9,42]])}),deleteRule:regeneratorRuntime.mark(function e(t,r){var n,s,c,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,s=t.callback,r.call,r.select,r.put,r.context.service,e.prev=2,c=c="/rule/glass/".concat(n.id),e.next=6,(0,o.default)(c,{method:"delete"});case 6:if(0===(i=e.sent).code){e.next=10;break}throw a.notification.error("删除规则失败"),i.msg;case 10:a.notification.success("删除规则成功"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.error("删除规则失败",e.t0);case 16:s();case 17:case"end":return e.stop()}},e,this,[[2,13]])}),addRule:regeneratorRuntime.mark(function e(t,r){var n,o,s,c,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,o=t.callback,s=r.call,r.select,r.put,c=r.context.service,e.prev=2,e.next=5,s(c.postGlassRule,n.data);case 5:if(0===(i=e.sent).resp.code){e.next=9;break}throw a.notification.error("创建规则失败"),i.resp.msg;case 9:a.notification.success("创建规则成功"),o(),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.error("创建规则失败",e.t0),o("error");case 17:case"end":return e.stop()}},e,this,[[2,13]])}),editRule:regeneratorRuntime.mark(function e(t,r){var n,s,c,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,s=t.callback,r.call,r.select,r.put,r.context.service,e.prev=2,c="/rule/glass/".concat(n.id),e.next=6,(0,o.default)(c,{method:"put",body:n.data});case 6:if(0===(i=e.sent).code){e.next=10;break}throw a.notification.error("编辑规则失败"),i.msg;case 10:a.notification.success("编辑规则成功"),s(),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),console.error("编辑规则失败",e.t0),s("error");case 18:case"end":return e.stop()}},e,this,[[2,14]])}),changePage:regeneratorRuntime.mark(function e(t,r){var n,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,a=t.callback,r.call,r.select,o=r.put,r.context.service,s={},n.ruleTablePageCount&&(s.ruleTablePageCount=n.ruleTablePageCount),n.ruleTablePageCurrent&&(s.ruleTablePageCurrent=n.ruleTablePageCurrent),e.next=7,o({type:"glass/change",payload:s});case 7:a();case 8:case"end":return e.stop()}},e,this)})}};t.default=i},731:function(e,t,r){"use strict";function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){a(e,t,r[t])})}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={namespace:"dataPath",state:{total:0,limit:15,page:0,siteFilter:null,shopFilter:null,isDataPathLoading:!1,isSubmitting:!1,showPathEditor:!1,editing_field:"",pathList:[],jobsList:[],siteMap:[],editMode:null,id:"",site:"",shop:"",public_path:"",csv_path:"",nas_img_path:"",csv_img_path:"",csv_defect_size_path:"",csv_ratio_path:"",csv_archieve1_path:""},reducers:{showAdd:function(e){return n({},e,{editMode:"add",id:"",site:"",shop:"",public_path:"",csv_path:"",nas_img_path:"",csv_img_path:"",csv_defect_size_path:"",csv_ratio_path:"",csv_archieve1_path:""})},startSubmit:function(e,t){return n({},e,t.payload,{isSubmitting:!0})},endSubmit:function(e,t){return n({},e,t.payload,{isSubmitting:!1})}},effects:{refresh:regeneratorRuntime.mark(function e(t,r){var n,a,o,s,c,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.select,a=r.put,e.next=3,n(function(e){return e.dataPath});case 3:return o=e.sent,s=o.page,c=o.limit,i=o.siteFilter,u=o.shopFilter,e.next=10,a({type:"dataPath/fetchPaths",payload:{page:s,limit:c,siteFilter:i,shopFilter:u}});case 10:case"end":return e.stop()}},e,this)}),fetchPaths:regeneratorRuntime.mark(function e(t,r){var n,a,o,s,c,i,u,l,p,d,f,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,n=r.put,a=r.call,r.cancel,o=r.context,e.next=3,n({type:"dataPath/change",payload:{pathList:[],isDataPathLoading:!0}});case 3:return s=t.payload,c=s.page,i=s.limit,u=s.siteFilter,l=s.shopFilter,p={page:c+1,results_per_page:i},d={filters:[{name:"is_valid",op:"eq",val:1}]},u&&d.filters.push({name:"site",op:"eq",val:u}),l&&d.filters.push({name:"factory_name",op:"eq",val:l}),p.q=JSON.stringify(d),e.next=11,a(o.service.getDataPathList,p);case 11:if(f=e.sent,(g=f.resp).code){e.next=22;break}if(0===c||g.data[0]){e.next=20;break}return e.next=17,n({type:"dataPath/change",payload:{page:c-1}});case 17:return e.next=19,n({type:"dataPath/refresh"});case 19:return e.abrupt("return",e.sent);case 20:return e.next=22,n({type:"dataPath/change",payload:{pathList:g.data,total:g.num_results,isDataPathLoading:!1}});case 22:case"end":return e.stop()}},e,this)}),fetchPath:regeneratorRuntime.mark(function e(t,r){var n,a,o,s,c,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,n=r.put,a=r.call,r.cancel,o=r.context,e.next=3,n({type:"dataPath/change",payload:{isJobsLoading:!0,site:"",shop:"",public_path:"",csv_path:"",nas_img_path:"",csv_img_path:"",csv_defect_size_path:"",csv_ratio_path:"",csv_archieve1_path:""}});case 3:return s=t.payload.id,e.next=6,a(o.service.getDataPath,{id:s});case 6:if(c=e.sent,"0"!==(i=c.resp).code&&0!==i.code){e.next=13;break}return u=i.data,u.config,e.next=13,n({type:"dataPath/change",payload:{site:u.site,shop:u.factory_name,public_path:u.public_path,csv_path:u.csv_path,nas_img_path:u.nas_img_path,csv_img_path:u.csv_img_path,csv_defect_size_path:u.csv_defect_size_path,csv_ratio_path:u.csv_ratio_path,csv_archieve1_path:u.csv_archieve1_path,isJobsLoading:!1}});case 13:case"end":return e.stop()}},e,this)}),fetchSiteMap:regeneratorRuntime.mark(function e(t,r){var n,a,o,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,n=r.put,a=r.call,r.cancel,o=r.context,e.next=3,a(o.service.getSiteMap);case 3:if(s=e.sent,(c=s.resp).code){e.next=8;break}return e.next=8,n({type:"dataPath/change",payload:{siteMap:c.data}});case 8:case"end":return e.stop()}},e,this)}),addPath:regeneratorRuntime.mark(function e(t,r){var n,a,o,s,c,i,u,l,p,d,f,g,m,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,r.put,n=r.call,r.cancel,a=r.context,o=t.payload,s=o.site,c=o.shop,i=o.public_path,u=o.csv_path,l=o.nas_img_path,p=o.csv_img_path,d=o.csv_defect_size_path,f=o.csv_ratio_path,g=o.csv_archieve1_path,e.next=4,n(a.service.addDataPath,{site:s,factory_name:c,public_path:i,csv_path:u,nas_img_path:l,csv_img_path:p,csv_defect_size_path:d,csv_ratio_path:f,csv_archieve1_path:g});case 4:m=e.sent,h=m.resp,t.callback&&t.callback(h);case 7:case"end":return e.stop()}},e,this)}),updatePath:regeneratorRuntime.mark(function e(t,r){var n,a,o,s,c,i,u,l,p,d,f,g,m,h,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,r.put,n=r.call,r.cancel,a=r.context,o=t.payload,s=o.id,c=o.site,i=o.shop,u=o.public_path,l=o.csv_path,p=o.nas_img_path,d=o.csv_img_path,f=o.csv_defect_size_path,g=o.csv_ratio_path,m=o.csv_archieve1_path,e.next=4,n(a.service.updateDataPath,{id:s,site:c,factory_name:i,public_path:u,csv_path:l,nas_img_path:p,csv_img_path:d,csv_defect_size_path:f,csv_ratio_path:g,csv_archieve1_path:m});case 4:h=e.sent,y=h.resp,t.callback&&t.callback(y);case 7:case"end":return e.stop()}},e,this)}),deletePath:regeneratorRuntime.mark(function e(t,r){var n,a,o,s,c,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,n=r.put,a=r.call,r.cancel,o=r.context,s=t.payload.id,e.next=4,a(o.service.deleteDataPath,{id:s});case 4:if(c=e.sent,2406!==(i=c.resp).code){e.next=10;break}return e.next=9,n({type:"productManage/showConflictDialog",payload:{title:"删除数据路径",hint:"该数据路径已关联检测项目，删除操作可能导致原来的检测项目失效。请先在 #{link}# 中取消关联后刷新尝试",data:[],keys:[],refreshAction:t}});case 9:return e.abrupt("return",e.sent);case 10:t.callback&&t.callback(i);case 11:case"end":return e.stop()}},e,this)}),changeSort:regeneratorRuntime.mark(function e(t,r){var n,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.put,a=r.select,e.next=3,a(function(e){return e.product});case 3:o=e.sent,s=o.sortOrder,e.t0=s,e.next="desc"===e.t0?8:10;break;case 8:return s="asc",e.abrupt("break",11);case 10:s="desc";case 11:return e.next=13,n({type:"dataPath/change",payload:{sortOrder:s,page:0}});case 13:return e.next=15,n({type:"dataPath/refresh"});case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}},e,this)}),filterChange:regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.put,e.next=3,n({type:"dataPath/change",payload:t.payload});case 3:return e.next=5,n({type:"dataPath/refresh"});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)})}};t.default=o},732:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(25);!function(e){e&&e.__esModule}(r(310));function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){o(e,t,r[t])})}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){for(var r=atob(e),n=new ArrayBuffer(r.length),a=new Uint8Array(n),o=0;o<r.length;o++)a[o]=r.charCodeAt(o);return new Blob([n],{type:t})}function c(e){e.method;var t=e.url,r=e.data;arguments.length>1&&void 0!==arguments[1]&&arguments[1];r=a({},r);for(var n,o=/\/:(\w+)/g,s=[];null!=(n=o.exec(t));)n[1]&&s.push(n[1]);return null!=s&&s.forEach(function(e){var n=r[e];delete r[e],null==n&&(n=""),t=t.replace(":".concat(e),n)}),r.q&&(t+="?q=".concat(r.q),delete r.q),{url:t,data:r}}function i(e,t){return{or:t.map(function(t){return{name:t,op:"like",val:"%".concat(e,"%")}})}}var u={namespace:"message",state:{total:0,limit:15,page:0,siteFilter:null,sortOrder:"desc",isMessageLoading:!1,isSubmitting:!1,messageList:[],editMode:null,siteMap:[],fileUpload:!1,id:"",site:"",adc_listen:"",adc_response:"",listener:"",responser:"",listen_service:"",resp_service:"",listen_network:"",resp_network:"",listen_daemon:"",resp_daemon:""},reducers:{initialize:function(e){return a({},e,{page:0,limit:15,searchText:"",sortOrder:"desc",siteFilter:null})},initializeNewMessage:function(e){return a({},e,{id:"",site:"",adc_listen:"",adc_response:"",listener:"",responser:"",listen_service:"",resp_service:"",listen_network:"",resp_network:"",listen_daemon:"",resp_daemon:"",editMode:"add"})},showFileUpload:function(e){return a({},e,{fileUpload:!0})},closeFileUpload:function(e){return a({},e,{fileUpload:!1})},showAdd:function(e){return a({},e,{editMode:"add",id:"",site:"",adc_listen:"",adc_response:"",listener:"",responser:"",listen_service:"",resp_service:"",listen_network:"",resp_network:"",listen_daemon:"",resp_daemon:""})},closeEdit:function(e){return a({},e,{editMode:null})},startSubmit:function(e){return a({},e,{isSubmitting:!0})},endSubmit:function(e){return a({},e,{isSubmitting:!1})}},effects:{refresh:regeneratorRuntime.mark(function e(t,r){var n,a,o,s,c,i,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.select,a=r.put,e.next=3,n(function(e){return e.message});case 3:return o=e.sent,s=o.page,c=o.limit,i=o.searchText,u=o.sortOrder,l=o.siteFilter,e.next=11,a({type:"message/fetchMessages",payload:{page:s,limit:c,searchText:i,sortOrder:u,siteFilter:l}});case 11:case"end":return e.stop()}},e,this)}),fetchMessages:regeneratorRuntime.mark(function e(t,r){var n,a,o,s,c,u,l,p,d,f,g,m,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,n=r.put,a=r.call,r.cancel,o=r.context,e.next=3,n({type:"message/change",payload:{messageList:[],isMessageLoading:!0}});case 3:return s=t.payload,c=s.page,u=s.limit,l=s.searchText,p=s.sortOrder,d=s.siteFilter,f={page:c+1,results_per_page:u,order_by:JSON.stringify({field:"modify_time",direction:p})},g={filters:[{name:"is_valid",op:"eq",val:1}]},l&&g.filters.push(i(l,["adc_listen","adc_response","listen_daemon","resp_daemon","listen_service","resp_service","listen_network","resp_network","listener","responser"])),d&&g.filters.push({name:"site",op:"eq",val:d}),f.q=JSON.stringify(g),e.next=11,a(o.service.getMessageList,f);case 11:if(m=e.sent,(h=m.resp).code){e.next=22;break}if(0===c||h.data[0]){e.next=20;break}return e.next=17,n({type:"message/change",payload:{page:c-1}});case 17:return e.next=19,n({type:"message/refresh"});case 19:return e.abrupt("return",e.sent);case 20:return e.next=22,n({type:"message/change",payload:{messageList:h.data,total:h.num_results,isMessageLoading:!1}});case 22:case"end":return e.stop()}},e,this)}),fetchMessage:regeneratorRuntime.mark(function e(t,r){var n,a,o,s,c,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,n=r.put,a=r.call,r.cancel,o=r.context,e.next=3,n({type:"message/change",payload:{isMessageLoading:!0,site:"",adc_listen:"",adc_response:"",listener:"",responser:"",listen_service:"",resp_service:"",listen_network:"",resp_network:"",listen_daemon:"",resp_daemon:""}});case 3:return s=t.payload.id,e.next=6,a(o.service.getMessage,{id:s});case 6:if(c=e.sent,"0"!==(i=c.resp).code&&0!==i.code){e.next=12;break}return u=i.data,e.next=12,n({type:"message/change",payload:{isMessageLoading:!1,site:u.site,adc_listen:u.adc_listen,adc_response:u.adc_response,listener:u.listener,responser:u.responser,listen_service:u.listen_service,resp_service:u.resp_service,listen_network:u.listen_network,resp_network:u.resp_network,listen_daemon:u.listen_daemon,resp_daemon:u.resp_daemon}});case 12:case"end":return e.stop()}},e,this)}),fetchSiteMap:regeneratorRuntime.mark(function e(t,r){var n,a,o,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,n=r.put,a=r.call,r.cancel,o=r.context,e.next=3,a(o.service.getSiteMap);case 3:if(s=e.sent,(c=s.resp).code){e.next=8;break}return e.next=8,n({type:"message/change",payload:{siteMap:c.data}});case 8:case"end":return e.stop()}},e,this)}),addMessage:regeneratorRuntime.mark(function e(t,r){var a,o,s,c,i,u,l,p,d,f,g,m,h,y,b,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,a=r.put,o=r.call,r.cancel,s=r.context,c=t.payload,i=c.site,u=c.adc_listen,l=c.adc_response,p=c.listener,d=c.responser,f=c.listen_service,g=c.resp_service,m=c.listen_network,h=c.resp_network,y=c.listen_daemon,b=c.resp_daemon,e.next=4,o(s.service.addMessage,{site:i,adc_listen:u,adc_response:l,listener:p,responser:d,listen_service:f,resp_service:g,listen_network:m,resp_network:h,listen_daemon:y,resp_daemon:b});case 4:if(v=e.sent,v.resp.code){e.next=11;break}return(0,n.TopTips)({theme:"success",message:"添加成功"}),e.next=10,a({type:"message/change",payload:{editMode:null}});case 10:s.history.replace("/product/message");case 11:return e.next=13,a({type:"message/endSubmit"});case 13:case"end":return e.stop()}},e,this)}),updateMessage:regeneratorRuntime.mark(function e(t,r){var o,s,i,u,l,p,d,f,g,m,h,y,b,v,x,_,k,w,T,j,S;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,o=r.put,s=r.call,r.cancel,i=r.context,u=t.payload,l=u.id,p=u.site,d=u.adc_listen,f=u.adc_response,g=u.listener,m=u.responser,h=u.listen_service,y=u.resp_service,b=u.listen_network,v=u.resp_network,x=u.listen_daemon,_=u.resp_daemon,e.next=4,s(i.service.getJobsList,{q:JSON.stringify({filters:[{or:[{name:"config",op:"like",val:"%'site': '".concat(p,"'%")},{name:"config",op:"like",val:'%"site":"'.concat(p,'"%')}]}]})});case 4:if(k=e.sent,!(w=k.resp).code){e.next=10;break}return e.next=9,o({type:"message/endSubmit"});case 9:return e.abrupt("return",(0,n.TopTips)({theme:"error",message:"检测项目获取失败"}));case 10:T=0;case 11:if(!(T<w.data.length)){e.next=18;break}return j=w.data[T],e.next=15,s(i.service.updateJob,{id:j.id,config:a({},j.config,{monitor:{service:h,network:b,daemon:x,topic:d,listener:g},reply:{service:y,network:v,daemon:_,topic:f,listener:m}})},{normalizeReq:c});case 15:T++,e.next=11;break;case 18:return e.next=20,s(i.service.updateMessage,{id:l,site:p,adc_listen:d,listener:g,adc_response:f,responser:m,listen_service:h,resp_service:y,listen_network:b,resp_network:v,listen_daemon:x,resp_daemon:_});case 20:if(S=e.sent,S.resp.code){e.next=27;break}return(0,n.TopTips)({theme:"success",message:"更新成功"}),e.next=26,o({type:"message/change",payload:{editMode:null}});case 26:i.history.replace("/product/message");case 27:return e.next=29,o({type:"message/endSubmit"});case 29:case"end":return e.stop()}},e,this)}),deleteMessage:regeneratorRuntime.mark(function e(t,r){var a,o,s,c,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,a=r.put,o=r.call,r.cancel,s=r.context,c=t.payload.id,e.next=4,o(s.service.deleteMessage,{id:c});case 4:if(i=e.sent,2406!==(u=i.resp).code){e.next=10;break}return e.next=9,a({type:"productManage/showConflictDialog",payload:{title:"删除消息配置",hint:"该消息配置已关联检测项目，删除操作可能导致原来的检测项目失效。请先在 #{link}# 中取消关联后刷新尝试",data:[],keys:[],refreshAction:t}});case 9:return e.abrupt("return",e.sent);case 10:return u.code||(0,n.TopTips)({theme:"success",message:"删除成功"}),e.next=13,a({type:"message/refresh"});case 13:case"end":return e.stop()}},e,this)}),updateMessages:regeneratorRuntime.mark(function e(t,r){var a,o,s,c,i,u,l,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,a=r.put,o=r.call,r.cancel,s=r.context,c=t.payload,i=c.data,u=c.md5,e.next=4,o(s.service.updateMessages,{session_uuid:"",timestamp:Date.now(),data:i,file_format:"xls",file_md5:u,seq:0,isEnd:1});case 4:return l=e.sent,p=l.resp,e.next=8,a({type:"message/closeFileUpload"});case 8:if(2406!==p.code){e.next=12;break}return e.next=11,a({type:"productManage/showConflictDialog",payload:{title:"修改消息配置",hint:"下列 #{length}# 个消息配置已关联检测项目，修改操作可能导致原来的检测项目失效。请先在 #{link}# 中取消关联后刷新尝试",data:p.data,keys:[{key:"site",title:"厂区"}],refreshAction:t}});case 11:return e.abrupt("return",e.sent);case 12:return p.code||(0,n.TopTips)({theme:"success",message:"更新成功"}),e.next=15,a({type:"message/refresh"});case 15:case"end":return e.stop()}},e,this)}),downloadMessage:regeneratorRuntime.mark(function e(t,r){var n,a,o,c,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,r.put,n=r.call,r.cancel,a=r.context,e.next=3,n(a.service.downloadMessage);case 3:o=e.sent,(c=o.resp).code||(i=document.createElement("a"),u=s(c.data.content,"application/vnd.ms-excel"),i.href=URL.createObjectURL(u),i.download="message.xls",i.click());case 6:case"end":return e.stop()}},e,this)}),changeSort:regeneratorRuntime.mark(function e(t,r){var n,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.put,a=r.select,e.next=3,a(function(e){return e.message});case 3:o=e.sent,s=o.sortOrder,e.t0=s,e.next="desc"===e.t0?8:10;break;case 8:return s="asc",e.abrupt("break",11);case 10:s="desc";case 11:return e.next=13,n({type:"message/change",payload:{sortOrder:s,page:0}});case 13:return e.next=15,n({type:"message/refresh"});case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}},e,this)}),filterChange:regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.put,e.next=3,n({type:"message/change",payload:t.payload});case 3:return e.next=5,n({type:"message/refresh"});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)})}};t.default=u},733:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={namespace:"siteMap",state:{siteMap:[],productList:[]},reducers:{},effects:{fetchSiteMap:regeneratorRuntime.mark(function e(t,r){var n,a,o,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,n=r.put,a=r.call,r.cancel,o=r.context,e.next=3,a(o.service.getSiteMap);case 3:if(s=e.sent,"0"!==(c=s.resp).code&&0!==c.code){e.next=8;break}return e.next=8,n({type:"siteMap/change",payload:{siteMap:c.data}});case 8:case"end":return e.stop()}},e,this)}),fetchProducts:regeneratorRuntime.mark(function e(t,r){var n,a,o,s,c,i,u,l,p,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,n=r.put,a=r.call,r.cancel,o=r.context,s=t.payload,c=s.site,i=s.shop,u=s.operation,e.next=4,a(o.service.getProductList,{q:JSON.stringify({filters:[{and:[{name:"site",op:"eq",val:c},{and:[{name:"factory_name",op:"eq",val:i},{name:"process_operation_name",op:"eq",val:u}]}]}]})});case 4:if(l=e.sent,"0"!==(p=l.resp).code&&0!==p.code){e.next=10;break}return d=p.data.filter(function(e){return 1===e.is_valid}).map(function(e){return{text:e.product_spec_name,value:e.id}}),e.next=10,n({type:"siteMap/change",payload:{productList:d}});case 10:case"end":return e.stop()}},e,this)})}};t.default=n},734:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(2));r(25);var a={namespace:"statis",state:{serviceName:"Sum",site:"",shop:"",operation:"",product:"",timeType:2,timeStart:"",timeEnd:"",filters:{},confidence_level:"",rule_version:"",algorithm_version:"",dataList:[],total:0,limit:15,page:0,isLoading:!1},reducers:{},effects:{refresh:regeneratorRuntime.mark(function e(t,r){var n,a,o,s,c,i,u,l,p,d,f,g,m,h,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.select,a=r.put,e.next=3,n(function(e){return e.statis});case 3:return o=e.sent,s=o.site,c=o.shop,i=o.operation,u=o.product,l=o.timeType,p=o.timeStart,d=o.timeEnd,f=o.page,g=o.limit,m=o.serviceName,h=o.filters,y=o.confidence_level,e.next=18,a({type:"statis/fetchDatas",payload:{site:s,shop:c,operation:i,product:u,timeType:l,timeStart:p,timeEnd:d,page:f,limit:g,serviceName:m,filters:h,confidence_level:y}});case 18:case"end":return e.stop()}},e,this)}),fetchDatas:regeneratorRuntime.mark(function e(t,r){var a,o,s,c,i,u,l,p,d,f,g,m,h,y,b,v,x,_,k,w,T,j,S,E,O,R,P,A;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.select,o=r.put,s=r.call,r.cancel,c=r.context,e.next=3,o({type:"statis/change",payload:{dataList:[],isLoading:!0}});case 3:return e.next=5,a(function(e){return e.statis});case 5:if(i=e.sent,u=i.algorithm_version,l=i.rule_version,p=t.payload,p.site,p.shop,p.operation,d=p.product,f=p.timeType,g=p.timeStart,m=p.timeEnd,h=p.page,y=p.limit,b=p.serviceName,v=p.filters,x=p.confidence_level,_={page:h+1,results_per_page:y},k={filters:[]},!d||"-1"==d){e.next=15;break}k.sfpp_id=d,e.next=18;break;case 15:return e.next=17,o({type:"statis/change",payload:{dataList:[],total:0,isLoading:!1}});case 17:return e.abrupt("return");case 18:if(x&&"Code"==b&&k.filters.push({name:"confidence_level",op:"ge",val:x}),u&&k.filters.push({name:"algorithm_version",op:"eq",val:u}),l&&k.filters.push({name:"rule_version",op:"eq",val:l}),"Flagdiff"==b?k.filters.push({or:[{name:"rtir_turn_on",op:"eq",val:"1"},{name:"rtir_rework",op:"eq",val:"1"}]}):"Flagleak"==b?(k.filters.push({or:[{name:"rtir_turn_on",op:"eq",val:"1"},{name:"rtir_rework",op:"eq",val:"1"}]}),k.filters.push({name:"turn_on",op:"eq",val:""}),k.filters.push({name:"rework",op:"eq",val:"N"})):"Diffdetail"==b&&k.filters.push({name:"compare_rtir_code",op:"eq",val:2}),v)for(w=Object.keys(v),T=0;T<w.length;T++)j=w[T],v[j]&&k.filters.push({name:j,op:"eq",val:v[j]});if(0==f){e.next=45;break}S=new Date,O=0,R="handling_time","Sum"==b&&(R="rtir_end_time"),e.t0=f,e.next=1===e.t0?31:2===e.t0?33:3===e.t0?37:4===e.t0?39:41;break;case 31:return O=0,e.abrupt("break",42);case 33:return O=1,S=new Date(S.getTime()-864e5),E=S,e.abrupt("break",42);case 37:return O=7,e.abrupt("break",42);case 39:return O=30,e.abrupt("break",42);case 41:return e.abrupt("break",42);case 42:-1!=f&&(E=E||new Date(S.getTime()-24*O*60*60*1e3),g=(0,n.default)(E).format("YYYY-MM-DD"),m=(0,n.default)(S).format("YYYY-MM-DD")),g&&(g=new Date(new Date(g).getTime()-864e5),g=(0,n.default)(g).format("YYYY-MM-DD"),console.log("timeStart"),console.log(g),k.filters.push({name:R,op:"gt",val:g+" 07:30:00"})),m&&(console.log("timeEnd"),console.log(m),k.filters.push({name:R,op:"le",val:m+" 07:30:00"}));case 45:return _.q=JSON.stringify(k),e.next=48,s(c.service["getStatis"+b],_);case 48:if(P=e.sent,0!=(A=P.resp).code){e.next=55;break}return e.next=53,o({type:"statis/change",payload:{dataList:A.data,total:A.num_results,isLoading:!1}});case 53:e.next=57;break;case 55:return e.next=57,o({type:"statis/change",payload:{dataList:[],total:0,isLoading:!1}});case 57:case"end":return e.stop()}},e,this)})}};t.default=a},735:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(25),a=r(516);function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){s(e,t,r[t])})}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){e=e.replace(/[\n\r]/g,"");for(var r=atob(e),n=new ArrayBuffer(r.length),a=new Uint8Array(n),o=0;o<r.length;o++)a[o]=r.charCodeAt(o);return new Blob([n],{type:t})}function i(e,t){var r,n,a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),o=[];if(t=t||a.length,e)for(r=0;r<e;r++)o[r]=a[0|Math.random()*t];else for(o[8]=o[13]=o[18]=o[23]="-",o[14]="4",r=0;r<36;r++)o[r]||(n=0|16*Math.random(),o[r]=a[19==r?3&n|8:n]);return o.join("")}function u(e,t){return{or:t.map(function(t){return{name:t,op:"like",val:"%".concat(e,"%")}})}}function l(e,t){return{name:t,op:"eq",val:e}}var p={namespace:"product",state:{total:0,limit:15,page:0,searchText:"",sortOrder:"desc",siteFilter:null,shopFilter:null,isProductLoading:!1,isSubmitting:!1,productList:[],jobsList:[],editMode:null,id:"",site:"",shop:"",operation:"",product:"",ratio:"",fileUpload:!1},reducers:{initialize:function(e){return o({},e,{page:0,limit:15,searchText:"",sortOrder:"desc",siteFilter:null,shopFilter:null})},showFileUpload:function(e){return o({},e,{fileUpload:!0})},closeFileUpload:function(e){return o({},e,{fileUpload:!1})},showAdd:function(e){return o({},e,{editMode:"add",id:"",site:"",shop:"",operation:"",product:"",ratio:""})},showUpdate:function(e,t){var r=t.payload.product;return o({},e,{editMode:"update",id:r.id,site:r.site,shop:r.factory_name,operation:r.process_operation_name,product:r.product_spec_name,ratio:r.ratio})},closeEdit:function(e){return o({},e,{editMode:null})},startSubmit:function(e){return o({},e,{isSubmitting:!0})},endSubmit:function(e){return o({},e,{isSubmitting:!1})}},effects:{refresh:regeneratorRuntime.mark(function e(t,r){var n,a,o,s,c,i,u,l,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.select,a=r.put,e.next=3,n(function(e){return e.product});case 3:return o=e.sent,s=o.page,c=o.limit,i=o.searchText,u=o.sortOrder,l=o.siteFilter,p=o.shopFilter,e.next=12,a({type:"product/fetchProducts",payload:{page:s,limit:c,searchText:i,sortOrder:u,siteFilter:l,shopFilter:p}});case 12:case"end":return e.stop()}},e,this)}),fetchProducts:regeneratorRuntime.mark(function e(t,r){var n,a,o,s,c,i,p,d,f,g,m,h,y,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,n=r.put,a=r.call,r.cancel,o=r.context,e.next=3,n({type:"product/change",payload:{productList:[],isProductLoading:!0}});case 3:return s=t.payload,c=s.page,i=s.limit,p=s.searchText,d=s.sortOrder,f=s.siteFilter,g=s.shopFilter,m={page:c+1,results_per_page:i,order_by:JSON.stringify({field:"modify_time",direction:d})},h={filters:[{name:"is_valid",op:"eq",val:1}]},p&&h.filters.push(u(p,["product_spec_name","process_operation_name"])),f&&h.filters.push(l(f,"site")),g&&h.filters.push(l(g,"factory_name")),m.q=JSON.stringify(h),e.next=12,a(o.service.getProductList,m);case 12:if(y=e.sent,(b=y.resp).code){e.next=23;break}if(0===c||b.data[0]){e.next=21;break}return e.next=18,n({type:"product/change",payload:{page:c-1}});case 18:return e.next=20,n({type:"product/refresh"});case 20:return e.abrupt("return",e.sent);case 21:return e.next=23,n({type:"product/change",payload:{productList:b.data,total:b.num_results,isProductLoading:!1}});case 23:case"end":return e.stop()}},e,this)}),addProduct:regeneratorRuntime.mark(function e(t,r){var s,c,i,u,l,p,d,f,g,m,h,y,b,v,x,_,k,w,T,j,S,E,O,R;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.select,s=r.put,c=r.call,r.cancel,i=r.context,u=t.payload,l=u.product,p=u.ratio,d=u.newSite,f=u.newShop,g=u.newOperation,m=u.siteMap,h=t.payload,y=h.site,b=h.shop,v=h.operation,y!==a.NEW_SIGN&&b!==a.NEW_SIGN&&v!==a.NEW_SIGN){e.next=51;break}if(y!==a.NEW_SIGN){e.next=20;break}return e.next=7,c(i.service.addSite,{site:d});case 7:if(_=e.sent,(k=_.resp).code){e.next=15;break}x=o({},k.data,{factory_list:[]}),m.push(x),y=d,e.next=18;break;case 15:return e.next=17,s({type:"product/endSubmit"});case 17:return e.abrupt("return",(0,n.TopTips)({theme:"error",message:"厂区添加失败: ".concat(k.msg)}));case 18:e.next=21;break;case 20:x=m.find(function(e){return e.site===y});case 21:if(b!==a.NEW_SIGN){e.next=37;break}return e.next=24,c(i.service.addShop,{correlate_site:x.id,factory_name:f});case 24:if(T=e.sent,(j=T.resp).code){e.next=32;break}w=o({},j.data,{pon_list:[]}),x.factory_list.push(w),b=f,e.next=35;break;case 32:return e.next=34,s({type:"product/endSubmit"});case 34:return e.abrupt("return",(0,n.TopTips)({theme:"error",message:"厂别添加失败: ".concat(j.msg)}));case 35:e.next=38;break;case 37:w=x.factory_list.find(function(e){return e.factory_name===b});case 38:if(v!==a.NEW_SIGN){e.next=51;break}return e.next=41,c(i.service.addOperation,{correlate_factory:w.id,process_operation_name:g});case 41:if(S=e.sent,(E=S.resp).code){e.next=48;break}w.pon_list.push(E.data),v=g,e.next=51;break;case 48:return e.next=50,s({type:"product/endSubmit"});case 50:return e.abrupt("return",(0,n.TopTips)({theme:"error",message:"站点添加失败: ".concat(E.msg)}));case 51:return e.next=53,c(i.service.addProduct,{site:y,factory_name:b,process_operation_name:v,product_spec_name:l,ratio:p,correlate_detection:""});case 53:return O=e.sent,R=O.resp,e.next=57,s({type:"product/change",payload:{editMode:null}});case 57:return e.next=59,s({type:"product/endSubmit"});case 59:if(R.code){e.next=63;break}return(0,n.TopTips)({theme:"success",message:"添加成功"}),e.next=63,s({type:"product/refresh"});case 63:case"end":return e.stop()}},e,this)}),updateProduct:regeneratorRuntime.mark(function e(t,r){var a,o,s,c,i,u,l,p,d,f,g,m,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,a=r.put,o=r.call,r.cancel,s=r.context,c=t.payload,i=c.id,u=c.product,l=c.ratio,p=c.site,d=c.shop,f=c.operation,g={id:i,site:p,factory_name:d,process_operation_name:f,product_spec_name:u,ratio:l},e.next=5,o(s.service.updateProduct,g);case 5:return m=e.sent,h=m.resp,e.next=9,a({type:"product/change",payload:{editMode:null}});case 9:if(2406!==h.code){e.next=15;break}return e.next=12,a({type:"product/endSubmit"});case 12:return e.next=14,a({type:"productManage/showConflictDialog",payload:{title:"修改站点产品",hint:"该站点产品已关联检测项目，修改操作可能导致原来的检测项目失效。请先在 #{link}# 中取消关联后刷新尝试",data:[],keys:[],refreshAction:t}});case 14:return e.abrupt("return",e.sent);case 15:return e.next=17,a({type:"product/endSubmit"});case 17:if(h.code){e.next=21;break}return(0,n.TopTips)({theme:"success",message:"更新成功"}),e.next=21,a({type:"product/refresh"});case 21:case"end":return e.stop()}},e,this)}),deleteProduct:regeneratorRuntime.mark(function e(t,r){var a,o,s,c,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,a=r.put,o=r.call,r.cancel,s=r.context,c=t.payload.id,e.next=4,o(s.service.deleteProduct,{id:c});case 4:if(i=e.sent,2406!==(u=i.resp).code){e.next=10;break}return e.next=9,a({type:"productManage/showConflictDialog",payload:{title:"删除站点产品",hint:"该站点产品已关联检测项目，删除操作可能导致原来的检测项目失效。请先在 #{link}# 中取消关联后刷新尝试",data:[],keys:[],refreshAction:t}});case 9:return e.abrupt("return",e.sent);case 10:return u.code||(0,n.TopTips)({theme:"success",message:"删除成功"}),e.next=13,a({type:"product/refresh"});case 13:case"end":return e.stop()}},e,this)}),updateProducts:regeneratorRuntime.mark(function e(t,r){var a,o,s,c,u,l,p,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,a=r.put,o=r.call,r.cancel,s=r.context,c=t.payload,u=c.data,l=c.md5,e.next=4,o(s.service.updateProducts,{session_uuid:i(),timestamp:Date.now(),data:u,file_format:"xls",file_md5:l,seq:0,isEnd:1});case 4:return p=e.sent,d=p.resp,e.next=8,a({type:"product/closeFileUpload"});case 8:if(2406!==d.code){e.next=12;break}return e.next=11,a({type:"productManage/showConflictDialog",payload:{title:"批量修改站点产品",hint:"下列 #{length}# 个站点产品已关联检测项目，修改操作可能导致原来的检测项目失效。请先在 #{link}# 中取消关联后刷新尝试",data:d.data,keys:[{key:"site",title:"厂区"},{key:"factory_name",title:"厂别"},{key:"process_operation_name",title:"站点"},{key:"product_spec_name",title:"产品"}],refreshAction:t}});case 11:return e.abrupt("return",e.sent);case 12:return d.code||(0,n.TopTips)({theme:"success",message:"更新成功"}),e.next=15,a({type:"product/refresh"});case 15:case"end":return e.stop()}},e,this)}),downloadProduct:regeneratorRuntime.mark(function e(t,r){var n,a,o,s,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,r.put,n=r.call,r.cancel,a=r.context,e.next=3,n(a.service.downloadProduct);case 3:if(o=e.sent,!(s=o.resp).code){i=document.createElement("a");try{u=c(s.data.content,"application/vnd.ms-excel")}catch(e){console.log(e)}window.navigator&&window.navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(u,"product.xls"):(i.href=URL.createObjectURL(u),i.download="product.xls",i.click())}case 6:case"end":return e.stop()}},e,this)}),changeSort:regeneratorRuntime.mark(function e(t,r){var n,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.put,a=r.select,e.next=3,a(function(e){return e.product});case 3:o=e.sent,s=o.sortOrder,e.t0=s,e.next="desc"===e.t0?8:10;break;case 8:return s="asc",e.abrupt("break",11);case 10:s="desc";case 11:return e.next=13,n({type:"product/change",payload:{sortOrder:s,page:0}});case 13:return e.next=15,n({type:"product/refresh"});case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}},e,this)}),filterChange:regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.put,e.next=3,n({type:"product/change",payload:t.payload});case 3:return e.next=5,n({type:"product/refresh"});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)})}};t.default=p},736:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(108),a=r(137),o=function(e){return e&&e.__esModule?e:{default:e}}(r(136));var s={namespace:"historicalDataModel",state:n.initState,reducers:a.reducers,effects:o.default};t.default=s},737:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(138);var n=r(25),a=c(r(121)),o=c(r(245)),s=c(r(514));function c(e){return e&&e.__esModule?e:{default:e}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){l(e,t,r[t])})}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=a.default.codeId,d=a.default.MODEL,f=a.default.formDataHeader,g=a.default.testImageUrl,m=3e3,h={sampleSys:"/api/v1/judge/sample/upload?sfpp_id=0",rejudgeSys:"/api/v1/judge/duplicate/upload?sfpp_id=0",spotCheckSys:"/api/v1/judge/extract/upload?sfpp_id=0"},y={sampleSys:"",rejudgeSys:"",spotCheckSys:""},b={sampleSys:"",rejudgeSys:"",spotCheckSys:""},v={sampleSys:"",rejudgeSys:"",spotCheckSys:""},x={sampleSys:"",rejudgeSys:"",spotCheckSys:""},_={sampleSys:"",rejudgeSys:"",spotCheckSys:""},k={startTask:regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,n=r.put,r.call,r.context,e.next=3,n(u({type:"CHANGE_BASE_STATE"},t.data));case 3:case"end":return e.stop()}},e,this)}),initialize:regeneratorRuntime.mark(function e(t,r){var n,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.select,a=r.put,r.call,r.context,e.next=3,n(function(e){return e[d]});case 3:return o=e.sent,o.sysActive,o.rejudgeType,e.next=8,a(u({type:"Initialize"},t.data));case 8:case"end":return e.stop()}},e,this)}),changBaseState:regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,n=r.put,r.call,r.context,e.next=3,n(u({type:"CHANGE_BASE_STATE"},t.data));case 3:t.callback&&t.callback();case 4:case"end":return e.stop()}},e,this)}),sampleUploadLog:regeneratorRuntime.mark(function e(t,r){var a,o,s,c,i,u,l,p,f,g,h,k,w,T,j,S;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.select,o=r.put,s=r.call,c=r.context,e.next=3,a(function(e){return e[d]});case 3:return i=e.sent,u=i.sysActive,i.rejudgeType,y={sampleSys:"",rejudgeSys:c.service.rejudge_start,spotCheckSys:c.service.extract_start},b={sampleSys:c.service.sampleImg,rejudgeSys:c.service.rejudge_getImage,spotCheckSys:c.service.extract_getImg},x={sampleSys:c.service.updateSampleImg,rejudgeSys:c.service.updateImgDuplicate,spotCheckSys:c.service.UpdateImgExtract},_={sampleSys:c.service.sample_task,rejudgeSys:c.service.duplicate_task,spotCheckSys:c.service.extract_task},v={sampleSys:c.service.sampleLog,rejudgeSys:c.service.duplicateLog,spotCheckSys:c.service.extractLog},(l={}).q=JSON.stringify({filters:[{name:"op",op:"eq",val:localStorage.user_name},{name:"status",op:"lt",val:1}]}),l.timer=(new Date).getTime(),e.prev=14,e.next=17,s(v[u],l);case 17:if(p=e.sent,0!==(f=p.resp).code){e.next=33;break}if(!f.num_results){e.next=30;break}return g=(g=f.data)[g.length-1],k=(h=g).sample_name,w=h.id,T=h.last_detail_id,j=h.sfpp_id,S=h.last_page,e.next=26,o({type:"CHANGE_BASE_STATE",upload_sample_name:k,task_id:w,id:T,sfpp_id:j,imageCurrentIndex:S?S-1:0});case 26:(0,n.TopTips)({theme:"success",message:"存在历史记录！"}),t.callback({result:!0,resp:f}),e.next=31;break;case 30:t.callback({result:!1});case 31:e.next=34;break;case 33:t.callback({result:!1});case 34:e.next=39;break;case 36:e.prev=36,e.t0=e.catch(14),(0,n.TopTips)({theme:"error",message:"获取历史记录的时候出现异常。",duration:m});case 39:case"end":return e.stop()}},e,this,[[14,36]])}),sampleCodeList:regeneratorRuntime.mark(function(e,t){var r,n,a,o,s,c,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.select,r=t.put,n=t.call,a=t.context,(o={page:1,results_per_page:100}).q=JSON.stringify({filters:T({op:localStorage.user_name})}),o.timer=(new Date).getTime(),e.next=6,n(a.service.getCodeList,o);case 6:if(s=e.sent,0!==(c=s.resp).code){e.next=13;break}return i=c.data[0].map(function(e,t){return{text:e.code,value:e.code}}),i.unshift({text:"全部",value:0}),e.next=13,r({type:"CHANGE_BASE_STATE",sampleCodeList:i});case 13:case"end":return e.stop()}},i,this)}),rejudge_start:regeneratorRuntime.mark(function e(t,r){var a,s,c,i,u,l,p,f,g,h,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.select,s=r.put,c=r.call,r.context,e.next=3,a(function(e){return e[d]});case 3:return i=e.sent,u=i.sysActive,i.rejudgeType,l=i.sfpp_id,p=t.queryMap,(f={}).sfpp_id=l||0,f.q=JSON.stringify({filters:T(p)}),f.timer=(new Date).getTime(),e.next=14,s({type:"CHANGE_BASE_STATE",startTask:!0,getImageState:!0});case 14:return e.prev=14,e.next=17,c(y[u],f);case 17:return g=e.sent,h=g.resp,e.next=21,s({type:"CHANGE_BASE_STATE",getImageState:!1});case 21:if(0!==h.code){e.next=28;break}return b=h.data,e.next=25,s({type:"CHANGE_BASE_STATE",task_id:b.task_id});case 25:t.callback({result:!0,resp:h}),e.next=33;break;case 28:return t.callback({result:!1,resp:h}),o.default.end_getImageLoad(),e.next=32,s({type:"CHANGE_BASE_STATE",startTask:!1});case 32:(0,n.TopTips)({theme:"error",message:h.msg,duration:m});case 33:e.next=41;break;case 35:return e.prev=35,e.t0=e.catch(14),e.next=39,s({type:"CHANGE_BASE_STATE",startTask:!1,getImageState:!1});case 39:(0,n.TopTips)({theme:"error",message:"启动任务的时候发生了异常情况。",duration:m}),console.error(e.t0);case 41:case"end":return e.stop()}},e,this,[[14,35]])}),extract_start:regeneratorRuntime.mark(function e(t,r){var a,s,c,i,u,l,p,f,g,h,b,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.select,s=r.put,c=r.call,r.context,e.next=3,a(function(e){return e[d]});case 3:return i=e.sent,u=i.sysActive,i.rejudgeType,l=i.sfpp_id,p=t.queryMap,f=t.ratio,(g={}).sfpp_id=l,f&&(g.ratio=f),g.q=JSON.stringify({filters:T(p)}),g.timer=(new Date).getTime(),e.next=15,s({type:"CHANGE_BASE_STATE",startTask:!0,getImageState:!0});case 15:return e.prev=15,e.next=18,c(y[u],g);case 18:return h=e.sent,b=h.resp,e.next=22,s({type:"CHANGE_BASE_STATE",getImageState:!1});case 22:if(0!==b.code){e.next=29;break}return v=b.data,e.next=26,s({type:"CHANGE_BASE_STATE",task_id:v.task_id});case 26:t.callback({result:!0,resp:b}),e.next=34;break;case 29:return o.default.end_getImageLoad(),e.next=32,s({type:"CHANGE_BASE_STATE",startTask:!1});case 32:t.callback({result:!1,resp:b}),(0,n.TopTips)({theme:"error",message:b.msg,duration:m});case 34:e.next=42;break;case 36:return e.prev=36,e.t0=e.catch(15),e.next=40,s({type:"CHANGE_BASE_STATE",startTask:!1,getImageState:!1});case 40:(0,n.TopTips)({theme:"error",message:"启动任务的时候发生了异常情况。",duration:m}),console.error(e.t0);case 42:case"end":return e.stop()}},e,this,[[15,36]])}),handleQueryImage:regeneratorRuntime.mark(function e(t,r){var a,s,c,i,l,p,f,h,y,v,x,_,k,j,S,E,O,R,P,A,C,M,D,L,I,N,q,B,F,G,U,z,H,J,Y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.select,s=r.put,c=r.call,r.context,e.next=3,a(function(e){return e[d]});case 3:return l=e.sent,p=l.imageCurrentIndex,f=l.task_id,h=l.sfpp_id,y=l.sysActive,l.rejudgeType,v=l.saveQueryCondition,x=l.imageCache,_=l.startLoadImage,(k=v||u({},t.queryMap)).task_id=f,(i={page:p+1,results_per_page:1,sfpp_id:h=h||0}).q=JSON.stringify({filters:T(k)}),i.timer=(new Date).getTime(),o.default.start_checkImageExist(),e.next=14,s({type:"CHANGE_BASE_STATE",startTask:!0,getImageState:!0});case 14:if(e.prev=14,C=1,M=0,D={results_per_page:A=10,sfpp_id:h},(P=p+1)>A?(R=Math.ceil(P/A),D.page=R,M=C*(R-1)*10+1):(R=Math.floor(P/A),D.page=1,M=1),D.q=JSON.stringify({filters:T(k)}),D.timer=(new Date).getTime(),!_&&x&&x.length){e.next=55;break}return e.next=26,s({type:"CHANGE_BASE_STATE",imageCache:[],imageCacheRange:[]});case 26:return e.next=28,c(b[y],D);case 28:if(O=e.sent,0===(L=O.resp).code){e.next=36;break}return(0,n.TopTips)({theme:"error",message:L.msg,duration:m}),e.next=34,s({type:"CHANGE_BASE_STATE",startTask:!1,startLoadImage:!0});case 34:return t.callback({result:!1}),e.abrupt("return");case 36:return I=L.num_results,S=new Array(I),e.next=40,s({type:"CHANGE_BASE_STATE",num_results:I,startLoadImage:!1});case 40:for(j=L.data[0],N=0;N<j.length;N++)(new Image).src=g+j[N].img_url,S[M+N]=j[N];return e.next=44,s({type:"CHANGE_BASE_STATE",imageCache:S,imageCacheRange:[M,M+j.length-1]});case 44:return e.next=46,a(function(e){return e[d]});case 46:if(q=e.sent,B=q.imageCache,F=q.imageCacheRange,E=B[P],P!==F[0]&&P!==F[1]){e.next=53;break}return e.next=53,s({type:"CHANGE_BASE_STATE",startLoadImage:!0});case 53:e.next=64;break;case 55:return e.next=57,a(function(e){return e[d]});case 57:if(G=e.sent,U=G.imageCache,z=G.imageCacheRange,E=U[P],P!==z[0]&&P!==z[1]){e.next=64;break}return e.next=64,s({type:"CHANGE_BASE_STATE",startLoadImage:!0});case 64:return e.next=66,a(function(e){return e[d]});case 66:return H=e.sent,J=H.num_results,Y={code:0,data:[[E]],num_results:J},e.next=71,c(b[y],i);case 71:if(e.sent,o.default.end_getImageLoad(),0!==Y.code){e.next=80;break}if(Y.data[0].length){e.next=77;break}return w("获取图片","没有图片信息，请上传文件","warning"),e.abrupt("return",t.callback({result:!1}));case 77:t.callback({result:!0,_resp:Y,queryMap:k,params:i}),e.next=84;break;case 80:return e.next=82,s({type:"CHANGE_BASE_STATE",startTask:!1});case 82:t.callback({result:!1}),(0,n.TopTips)({theme:"error",message:Y.msg,duration:m});case 84:e.next=92;break;case 86:return e.prev=86,e.t0=e.catch(14),e.next=90,s({type:"CHANGE_BASE_STATE",startTask:!1,getImageState:!1});case 90:(0,n.TopTips)({theme:"error",message:"获取图片的时候，发生了异常情况。",duration:m}),console.error(e.t0);case 92:case"end":return e.stop()}},e,this,[[14,86]])}),rejudge_getImage:regeneratorRuntime.mark(function e(t,r){var a,s,c,i,u,l,p,f,h,y,v,x,_,k,w,j,S,E,O,R,P,A,C,M,D,L,I,N,q,B,F,G,U,z;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.select,s=r.put,c=r.call,r.context,e.next=3,a(function(e){return e[d]});case 3:return i=e.sent,u=i.sysActive,l=i.imageCurrentIndex,p=i.task_id,f=i.sfpp_id,h=i.imageCache,y=i.startLoadImage,(v={}).task_id=p,(x={page:l+1,results_per_page:1,sfpp_id:f}).q=JSON.stringify({filters:T(v)}),x.timer=(new Date).getTime(),o.default.start_checkImageExist(),e.next=18,s({type:"CHANGE_BASE_STATE",startTask:!0,getImageState:!0});case 18:if(e.prev=18,R=1,P=0,A={results_per_page:O=10,sfpp_id:f},(E=l+1)>O?(S=Math.ceil(E/O),A.page=S,P=R*(S-1)*O+1):(S=Math.floor(E/O),A.page=1,P=1),A.q=JSON.stringify({filters:T(v)}),A.timer=(new Date).getTime(),!y&&h&&h.length){e.next=59;break}return e.next=30,s({type:"CHANGE_BASE_STATE",imageCache:[],imageCacheRange:[]});case 30:return e.next=32,c(b[u],A);case 32:if(j=e.sent,0===(C=j.resp).code){e.next=40;break}return(0,n.TopTips)({theme:"error",message:C.msg,duration:m}),e.next=38,s({type:"CHANGE_BASE_STATE",startTask:!1,startLoadImage:!0});case 38:return t.callback({result:!1}),e.abrupt("return");case 40:return M=C.num_results,k=new Array(M),e.next=44,s({type:"CHANGE_BASE_STATE",num_results:M,startLoadImage:!1});case 44:for(_=C.data[0],D=0;D<_.length;D++)(new Image).src=g+_[D].img_url,k[P+D]=_[D];return e.next=48,s({type:"CHANGE_BASE_STATE",imageCache:k,imageCacheRange:[P,P+_.length-1]});case 48:return e.next=50,a(function(e){return e[d]});case 50:if(L=e.sent,I=L.imageCache,N=L.imageCacheRange,w=I[E],E!==N[0]&&E!==N[1]){e.next=57;break}return e.next=57,s({type:"CHANGE_BASE_STATE",startLoadImage:!0});case 57:e.next=68;break;case 59:return e.next=61,a(function(e){return e[d]});case 61:if(q=e.sent,B=q.imageCache,F=q.imageCacheRange,w=B[E],E!==F[0]&&E!==F[1]){e.next=68;break}return e.next=68,s({type:"CHANGE_BASE_STATE",startLoadImage:!0});case 68:return e.next=70,a(function(e){return e[d]});case 70:return G=e.sent,U=G.num_results,z={code:0,data:[[w]],num_results:U},e.next=75,c(b[u],x);case 75:return e.sent,o.default.end_getImageLoad(),e.next=79,s({type:"CHANGE_BASE_STATE",getImageState:!1});case 79:if(0!==z.code){e.next=83;break}t.callback({result:!0,_resp:z,queryMap:v,params:x}),e.next=87;break;case 83:return e.next=85,s({type:"CHANGE_BASE_STATE",startTask:!1});case 85:t.callback({result:!1}),(0,n.TopTips)({theme:"error",message:z.msg,duration:m});case 87:e.next=95;break;case 89:return e.prev=89,e.t0=e.catch(18),e.next=93,s({type:"CHANGE_BASE_STATE",startTask:!1,getImageState:!1});case 93:(0,n.TopTips)({theme:"error",message:"获取图片的时候，发生了异常情况。",duration:m}),console.error(e.t0);case 95:case"end":return e.stop()}},e,this,[[18,89]])}),setImageInfo:regeneratorRuntime.mark(function e(t,r){var a,s,c,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,a=r.put,r.call,r.context,s=t._resp,c=t.queryMap,(0,n.TopTips)({theme:"success",message:"获取图片成功！"}),i=s.data[0],e.next=6,a({type:"CHANGE_BASE_STATE",startTask:!0,getImageState:!1});case 6:return e.next=8,a({type:"CHANGE_BASE_STATE",num_results:s.num_results,saveQueryCondition:u({},c)});case 8:if(!i.length){e.next=12;break}return e.next=11,a({type:"CHANGE_BASE_STATE",imageInfo:i[0],codeBtnActiveNumber:i[0].valid_code});case 11:o.default.end_checkImageExist("",i[0].img_url);case 12:case"end":return e.stop()}},e,this)}),nextImg:regeneratorRuntime.mark(function e(t,r){var n,a,o,s,c,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.select,a=r.put,r.call,r.context,e.next=3,n(function(e){return e[d]});case 3:if(o=e.sent,s=o.imageCurrentIndex,c=o.num_results,s+1!==c){e.next=8;break}return e.abrupt("return");case 8:return i=s+1,e.next=11,a({type:"CHANGE_BASE_STATE",imageCurrentIndex:i,codeBtnActiveNumber:""});case 11:t.callback(i);case 12:case"end":return e.stop()}},e,this)}),previousImg:regeneratorRuntime.mark(function e(t,r){var n,a,o,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.select,a=r.put,r.call,r.context,e.next=3,n(function(e){return e[d]});case 3:if(o=e.sent,s=o.imageCurrentIndex){e.next=7;break}return e.abrupt("return");case 7:return c=s-1,e.next=10,a({type:"CHANGE_BASE_STATE",imageCurrentIndex:c,codeBtnActiveNumber:""});case 10:t.callback(c);case 11:case"end":return e.stop()}},e,this)}),requestSampleUpload:regeneratorRuntime.mark(function e(t,r){var a,c,i,u,l,p,g,y,b,v,x,_,k;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.select,c=r.put,r.call,r.context,i=t.file,e.next=4,a(function(e){return e[d]});case 4:if(u=e.sent,l=u.sysActive,p=u.rejudgeType,u.uploadState,g="file"===p?"csv":"zip",o.default.checkUploadFileSuffix(i.name,g)){e.next=12;break}return(0,n.TopTips)({theme:"error",message:"上传的文件类型不合规",duration:m}),e.abrupt("return");case 12:if(o.default.checkUploadFileSize(i,1073741824)){e.next=15;break}return(0,n.TopTips)({theme:"error",message:"上传的文件超过 1G 大小限制",duration:m}),e.abrupt("return");case 15:return(y=new FormData).append("file",t.file),e.next=19,c({type:"CHANGE_BASE_STATE",uploadState:!0});case 19:return e.prev=19,e.next=22,s.default.post(h[l],y,f);case 22:return b=e.sent,e.next=25,c({type:"CHANGE_BASE_STATE",uploadState:!1});case 25:if(0!==b.data.code){e.next=38;break}if((0,n.TopTips)({theme:"success",message:"上传文件成功!"}),(v=b.data.data).codeList&&v.codeList.length){e.next=31;break}return(0,n.TopTips)({theme:"error",message:"没有code信息!",duration:m}),e.abrupt("return",!1);case 31:return(x=v.codeList.map(function(e,t){return{text:e.code,value:e.code}})).unshift({text:"全部",value:0}),_=v.task_id,k=v.upload_sample_name,e.next=36,c({type:"CHANGE_BASE_STATE",sampleCodeList:x,task_id:_,upload_sample_name:k});case 36:e.next=39;break;case 38:(0,n.TopTips)({theme:"error",message:b.data.msg,duration:m});case 39:e.next=46;break;case 41:return e.prev=41,e.t0=e.catch(19),e.next=45,c({type:"CHANGE_BASE_STATE",uploadState:!1});case 45:(0,n.TopTips)({theme:"error",message:"上传文件出现异常，请重新尝试。",duration:m});case 46:case"end":return e.stop()}},e,this,[[19,41]])}),imageImportCode:regeneratorRuntime.mark(function e(t,r){var a,c,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.select,a=r.put,r.call,r.context,c=t.file,o.default.checkUploadFileSuffix(c.name,"csv")){e.next=5;break}return(0,n.TopTips)({theme:"error",message:"上传的文件类型不合规",duration:m}),e.abrupt("return");case 5:if(o.default.checkUploadFileSize(c,5242880)){e.next=8;break}return(0,n.TopTips)({theme:"error",message:"上传的文件超过 5M 大小限制",duration:m}),e.abrupt("return");case 8:return(i=new FormData).append("file",c),e.next=12,a({type:"CHANGE_BASE_STATE",importCodeState:!0});case 12:return e.prev=12,e.next=15,s.default.post("/api/v1/judge/code/upload?sfpp_id=0",i,f);case 15:return u=e.sent,e.next=18,a({type:"CHANGE_BASE_STATE",importCodeState:!1});case 18:0===u.data.code?((0,n.TopTips)({theme:"success",message:"导入code成功!"}),t.callback({result:!0,res:u})):(t.callback({result:!1,res:u}),(0,n.TopTips)({theme:"error",message:u.data.msg,duration:m})),e.next=26;break;case 21:return e.prev=21,e.t0=e.catch(12),e.next=25,a({type:"CHANGE_BASE_STATE",importCodeState:!1});case 25:(0,n.TopTips)({theme:"error",message:"导入code出现异常，请重新尝试。",duration:m});case 26:case"end":return e.stop()}},e,this,[[12,21]])}),queryCode:regeneratorRuntime.mark(function e(t,r){var a,o,s,c,i,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,a=r.put,o=r.call,s=r.context,(c={page:1,results_per_page:100}).q=JSON.stringify({group_by:[{field:"code"}],order_by:[{field:"id"}],filters:T({op:localStorage.user_name})}),c.timer=(new Date).getTime(),e.next=6,o(s.service.getCodeList,c);case 6:if(i=e.sent,0!==(u=i.resp).code||!u.data[0].length){e.next=15;break}return l=u.data[0],e.next=12,a({type:"CHANGE_BASE_STATE",imageCodeList:l});case 12:t.callback&&t.callback({result:!0,data:{imageCodeList:l}}),e.next=17;break;case 15:t.callback({result:!1}),(0,n.TopTips)({theme:"error",message:u.msg,duration:m});case 17:case"end":return e.stop()}},e,this)}),addCode:regeneratorRuntime.mark(function e(t,r){var a,o,s,c,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,r.put,a=r.call,o=r.context,s={code:t.data.code,sfpp_id:0},e.next=4,a(o.service.codeAdd,s);case 4:c=e.sent,0===(i=c.resp).code?((0,n.TopTips)({theme:"success",message:"增加code成功!"}),t.callback({result:!0,res:c})):(t.callback({result:!1,res:c}),(0,n.TopTips)({theme:"error",message:i.msg,duration:m}));case 7:case"end":return e.stop()}},e,this)}),getProductList:regeneratorRuntime.mark(function e(t,r){var n,a,o,s,c,i,u,l,p,d,f,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,n=r.put,a=r.call,o=r.context,s=t.data,c=s.site,i=s.shop,u=s.operation,(l={}).q=JSON.stringify({filters:[{and:[{name:"site",op:"eq",val:c},{and:[{name:"factory_name",op:"eq",val:i},{name:"process_operation_name",op:"eq",val:u}]}]}]}),l.timer=(new Date).getTime(),e.next=7,a(o.service.siteProduct,l);case 7:if(p=e.sent,d=[],0===(f=p.resp).code)for(g=0;g<f.data.length;g++)d.push({text:f.data[g].product_spec_name,value:f.data[g].id});return e.next=13,n({type:"CHANGE_BASE_STATE",productList:d});case 13:case"end":return e.stop()}},e,this)}),requestSite:regeneratorRuntime.mark(function e(t,r){var a,o,s,c,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,a=r.put,o=r.call,s=r.context,(c={}).timer=(new Date).getTime(),e.next=5,o(s.service.site,c);case 5:if(i=e.sent,0!==(u=i.resp).code){e.next=12;break}return e.next=10,a({type:"CHANGE_BASE_STATE",siteMap:i.resp.data});case 10:e.next=13;break;case 12:(0,n.TopTips)({theme:"error",message:u.msg,duration:m});case 13:case"end":return e.stop()}},e,this)}),r_t_s:regeneratorRuntime.mark(function e(t,r){var a,o,s,c,i,l,p,f,g,h,y,b,v,_,k,w,T,j,S;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.select,o=r.put,s=r.call,r.context,e.next=3,a(function(e){return e[d]});case 3:if(c=e.sent,i=c.sysActive,l=c.imageInfo,p=c.codeBtnActiveNumber,f=c.imageCache,g=c.imageCurrentIndex,h=f,p){e.next=13;break}return(0,n.TopTips)({theme:"warning",message:"请先选择code。",duration:m}),e.abrupt("return");case 13:return y=u({},l,t.data),e.next=16,s(x[i],y);case 16:if(b=e.sent,0!==(v=b.resp).code){e.next=33;break}return _=v.data,k=_.turn_on,w=_.rework,T=_.sheet_type,h[j=g+1].turn_on=k,h[j].rework=w,h[j].sheet_type=T,e.next=26,o({type:"CHANGE_BASE_STATE",imageCache:h,imageInfo:y,codeBtnActiveNumber:h[j].valid_code});case 26:return e.next=28,a(function(e){return e[d]});case 28:S=e.sent,S.imageCache,(0,n.TopTips)({theme:"success",message:"操作成功!"}),e.next=34;break;case 33:(0,n.TopTips)({theme:"error",message:v.msg,duration:m});case 34:case"end":return e.stop()}},e,this)}),chooseCodeBtn:regeneratorRuntime.mark(function t(r,a){var o,s,c,i,l,f,g,h,y,b,v,_,k,w;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=a.select,s=a.put,c=a.call,t.next=3,s(u({type:"CHOOSE_CODE_BTN"},r.data));case 3:return e("#".concat(p+r.data.valid_code)).focus(),t.next=6,o(function(e){return e[d]});case 6:return i=t.sent,l=i.sysActive,f=i.imageInfo,g=i.imageCache,h=i.imageCurrentIndex,y=g,b=u({},f,{valid_code:r.data.valid_code}),t.prev=13,t.next=16,c(x[l],b);case 16:if(v=t.sent,0!==(_=v.resp).code){t.next=27;break}return k=_.data.valid_code,y[w=h+1].valid_code=k,t.next=24,s({type:"CHANGE_BASE_STATE",imageCache:y,imageInfo:y[w],codeBtnActiveNumber:y[w].valid_code});case 24:(0,n.TopTips)({theme:"success",message:"操作成功!"}),t.next=28;break;case 27:(0,n.TopTips)({theme:"error",message:_.msg,duration:m});case 28:t.next=33;break;case 30:t.prev=30,t.t0=t.catch(13),(0,n.TopTips)({theme:"error",message:"选择code的时候出现异常，请重新尝试。",duration:m});case 33:case"end":return t.stop()}},t,this,[[13,30]])}),switchSystem:regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,n=r.put,r.call,e.next=3,n(u({type:"CHANGE_BASE_STATE"},t.data));case 3:case"end":return e.stop()}},e,this)}),switchRejudgeType:regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,n=r.put,r.call,r.context,e.next=3,n(u({type:"CHANGE_BASE_STATE"},t.data));case 3:case"end":return e.stop()}},e,this)}),getViewEndTableData:regeneratorRuntime.mark(function e(t,r){var a,o,s,c,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.put,r.select,a=r.call,o=r.context,(s={page:t.current,results_per_page:t.perPageCount}).q=JSON.stringify({order_by:[{field:"create_time",direction:"desc"}],filters:[{name:"op",op:"eq",val:localStorage.user_name}]}),s.timer=(new Date).getTime(),e.next=6,a(o.service.result_log,s);case 6:c=e.sent,0===(i=c.resp).code?t.callback({result:!0,data:i}):(t.callback({result:!1}),(0,n.TopTips)({theme:"error",message:i.msg,duration:m}));case 9:case"end":return e.stop()}},e,this)}),endTask:regeneratorRuntime.mark(function e(t,r){var a,o,s,c,i,u,l,p,f,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.select,o=r.put,s=r.call,r.context,e.next=3,a(function(e){return e[d]});case 3:return c=e.sent,i=c.sysActive,u=c.rejudgeType,l=c.task_id,p={sfpp_id:0,status:1,task_id:l},e.prev=8,e.next=11,s(_[i],p);case 11:if(f=e.sent,0!==(g=f.resp).code){e.next=21;break}return e.next=16,o({type:"CHANGE_BASE_STATE",startTask:!1});case 16:return e.next=18,o({type:"Initialize",sysActive:i,rejudgeType:u});case 18:t.callback({result:!0}),e.next=23;break;case 21:t.callback({result:!1}),(0,n.TopTips)({theme:"error",message:g.msg,duration:m});case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(8),(0,n.TopTips)({theme:"error",message:"结束出现异常，请重新尝试。",duration:m});case 28:case"end":return e.stop()}},e,this,[[8,25]])})};function w(e,t,r){(0,n.confirm)({caption:e,text:t,type:r}).then(function(e){})}function T(e){var t=[];for(var r in e)"object"===i(e[r])?e[r]&&(t.push({name:r,op:">=",val:e[r].from}),t.push({name:r,op:"<=",val:e[r].to})):"id"===r?t.push({name:r,op:">=",val:e[r]}):"compare_rtir_code"===r?e[r]?t.push({name:r,op:"eq",val:2}):t.push({name:r,op:"<=",val:2}):null!==e[r]&&""!==e[r]&&void 0!==e[r]&&t.push({name:r,op:"eq",val:e[r]});return t}t.default=k}).call(this,r(246))},738:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reducers=void 0;var n=r(138);function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){o(e,t,r[t])})}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s={Initialize:function(e,t){return a({},n.initState,t)},CHANGE_BASE_STATE:function(e,t){return a({},e,t)},CHOOSE_CODE_BTN:function(e,t){return a({},e,{imageInfo:a({},e.imageInfo,{valid_code:t.valid_code}),codeBtnActiveNumber:t.codeBtnActiveNumber})}};t.reducers=s},739:function(e,t,r){e.exports=r.p+"imgs/2dcd5f47.jpg"},740:function(e,t,r){e.exports=r.p+"imgs/1e8edd4e.jpg"},741:function(e,t,r){e.exports=r.p+"imgs/0a53ae47.jpg"},742:function(e,t,r){e.exports=r.p+"imgs/a445ae6f.jpg"},743:function(e,t,r){e.exports=r.p+"imgs/a7b80347.jpg"},744:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(138),a=r(738),o=function(e){return e&&e.__esModule?e:{default:e}}(r(737));var s={namespace:"rejudge3",state:n.initState,reducers:a.reducers,effects:o.default};t.default=s},748:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(2)),a=r(25),o=s(r(747));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){i(e,t,r[t])})}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(e){var t=[];return Object.keys(e).forEach(function(r){e[r]&&t.push({name:r,op:"==",val:e[r]})}),t}function p(e){var t=e.page,r=e.limit,n=e.filters,a=n.site,o=n.shop,s=n.operation,c=n.product,i=n.startDate,p=n.endDate,d=n.glassId,f=n.confidence,g=n.uniformityOnly,m={queryString:{page:t,results_per_page:r},filters:u(d[0]?[{name:"glass_id",op:"in",val:d}]:u(l({site:a,shop:o,operation:s,product:c}))).concat([{name:"timestamp",op:">=",val:i},{name:"timestamp",op:"<=",val:p},{name:"confidence_level",op:">=",val:f}])};return g&&m.filters.push({name:"code_uniformity",op:"==",val:1}),m}function d(e){e.method;var t=e.url,r=e.data;arguments.length>1&&void 0!==arguments[1]&&arguments[1];r=c({},r);for(var n,a=/\/:(\w+)/g,s=[];null!=(n=a.exec(t));)n[1]&&s.push(n[1]);return null!=s&&s.forEach(function(e){var n=r[e];delete r[e],null==n&&(n=""),t=t.replace(":".concat(e),n)}),r.queryString&&(t+="?"+o.default.stringify(r.queryString,{arrayFormat:"bracket"}),delete r.queryString),{url:t,data:r}}var f={total:0,limit:15,page:1,imageList:[],options:{site:[],shop:[],operation:[],product:[],minDate:(0,n.default)().subtract(30,"days").startOf("day").format("YYYY-MM-DD HH:mm:ss"),maxDate:(0,n.default)().endOf("day").format("YYYY-MM-DD HH:mm:ss")},filters:{glassId:[],site:"",shop:"",operation:"",product:"",confidence:96,uniformityOnly:!0,startDate:(0,n.default)().startOf("day").format("YYYY-MM-DD HH:mm:ss"),endDate:(0,n.default)().endOf("day").format("YYYY-MM-DD HH:mm:ss")},image:{id:"",adc_result:{},mes_result:{},rejudge_result:{code:null,rework:null,turn_on:null,canBilling:null},site:"",shop:"",operation:"",product:"",image_url:"",image_path:"",image_name:"",glass_id:""},codes:[],curTab:"imageList",showResult:!0,isSubmitting:!1,isListLoading:!0,isCodeLoading:!0},g={namespace:"rejudge",state:f,reducers:{initialize:function(){return f},changeOption:function(e,t){return c({},e,{options:c({},e.options,t.payload)})},changeFilter:function(e,t){return c({},e,{filters:c({},e.filters,t.payload)})},clearFilter:function(e,t){return c({},e,{filters:c({},f.filters)})},changeImage:function(e,t){return c({},e,{image:c({},e.image,t.payload)})},changeRejudgeResult:function(e,t){return c({},e,{image:c({},e.image,{rejudge_result:c({},e.image.rejudge_result,t.payload)})})},clearRejudge:function(e){return c({},e,{image:c({},e.image,{rejudge_result:f.image.rejudge_result})})}},effects:{fetchFilterOptions:regeneratorRuntime.mark(function e(t,r){var n,a,o,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.put,a=r.call,o=r.context,e.next=3,a(o.service.getFilterOptions);case 3:if(s=e.sent,!(c=s.resp)||c.code){e.next=9;break}return e.next=8,n({type:"change",payload:{options:c.data}});case 8:t.callback&&t.callback(c.data);case 9:case"end":return e.stop()}},e,this)}),fetchCurImageList:regeneratorRuntime.mark(function e(t,r){var n,a,o,s,i,u,l,f,g,m,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.select,a=r.put,o=r.call,s=r.context,e.next=3,a({type:"change",payload:{isListLoading:!0}});case 3:return e.next=5,n(function(e){return e.rejudge});case 5:return i=e.sent,u=i.page,l=i.limit,f=i.filters,g=p({page:u,limit:l,filters:f}),e.next=12,o(s.service.getImageList,g,{normalizeReq:d});case 12:if(m=e.sent,!(h=m.resp)||0!==h.code){e.next=20;break}return e.next=17,a({type:"change",payload:{imageList:h.data,total:h.num_results}});case 17:return t.callback&&t.callback(h.data),e.next=20,a({type:"change",payload:{isListLoading:!1}});case 20:if(f.glassId[0]){e.next=23;break}return e.next=23,a({type:"fetchCodeList",payload:c({},f)});case 23:case"end":return e.stop()}},e,this)}),fetchImageList:regeneratorRuntime.mark(function e(t,r){var n,a,o,s,c,i,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.put,n=r.call,a=r.context,o=t.payload,s=o.page,c=o.filters,i=p({page:s,filters:c,limit:100}),e.next=5,n(a.service.getImageList,i,{normalizeReq:d});case 5:u=e.sent,(l=u.resp)&&0===l.code&&t.callback?t.callback(null,l.data):t.callback(l);case 8:case"end":return e.stop()}},e,this)}),changePage:regeneratorRuntime.mark(function e(t,r){var n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.put,a=t.payload.page,e.next=4,n({type:"change",payload:{page:a}});case 4:return e.next=6,n({type:"fetchCurImageList"});case 6:case"end":return e.stop()}},e,this)}),changePerPage:regeneratorRuntime.mark(function e(t,r){var n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.put,a=t.payload.limit,e.next=4,n({type:"change",payload:{limit:a}});case 4:return e.next=6,n({type:"fetchCurImageList"});case 6:case"end":return e.stop()}},e,this)}),fetchCodeList:regeneratorRuntime.mark(function e(t,r){var n,a,o,s,c,i,p,d,f,g,m,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.put,a=r.call,o=r.context,s=t.payload,c=s.site,i=s.shop,p=s.operation,d=s.product,f={q:JSON.stringify({filters:u(l({site:c,shop:i,operation:p,product:d}))})},e.next=5,n({type:"change",payload:{isCodeLoading:!0}});case 5:return e.next=7,a(o.service.fetchCodeList,f);case 7:if(g=e.sent,!(m=g.resp)||m.code){e.next=15;break}return h=m.data[0]&&m.data[0].codes,e.next=13,n({type:"change",payload:{codes:JSON.parse((h||"[]").replace(/'/g,'"'))}});case 13:return e.next=15,n({type:"change",payload:{isCodeLoading:!1}});case 15:case"end":return e.stop()}},e,this)}),startRejudge:regeneratorRuntime.mark(function e(t,r){var n,a,o,s,i,u,l,p,d,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.put,a=r.select,o=t.payload,s=o.site,i=o.shop,u=o.operation,l=o.product,e.next=4,a(function(e){return e.rejudge.filters});case 4:return p=e.sent,d=p.glassId,g=t.payload.rejudge_result?JSON.parse(t.payload.rejudge_result):f.image.rejudge_result,e.next=9,n({type:"changeImage",payload:c({},t.payload,{rejudge_result:g})});case 9:return e.next=11,n({type:"change",payload:{curTab:"imageInfo"}});case 11:if(!d[0]){e.next=14;break}return e.next=14,n({type:"fetchCodeList",payload:{site:s,shop:i,operation:u,product:l}});case 14:case"end":return e.stop()}},e,this)}),submitRejudge:regeneratorRuntime.mark(function e(t,r){var n,o,s,i,l,p,f,g,m,h,y,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.select,o=r.call,s=r.context,i=r.put,e.next=3,n(function(e){return e.rejudge});case 3:return l=e.sent,p=l.image,f=l.imageList,g=c({},p,{rejudge_result:JSON.stringify(p.rejudge_result)}),e.next=9,o(s.service.redataGlass,g,{normalizeReq:d});case 9:if(m=e.sent,!(h=m.resp)||h.code){e.next=19;break}return(0,a.TopTips)({theme:"success",message:"复判成功"}),y=f.findIndex(function(e){return e.id===p.id}),(b=u(f))[y]=g,e.next=18,i({type:"change",payload:{imageList:b}});case 18:t.callback&&t.callback();case 19:case"end":return e.stop()}},e,this)}),updateCode:regeneratorRuntime.mark(function e(t,r){var n,o,s,c,i,u,l,p,d,f,g,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.select,o=r.put,s=r.call,c=r.context,i=t.payload.codes,e.next=4,n(function(e){return e.rejudge.image});case 4:return u=e.sent,l=u.site,p=u.shop,d=u.operation,f=u.product,e.next=11,s(c.service.updateCodeList,{codes:i,site:l,shop:p,operation:d,product:f,queryString:{site:l,shop:p,operation:d,product:f}});case 11:if(g=e.sent,!(m=g.resp)||m.code){e.next=17;break}return e.next=16,o({type:"fetchCodeList",payload:{site:l,shop:p,operation:d,product:f}});case 16:(0,a.TopTips)({theme:"success",message:"CODE更新成功"});case 17:case"end":return e.stop()}},e,this)}),nextImage:regeneratorRuntime.mark(function e(t,r){var n,o,s,i,u,l,p,d,f,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.select,o=r.put,s=r.context,e.next=3,n(function(e){return e.rejudge});case 3:if(i=e.sent,u=i.image,l=i.imageList,p=i.page,d=i.total,f=i.limit,(g=l.findIndex(function(e){return e.id===u.id}))!==l.length-1){e.next=19;break}if(Math.ceil(d/f)!==p){e.next=13;break}return e.abrupt("return",(0,a.TopTips)({theme:"error",message:"已是最后一张"}));case 13:return e.next=15,o({type:"change",payload:{page:p+1}});case 15:return e.next=17,o({type:"fetchCurImageList",callback:function(e){if(!e[0])return(0,a.TopTips)({theme:"error",message:"已是最后一张"});s.app._store.dispatch({type:"rejudge/startRejudge",payload:c({},e[0])})}});case 17:e.next=21;break;case 19:return e.next=21,o({type:"startRejudge",payload:c({},l[g+1])});case 21:case"end":return e.stop()}},e,this)}),prevImage:regeneratorRuntime.mark(function e(t,r){var n,o,s,i,u,l,p,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.select,o=r.put,s=r.context,e.next=3,n(function(e){return e.rejudge});case 3:if(i=e.sent,u=i.image,l=i.imageList,p=i.page,0!==(d=l.findIndex(function(e){return e.id===u.id}))){e.next=17;break}if(1!==p){e.next=11;break}return e.abrupt("return",(0,a.TopTips)({theme:"error",message:"已是第一张"}));case 11:return e.next=13,o({type:"change",payload:{page:p-1}});case 13:return e.next=15,o({type:"fetchCurImageList",callback:function(e){s.app._store.dispatch({type:"rejudge/startRejudge",payload:c({},e[e.length-1])})}});case 15:e.next=19;break;case 17:return e.next=19,o({type:"startRejudge",payload:c({},l[d-1])});case 19:case"end":return e.stop()}},e,this)})}};t.default=g},749:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(25);function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){a(e,t,r[t])})}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o={namespace:"productManage",state:{siteMap:[],isSiteMapLoading:!0,sites:[],shops:[],conflict:{title:"",hint:"",visible:!1,data:[],keys:[],refreshAction:{}},confirm:{visible:!1,title:"",hint:"",okText:"",confirmAction:{}}},reducers:{showConfirmDialog:function(e,t){return n({},e,{confirm:n({visible:!0},t.payload)})},closeConfirmDialog:function(e){return n({},e,{confirm:{visible:!1,title:"",hint:"",okText:"",confirmAction:{}}})},showConflictDialog:function(e,t){return n({},e,{conflict:n({visible:!0},t.payload)})},closeConflictDialog:function(e){return n({},e,{conflict:{title:"",hint:"",visible:!1,data:[],keys:[],refreshAction:{}}})}},effects:{fetchSiteMap:regeneratorRuntime.mark(function e(t,r){var n,a,o,s,c,i,u,l,p,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,n=r.put,a=r.call,r.cancel,o=r.context,e.next=3,a(o.service.getSiteMap);case 3:if(s=e.sent,(c=s.resp).code){e.next=14;break}return i=c.data,u={},l={},i.forEach(function(e){u[e.site]=1,e.factory_list&&e.factory_list.forEach(function(e){l[e.factory_name]=1})}),p=Object.keys(u).sort(),d=Object.keys(l).sort(),e.next=14,n({type:"productManage/change",payload:{siteMap:i,isSiteMapLoading:!1,shops:d,sites:p}});case 14:case"end":return e.stop()}},e,this)})}};t.default=o},750:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(25),a={namespace:"account",state:{accountList:[],total:0,limit:10,page:0,isGroupLoading:!1,isAddAccount:!1,isEditAccount:!1,authorityList:[],isAuthorityList:!1,completedEdit:!1,groupList:[],scopesList:[],currentAccountInfo:{}},effects:{fetchCurrentAccount:regeneratorRuntime.mark(function e(t,r){var n,a,o,s,c,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,n=r.put,a=r.call,r.cancel,o=r.context.service,s=localStorage.getItem("userId"),e.next=4,a(o.getUserinfo,{id:s});case 4:if(c=e.sent,i=c.resp,console.log(i),"0"!=i.code){e.next=10;break}return e.next=10,n({type:"change",payload:{currentAccountInfo:i.data[0]?i.data[0]:i.data}});case 10:case"end":return e.stop()}},e,this)}),fetchAccount:regeneratorRuntime.mark(function e(t,r){var n,a,o,s,c,i,u,l,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,n=r.put,a=r.call,r.cancel,o=r.context.service,e.next=3,n({type:"change",payload:{accountList:[],isGroupLoading:!0}});case 3:return s=t.payload,c=s.page,i=s.limit,u={page:c,results_per_page:i},e.next=7,a(o.getUserinfoAll,u);case 7:if(l=e.sent,"0"!=(p=l.resp).code){e.next=12;break}return e.next=12,n({type:"change",payload:{accountList:p.data,total:p.num_results,isGroupLoading:!1}});case 12:case"end":return e.stop()}},e,this)}),fetchGroup:regeneratorRuntime.mark(function e(t,r){var n,a,o,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,n=r.put,a=r.call,r.cancel,o=r.context.service,e.next=3,a(o.getUserGroup,null);case 3:if(s=e.sent,"0"!=(c=s.resp).code){e.next=8;break}return e.next=8,n({type:"change",payload:{groupList:c.data}});case 8:case"end":return e.stop()}},e,this)}),fetchAuthScopes:regeneratorRuntime.mark(function e(t,r){var n,a,o,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,n=r.put,a=r.call,r.cancel,o=r.context.service,e.next=3,a(o.getAuthScopes,null);case 3:if(s=e.sent,"0"!=(c=s.resp).code){e.next=8;break}return e.next=8,n({type:"change",payload:{scopesList:c.data}});case 8:case"end":return e.stop()}},e,this)}),fetchAddAccount:regeneratorRuntime.mark(function e(t,r){var a,o,s,c,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,a=r.put,o=r.call,r.cancel,s=r.context.service,e.next=3,a({type:"change",payload:{query:[],isGroupLoading:!0}});case 3:return e.next=5,o(s.postCreateUser,t.payload);case 5:if(c=e.sent,"0"!=(i=c.resp).code&&0!=i.code){e.next=13;break}return e.next=10,a({type:"change",payload:{isGroupLoading:!1}});case 10:(0,n.TopTips)({theme:"done",message:"新增成功"}),e.next=14;break;case 13:"403"==i.code||403==i.code?(0,n.TopTips)({theme:"warning",message:"该token无此权限"}):"1"==i.code||-1==i.code?(0,n.TopTips)({theme:"warning",message:"用户名已存在"}):(0,n.TopTips)({theme:"warning",message:i.msg});case 14:t.callback&&t.callback();case 15:case"end":return e.stop()}},e,this)}),fetchEditAccount:regeneratorRuntime.mark(function e(t,r){var a,o,s,c,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,a=r.put,o=r.call,r.cancel,s=r.context.service,e.next=3,a({type:"change",payload:{query:[],isGroupLoading:!0}});case 3:return e.next=5,o(s.postUserinfoUpdate,t.payload,{level:0});case 5:if(c=e.sent,"0"!=(i=c.resp).code&&0!=i.code){e.next=14;break}return e.next=10,a({type:"change",payload:{isGroupLoading:!1,completedEdit:!0}});case 10:(0,n.TopTips)({theme:"done",message:"编辑成功"}),t.callback&&t.callback(),e.next=15;break;case 14:(0,n.TopTips)({theme:"warning",message:i.msg});case 15:case"end":return e.stop()}},e,this)}),fetchDelAccount:regeneratorRuntime.mark(function e(t,r){var a,o,s,c,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,a=r.put,o=r.call,r.cancel,s=r.context.service,e.next=3,a({type:"change",payload:{isGroupLoading:!0}});case 3:return e.next=5,o(s.postUserinfoDelete,t.payload,{level:0});case 5:if(c=e.sent,"0"!=(i=c.resp).code&&0!=i.code){e.next=14;break}return e.next=10,a({type:"change",payload:{isGroupLoading:!1}});case 10:(0,n.TopTips)({theme:"done",message:"删除成功"}),t.callback&&t.callback(),e.next=15;break;case 14:(0,n.TopTips)({theme:"warning",message:i.msg});case 15:case"end":return e.stop()}},e,this)}),fetchAuthorityList:regeneratorRuntime.mark(function e(t,r){var n,a,o,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,n=r.put,a=r.call,r.cancel,o=r.context.service,e.next=3,n({type:"change",payload:{authorityList:[],isGroupLoading:!0}});case 3:return e.next=5,a(o.userinfoPrivshow,null,{level:0});case 5:if(s=e.sent,"0"!=(c=s.resp).code&&0!=c.code){e.next=10;break}return e.next=10,n({type:"change",payload:{authorityList:c.query,isGroupLoading:!1}});case 10:case"end":return e.stop()}},e,this)})}};t.default=a},751:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(25),a={namespace:"login",state:{user_name:"",pwd:"",isGroupLoading:!1,loginData:[],testPwd:!0,loginSuccess:!1},effects:{fetchLogin:regeneratorRuntime.mark(function e(t,r){var a,o,s,c,i,u,l,p,d,f,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,a=r.put,o=r.call,r.cancel,s=r.context.service,e.next=3,a({type:"change",payload:{isGroupLoading:!0}});case 3:return c=t.payload,i=c.user_name,u=c.pwd,l=c.rememberPwd,p="1d",l||(p=0),d={username:i,password:u,expires:p},e.next=9,o(s.postSignin,d);case 9:if(f=e.sent,"0"!=(g=f.resp).code){e.next=24;break}return e.next=14,a({type:"change",payload:{isGroupLoading:!1,testPwd:!0,loginSuccess:!0,user_name:i}});case 14:localStorage.setItem("user_name",i),localStorage.setItem("accessToken",g.accessToken),localStorage.setItem("userId",g.userId),localStorage.setItem("groupId",g.groupId),localStorage.setItem("remember",!0),document.cookie="op=".concat(i,"; expires=Tue, 19 Jan 2038 03:14:07 GMT;"),1==l?localStorage.setItem("pwd",u):localStorage.removeItem("pwd"),t.callback&&t.callback(),e.next=27;break;case 24:return(0,n.TopTips)({theme:"error",message:"登录失败"}),e.next=27,a({type:"change",payload:{testPwd:!1,isGroupLoading:!1}});case 27:case"end":return e.stop()}},e,this)})}};t.default=a},752:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0;t.delay=function(e){return new Promise(function(t){setTimeout(function(){return t(!0)},e)})}},753:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DATE_TIME_FORMAT_HM=t.DATE_TIME_FORMAT=t.DATE_FORMAT=void 0;t.DATE_FORMAT="YYYY-MM-DD";var n="".concat("YYYY-MM-DD"," HH:mm:ss");t.DATE_TIME_FORMAT=n;t.DATE_TIME_FORMAT_HM="HH:mm"},754:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STATUSES=t.STATUS_TITLE=t.STATUS=t.DEFAULT_VPORT=void 0;var n,a=function(e){return e&&e.__esModule?e:{default:e}}(r(94));function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.DEFAULT_VPORT=3306;var s={creating:0,doing:1,ok:2,notInit:3,rebooting:4,expired:-1,deleted:-2,deleting:-3};t.STATUS=s;var c=(o(n={},s.creating,"创建中"),o(n,s.doing,"流程处理中"),o(n,s.ok,"实例有效"),o(n,s.notInit,"未初始化"),o(n,s.rebooting,"重启中"),o(n,s.expired,"实例已隔离"),o(n,s.deleted,"实例已删除"),o(n,s.deleting,"实例删除中"),n);t.STATUS_TITLE=c;var i=a.default.keys(c).map(function(e){return{text:c[e],value:e}});t.STATUSES=i},755:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(94)),a=i(r(2)),o=r(247),s=(r(754),r(753)),c=r(752);function i(e){return e&&e.__esModule?e:{default:e}}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){l(e,t,r[t])})}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p={namespace:"instance",state:{list:[],params:[],total:0,page:0,pageSize:20,orderKey:"createTime",orderType:"desc",currentId:null,current:null,listSilentLoading:!1,usedStorage:0,loadTaskError:null,loadingTask:!1,pollingTask:!1},effects:{fetch:regeneratorRuntime.mark(function e(t,r){var n,a,o,s,c,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.select,n=r.put,a=r.call,r.cancel,o=r.context.service,console.log("111"),e.next=4,a(o.getInstanceList,{level:0});case 4:if(s=e.sent,!(c=s.resp).success){e.next=10;break}return i=c.data,u=i.totalCnt,i.instances,e.next=10,n({type:"change",payload:{total:u,listSilentLoading:!1}});case 10:case"end":return e.stop()}},e,this)}),fetchDetail:regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r.select,r.put,r.call,r.context.service;case 1:case"end":return e.stop()}},e,this)}),fetchParams:regeneratorRuntime.mark(function e(t,r){var n,a,o,s,c,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.put,a=r.select,o=r.call,s=r.context.service,e.next=3,a(function(e){return{instanceId:e.instance.currentId,needReboot:1}});case 3:return c=e.sent,e.next=6,o(s.getInstanceParams,c);case 6:if(i=e.sent,!(u=i.resp).success){e.next=11;break}return e.next=11,n({type:"change",payload:{params:u.data.params}});case 11:case"end":return e.stop()}},e,this)}),fetchUsedStorage:regeneratorRuntime.mark(function e(t,r){var o,c,i,u,l,p,d,f,g,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.put,c=r.select,i=r.call,u=r.context.service,l=(0,a.default)(),e.next=4,c(function(e){return{instanceId:e.instance.currentId,startTime:(0,a.default)(l).subtract(2,"minutes").format(s.DATE_TIME_FORMAT),endTime:l.format(s.DATE_TIME_FORMAT),metricName:["real_capacity"]}});case 4:return p=e.sent,e.next=7,i(u.getMonitorData,p);case 7:if(d=e.sent,!(f=d.resp).success){e.next=14;break}return g=f.data.metric,m=n.default.first(g),e.next=14,o({type:"change",payload:{usedStorage:m}});case 14:case"end":return e.stop()}},e,this)}),pollInstanceTask:regeneratorRuntime.mark(function e(t,r){var a,o,s,i,l,p,d,f,g,m,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.put,o=r.select,s=r.call,i=r.context.service,e.next=3,o(n.default.prop("instance"));case 3:l=e.sent,p=l.currentId,d=l.current,f={instanceId:p};case 7:return e.next=10,a({type:"change",payload:{loadingTask:!0,pollingTask:!0}});case 10:return e.next=12,s(i.getInstanceTask,f);case 12:if(g=e.sent,!(m=g.resp).success){e.next=20;break}return h=m.data.desc,e.next=18,a({type:"change",payload:{current:u({},d,{lockDesc:h}),loadingTask:!1}});case 18:e.next=22;break;case 20:return e.next=22,a({type:"change",payload:{loadTaskError:"拉取任务失败",loadingTask:!1}});case 22:return e.next=24,s(c.delay,5e3);case 24:e.next=7;break;case 26:case"end":return e.stop()}},e,this)}),cancelPollInstanceTask:regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.put,r.select,e.next=3,n({type:"change",payload:{loadingTask:!1,pollingTask:!1,loadTaskError:null}});case 3:case"end":return e.stop()}},e,this)}),watchPollInstanceTask:[regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.take,n=t.race,t.put,a=t.callAction;case 1:return e.next=4,r("instance/startPollInstanceTask");case 4:return e.next=6,n([a({type:"pollInstanceTask"}),r("instance/cancelPollInstanceTask")]);case 6:e.next=1;break;case 8:case"end":return e.stop()}},e,this)}),{type:"watcher"}],filterBySearchKey:regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,n=r.put,e.next=4,n({type:"fetch"});case 4:case"end":return e.stop()}},e,this)}),filterByPage:regeneratorRuntime.mark(function e(t,r){var n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,a=r.put,e.next=4,a({type:"change",payload:{page:n.page}});case 4:return e.next=6,a({type:"fetch"});case 6:case"end":return e.stop()}},e,this)}),filterByPageSize:regeneratorRuntime.mark(function e(t,r){var n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,a=r.put,e.next=4,a({type:"change",payload:{page:0,pageSize:n.pageSize}});case 4:return e.next=6,a({type:"fetch"});case 6:case"end":return e.stop()}},e,this)}),resetFetch:regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.put,e.next=3,n((0,o.change)("instanceListAction","searchKey",""));case 3:return e.next=5,n({type:"change",payload:{page:0}});case 5:return e.next=7,n({type:"fetch"});case 7:case"end":return e.stop()}},e,this)}),silentFetch:regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.put,e.next=3,n({type:"change",payload:{listSilentLoading:!0}});case 3:return e.next=5,n({type:"fetch"});case 5:case"end":return e.stop()}},e,this)})}};t.default=p},756:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={namespace:"app",state:{windowHeight:window.innerHeight},effects:{}};t.default=n},777:function(e,t,r){var n={"./af":436,"./af.js":436,"./ar":435,"./ar-dz":434,"./ar-dz.js":434,"./ar-kw":433,"./ar-kw.js":433,"./ar-ly":432,"./ar-ly.js":432,"./ar-ma":431,"./ar-ma.js":431,"./ar-sa":430,"./ar-sa.js":430,"./ar-tn":429,"./ar-tn.js":429,"./ar.js":435,"./az":428,"./az.js":428,"./be":427,"./be.js":427,"./bg":426,"./bg.js":426,"./bm":425,"./bm.js":425,"./bn":424,"./bn.js":424,"./bo":423,"./bo.js":423,"./br":422,"./br.js":422,"./bs":421,"./bs.js":421,"./ca":420,"./ca.js":420,"./cs":419,"./cs.js":419,"./cv":418,"./cv.js":418,"./cy":417,"./cy.js":417,"./da":416,"./da.js":416,"./de":415,"./de-at":414,"./de-at.js":414,"./de-ch":413,"./de-ch.js":413,"./de.js":415,"./dv":412,"./dv.js":412,"./el":411,"./el.js":411,"./en-au":410,"./en-au.js":410,"./en-ca":409,"./en-ca.js":409,"./en-gb":408,"./en-gb.js":408,"./en-ie":407,"./en-ie.js":407,"./en-il":406,"./en-il.js":406,"./en-nz":405,"./en-nz.js":405,"./eo":404,"./eo.js":404,"./es":403,"./es-do":402,"./es-do.js":402,"./es-us":401,"./es-us.js":401,"./es.js":403,"./et":400,"./et.js":400,"./eu":399,"./eu.js":399,"./fa":398,"./fa.js":398,"./fi":397,"./fi.js":397,"./fo":396,"./fo.js":396,"./fr":395,"./fr-ca":394,"./fr-ca.js":394,"./fr-ch":393,"./fr-ch.js":393,"./fr.js":395,"./fy":392,"./fy.js":392,"./gd":391,"./gd.js":391,"./gl":390,"./gl.js":390,"./gom-latn":389,"./gom-latn.js":389,"./gu":388,"./gu.js":388,"./he":387,"./he.js":387,"./hi":386,"./hi.js":386,"./hr":385,"./hr.js":385,"./hu":384,"./hu.js":384,"./hy-am":383,"./hy-am.js":383,"./id":382,"./id.js":382,"./is":381,"./is.js":381,"./it":380,"./it.js":380,"./ja":379,"./ja.js":379,"./jv":378,"./jv.js":378,"./ka":377,"./ka.js":377,"./kk":376,"./kk.js":376,"./km":375,"./km.js":375,"./kn":374,"./kn.js":374,"./ko":373,"./ko.js":373,"./ky":372,"./ky.js":372,"./lb":371,"./lb.js":371,"./lo":370,"./lo.js":370,"./lt":369,"./lt.js":369,"./lv":368,"./lv.js":368,"./me":367,"./me.js":367,"./mi":366,"./mi.js":366,"./mk":365,"./mk.js":365,"./ml":364,"./ml.js":364,"./mn":363,"./mn.js":363,"./mr":362,"./mr.js":362,"./ms":361,"./ms-my":360,"./ms-my.js":360,"./ms.js":361,"./mt":359,"./mt.js":359,"./my":358,"./my.js":358,"./nb":357,"./nb.js":357,"./ne":356,"./ne.js":356,"./nl":355,"./nl-be":354,"./nl-be.js":354,"./nl.js":355,"./nn":353,"./nn.js":353,"./pa-in":352,"./pa-in.js":352,"./pl":351,"./pl.js":351,"./pt":350,"./pt-br":349,"./pt-br.js":349,"./pt.js":350,"./ro":348,"./ro.js":348,"./ru":347,"./ru.js":347,"./sd":346,"./sd.js":346,"./se":345,"./se.js":345,"./si":344,"./si.js":344,"./sk":343,"./sk.js":343,"./sl":342,"./sl.js":342,"./sq":341,"./sq.js":341,"./sr":340,"./sr-cyrl":339,"./sr-cyrl.js":339,"./sr.js":340,"./ss":338,"./ss.js":338,"./sv":337,"./sv.js":337,"./sw":336,"./sw.js":336,"./ta":335,"./ta.js":335,"./te":334,"./te.js":334,"./tet":333,"./tet.js":333,"./tg":332,"./tg.js":332,"./th":331,"./th.js":331,"./tl-ph":330,"./tl-ph.js":330,"./tlh":329,"./tlh.js":329,"./tr":328,"./tr.js":328,"./tzl":327,"./tzl.js":327,"./tzm":326,"./tzm-latn":325,"./tzm-latn.js":325,"./tzm.js":326,"./ug-cn":324,"./ug-cn.js":324,"./uk":323,"./uk.js":323,"./ur":322,"./ur.js":322,"./uz":321,"./uz-latn":320,"./uz-latn.js":320,"./uz.js":321,"./vi":319,"./vi.js":319,"./x-pseudo":318,"./x-pseudo.js":318,"./yo":317,"./yo.js":317,"./zh-cn":316,"./zh-cn.js":316,"./zh-hk":315,"./zh-hk.js":315,"./zh-tw":314,"./zh-tw.js":314};function a(e){var t=o(e);return r(t)}function o(e){var t=n[e];if(!(t+1)){var r=new Error('Cannot find module "'+e+'".');throw r.code="MODULE_NOT_FOUND",r}return t}a.keys=function(){return Object.keys(n)},a.resolve=o,e.exports=a,a.id=777},787:function(e,t){}},[[1035,19,20]]]);
//# sourceMappingURL=main.99d530a6.js.map